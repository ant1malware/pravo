import{a as m,l as x,j as e,C as v}from"./index-SvquseAp.js";import{R as s,L as d}from"./react-vendor-DTkXckhQ.js";import{l as o,F as b,r as h}from"./FavStar-DA837_J-.js";import"./icons-wEjUy8Cq.js";function E(){const[r,n]=s.useState(()=>o());s.useEffect(()=>{const u=()=>n(o());return window.addEventListener("favorites:change",u),window.addEventListener("storage",u),()=>{window.removeEventListener("favorites:change",u),window.removeEventListener("storage",u)}},[]);const l=s.useMemo(()=>r.map(u=>{if(u.kind==="role"){const i=m.find(t=>t.id===u.id);return i?{title:u.title??i.role,url:u.url??`/roles/${i.id}`,kindLabel:"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C"}:null}if(u.kind==="law"){const i=x.find(t=>t.slug===u.id);return i?{title:u.title??i.title,url:u.url??`/laws/${i.slug}`,kindLabel:"\u0417\u0430\u043A\u043E\u043D"}:null}return u.kind==="lawsec"?{title:u.title??u.id,url:u.url??"#",kindLabel:"\u0420\u0430\u0437\u0434\u0435\u043B \u0437\u0430\u043A\u043E\u043D\u0430"}:u.kind==="vu"?{title:u.title??u.id,url:u.url??`/vu/${u.id}`,kindLabel:"\u0412\u0423 \u043C\u0430\u0442\u0435\u0440\u0438\u0430\u043B"}:null}).filter(Boolean),[r]);function c(u,i){h(u,i),n(t=>t.filter(a=>!(a.kind===u&&a.id===i)))}return e.jsxs("div",{className:"min-h-screen text-zinc-900 dark:text-zinc-100",children:[e.jsx("header",{className:"sticky top-0 z-20 border-b border-zinc-200 bg-white/80 backdrop-blur dark:border-zinc-800 dark:bg-zinc-900/70",children:e.jsxs("div",{className:"mx-auto flex max-w-3xl items-center justify-between gap-3 px-4 py-3",children:[e.jsx(d,{to:"/",className:"text-sm underline decoration-dotted hover:no-underline",children:"\u041D\u0430\u0437\u0430\u0434"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("h1",{className:"text-lg font-bold",children:"\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435"}),e.jsx(v,{})]}),e.jsx("span",{})]})}),e.jsx("main",{className:"mx-auto max-w-3xl px-4 py-6",children:l.length?e.jsx("div",{className:"grid gap-2",children:l.map((u,i)=>{const t=r[i];return t?e.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-zinc-200 bg-white/80 p-3 shadow-sm backdrop-blur dark:border-zinc-700 dark:bg-zinc-900/60",children:[e.jsxs(d,{to:u.url,className:"min-w-0",children:[e.jsx("div",{className:"truncate text-sm font-semibold",children:u.title}),e.jsx("div",{className:"text-xs text-zinc-500",children:u.kindLabel})]}),e.jsxs("div",{className:"ml-3 flex items-center gap-2",children:[e.jsx(b,{kind:t.kind,id:t.id,title:u.title,url:u.url,size:"sm"}),e.jsx("button",{className:"btn",onClick:()=>c(t.kind,t.id),title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"})]})]},`${t.kind}:${t.id}`):null})}):e.jsx("div",{className:"card text-sm text-zinc-600 dark:text-zinc-300",children:"\u041F\u043E\u043A\u0430 \u043F\u0443\u0441\u0442\u043E. \u0414\u043E\u0431\u0430\u0432\u043B\u044F\u0439\u0442\u0435 \u0441\u0442\u0430\u0442\u044C\u0438, \u0440\u0430\u0437\u0434\u0435\u043B\u044B \u0437\u0430\u043A\u043E\u043D\u043E\u0432, \u0440\u043E\u043B\u0438 \u0438 \u043C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u044B \u0412\u0423 \u2014 \u043E\u043D\u0438 \u043F\u043E\u044F\u0432\u044F\u0442\u0441\u044F \u0437\u0434\u0435\u0441\u044C."})})]})}export{E as default};
