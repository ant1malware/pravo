import{b as ae,c as ce,e as ne,f as re,h as oe,k as ie,j as t,A as z,B as U,m as S,s as D,n as I,o as le,p as de,q as me,t as ge,u as ue,w as xe}from"./index-C8lo7uRQ.js";import{R as n,L as he}from"./react-vendor-DStf8yZ1.js";import"./icons-CWwV2OkG.js";const pe=Object.keys(U),h=U,b=({title:c,desc:r,children:a})=>t.jsxs("section",{className:"card",children:[t.jsx("h2",{className:"mb-1 text-base font-semibold",children:c}),r&&t.jsx("p",{className:"mb-3 text-xs text-zinc-500 dark:text-zinc-400",children:r}),a]}),P=({children:c})=>t.jsx("div",{className:"seg",children:c}),l=({active:c,onClick:r,children:a})=>t.jsx("button",{type:"button",className:"seg-item","aria-pressed":c,onClick:r,children:a});function be(){document.documentElement.style.setProperty("background-color","transparent","important"),document.body.style.setProperty("background-color","transparent","important")}function ye(c,r){const a=Math.max(0,Math.min(.85,c));if(!r)return`linear-gradient(rgba(0,0,0,${a}), rgba(0,0,0,${a}))`;const g=Math.max(0,a-.15),p=Math.min(.95,a+.15);return`radial-gradient(1200px 900px at 50% -10%, rgba(0,0,0,${g}) 0%, rgba(0,0,0,${a}) 55%, rgba(0,0,0,${p}) 100%)`}const je=()=>typeof navigator<"u"&&/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);function d(c,r=!0,a=.35,g=!0){be();const p=document.body;if(!c){p.style.setProperty("background","transparent","important");return}const f=ye(a,g),_=r&&!je()?"fixed":"scroll",N=`${f}, url("${c}") center / cover no-repeat ${_}`;p.style.setProperty("background",N,"important")}function fe(){const[c,r]=n.useState(()=>ae()??"indigo"),[a,g]=n.useState(()=>localStorage.getItem("accent_custom")||"#6366F1"),[p,f]=n.useState(()=>ce()),[_,N]=n.useState(()=>ne()),[y,O]=n.useState(()=>re()),[j,K]=n.useState(()=>oe()),[C,Y]=n.useState(()=>ie()),[o,$]=n.useState(()=>localStorage.getItem("bg_preset")||"none"),[m,A]=n.useState(()=>Number(localStorage.getItem("bg_overlay")||.35)),[u,B]=n.useState(()=>localStorage.getItem("bg_fixed")!=="0"),[x,F]=n.useState(()=>localStorage.getItem("bg_smart")!=="0");n.useEffect(()=>{o==="none"?d(void 0):d(h[o],u,m,x)},[o,m,u,x]);const i=document.documentElement,R=e=>{i.classList.remove("ui-shadow-none","ui-shadow-soft","ui-shadow-strong"),i.classList.add(`ui-shadow-${e}`)},E=e=>{i.classList.remove("ui-radius-subtle","ui-radius-standard","ui-radius-rounded"),i.classList.add(`ui-radius-${e}`)},G=e=>{i.classList.add("has-glass"),i.style.setProperty("--glass-blur",`${e}px`)},T=e=>{const s=z[e];s!=null&&s[500]&&(s!=null&&s[600])&&(i.style.setProperty("--accent-500",s[500]),i.style.setProperty("--accent-600",s[600]))};n.useEffect(()=>{R(y),E(j),G(C),T(c)},[]);const q=()=>{try{localStorage.removeItem("theme"),S(D()?"dark":"light")}catch{}},H=()=>{try{S("light")}catch{}},J=()=>{try{S("dark")}catch{}},Q=e=>{r(e);try{I(e)}catch{}T(e)},w=e=>{g(e);try{le(e),I(c)}catch{}i.style.setProperty("--accent-500",e),i.style.setProperty("--accent-600",e)},M=e=>{$(e);try{localStorage.setItem("bg_preset",e)}catch{}e==="none"?d(void 0):d(h[e],u,m,x)},V=e=>{const s=Math.max(0,Math.min(.85,e));A(s);try{localStorage.setItem("bg_overlay",String(s))}catch{}o!=="none"&&d(h[o],u,s,x)},W=e=>{B(e);try{localStorage.setItem("bg_fixed",e?"1":"0")}catch{}o!=="none"&&d(h[o],e,m,x)},X=e=>{F(e);try{localStorage.setItem("bg_smart",e?"1":"0")}catch{}o!=="none"&&d(h[o],u,m,e)},Z=e=>{f(e);try{ue(e)}catch{}},ee=e=>{N(e);try{xe(e)}catch{}},k=e=>{O(e);try{de(e)}catch{}R(e)},v=e=>{K(e);try{me(e)}catch{}E(e)},L=e=>{Y(e);try{ge(e)}catch{}G(e)},te=()=>{["bg_preset","bg_overlay","bg_fixed","bg_smart","accent_custom"].forEach(e=>localStorage.removeItem(e));try{S(D()?"dark":"light")}catch{}try{I("indigo")}catch{}d(void 0,!0,.35,!0),r("indigo"),g("#6366F1"),$("none"),A(.35),B(!0),F(!0),Z("standard"),ee(100),k("soft"),v("standard"),L(8)},se=Object.keys(z);return t.jsx("div",{className:"min-h-screen text-zinc-900 dark:text-zinc-100 relative",children:t.jsxs("div",{className:"relative z-[var(--app-content-z,1)]",children:[t.jsx("header",{className:"sticky top-0 z-20 border-b border-zinc-200 dark:border-zinc-800 glass",children:t.jsxs("div",{className:"mx-auto flex max-w-5xl items-center justify-between gap-3 px-4 py-3",children:[t.jsx(he,{to:"/",className:"text-sm font-medium text-zinc-700 underline decoration-dotted hover:no-underline dark:text-zinc-200",children:"На главную"}),t.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"Настройки"})]})}),t.jsx("main",{className:"mx-auto max-w-5xl px-4 py-6",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsx(b,{title:"Тема",desc:"Светлая / тёмная / системная.",children:t.jsxs(P,{children:[t.jsx(l,{onClick:q,children:"Системная"}),t.jsx(l,{onClick:H,children:"Светлая"}),t.jsx(l,{onClick:J,children:"Тёмная"})]})}),t.jsxs(b,{title:"Карточки",desc:"Тени, скругления и «стекло» (размытие под шапкой).",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:"Тени"}),t.jsxs(P,{children:[t.jsx(l,{active:y==="none",onClick:()=>k("none"),children:"Нет"}),t.jsx(l,{active:y==="soft",onClick:()=>k("soft"),children:"Мягкие"}),t.jsx(l,{active:y==="strong",onClick:()=>k("strong"),children:"Сильные"})]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:"Скругления"}),t.jsxs(P,{children:[t.jsx(l,{active:j==="subtle",onClick:()=>v("subtle"),children:"Аккуратные"}),t.jsx(l,{active:j==="standard",onClick:()=>v("standard"),children:"Стандарт"}),t.jsx(l,{active:j==="rounded",onClick:()=>v("rounded"),children:"Круглые"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-xs text-zinc-500 dark:text-zinc-400",children:["«Стекло» (шапка): ",t.jsxs("span",{className:"font-medium",children:[C,"px"]})]}),t.jsx("input",{type:"range",min:0,max:24,step:1,value:C,onChange:e=>L(parseInt(e.target.value)),className:"slider",style:{color:"var(--accent-600)"}})]})]}),t.jsxs(b,{title:"Акцент",desc:"Цвет активных элементов. Выбери из палитры или задай свой.",children:[t.jsx("div",{className:"accent-grid mb-3",children:se.map(e=>{const s=z[e];return t.jsx("button",{className:`accent-swatch ${c===e?"is-active":""}`,style:{"--sw1":s==null?void 0:s[500],"--sw2":s==null?void 0:s[600]},title:e,onClick:()=>Q(e)},e)})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:a,onChange:e=>w(e.target.value),className:"input w-24",title:"Пользовательский акцент"}),t.jsx("input",{type:"text",value:a,onChange:e=>w(e.target.value),className:"input w-40",placeholder:"#RRGGBB"}),t.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>w(a),children:"Применить"})]})]}),t.jsxs(b,{title:"Фон",desc:"Файлы лежат в /public/img. Работает и в тёмной теме.",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsx("button",{type:"button",onClick:()=>M("none"),className:`h-20 w-full rounded-lg border ${o==="none"?"ring-2 ring-[var(--accent-600)]":""}`,children:"Нет фона"}),pe.map(e=>t.jsx("button",{type:"button",title:e.toUpperCase(),onClick:()=>M(e),className:`h-20 w-full rounded-lg border ${o===e?"ring-2 ring-[var(--accent-600)]":""}`,style:{backgroundImage:`url("${h[e]}")`,backgroundSize:"cover",backgroundPosition:"center"}},e))]}),t.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:["Затемнение: ",t.jsxs("span",{className:"font-medium",children:[Math.round(m*100),"%"]})]}),t.jsx("input",{type:"range",min:0,max:.85,step:.05,value:m,onChange:e=>V(parseFloat(e.target.value)),className:"slider",style:{color:"var(--accent-600)"}})]}),t.jsxs("label",{className:"mt-1 inline-flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:e=>W(e.target.checked)}),"Фиксировать фон"]}),t.jsxs("label",{className:"mt-1 inline-flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:x,onChange:e=>X(e.target.checked)}),"Умное затемнение"]})]})]}),t.jsx(b,{title:"Сброс",desc:"Вернуть аккуратные дефолты.",children:t.jsx("button",{type:"button",onClick:te,className:"btn btn-primary",children:"Сбросить настройки"})})]})})]})})}export{fe as default};
