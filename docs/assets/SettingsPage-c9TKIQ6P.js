import{I as ls,J as os,K as rs,L as ds,M as gs,N as ms,O as us,P as f,j as s,Q as x,R,S as hs,T as v,U as ps,V as bs,W as xs,X as ys,Y as js,Z as Ns}from"./index-BW22xFmf.js";import{R as a,L as _s}from"./react-vendor-DTkXckhQ.js";import"./icons-uJbpPyzE.js";const d=l=>{const g="/pravo/",o=String(l||"").replace(/^\/+/,"");return`${g}${o}`},fs={bg1:d("img/bg1.png"),bg2:d("img/bg2.png"),bg3:d("img/bg3.png"),bg4:d("img/bg4.png"),bg5:d("img/bg5.png")};function Ts(){const[l,g]=a.useState(()=>ls()??"indigo"),[o,S]=a.useState(()=>localStorage.getItem("accent_custom")||"#6366F1"),[y,B]=a.useState(()=>os()),[vs,L]=a.useState(()=>rs()),[m,G]=a.useState(()=>ds()),[u,M]=a.useState(()=>gs()),[O,D]=a.useState(()=>ms()),[k,U]=a.useState(()=>us()),[Ss,ks]=a.useState(()=>localStorage.getItem("forum:2fa_enabled")==="1"),[Cs,$s]=a.useState(()=>localStorage.getItem("forum:2fa_secret")||""),[ws,As]=a.useState(""),[j,H]=a.useState(()=>localStorage.getItem("bg_preset")||"none"),[C,K]=a.useState(()=>Number(localStorage.getItem("bg_overlay")||.35)),[$,Y]=a.useState(()=>localStorage.getItem("bg_fixed")!=="0"),[w,z]=a.useState(()=>localStorage.getItem("bg_smart")!=="0"),n=document.documentElement;a.useEffect(()=>{j==="none"?E(void 0):E(fs[j],$,C,w)},[j,C,$,w]);const A=t=>{n.classList.remove("ui-shadow-none","ui-shadow-soft","ui-shadow-strong"),n.classList.add(`ui-shadow-${t}`)},P=t=>{n.classList.remove("ui-radius-subtle","ui-radius-standard","ui-radius-rounded"),n.classList.add(`ui-radius-${t}`)},F=t=>{n.classList.add("has-glass"),n.style.setProperty("--glass-blur",`${t}px`)},I=t=>{const e=f[t];e!=null&&e[500]&&(e!=null&&e[600])&&(n.style.setProperty("--accent-500",e[500]),n.style.setProperty("--accent-600",e[600]))};a.useEffect(()=>{A(m),P(u),F(O),I(l)},[]);const J=()=>{try{localStorage.removeItem("theme"),x(R()?"dark":"light")}catch{}},Q=()=>{try{x("light")}catch{}},V=()=>{try{x("dark")}catch{}},T=t=>{U(t);try{hs(t)}catch{}},W=t=>{g(t);try{v(t)}catch{}I(t)},N=t=>{S(t);try{ps(t),v(l)}catch{}n.style.setProperty("--accent-500",t),n.style.setProperty("--accent-600",t)},_=t=>{B(t);try{bs(t)}catch{}},X=t=>{L(t);try{js(t)}catch{}},h=t=>{G(t);try{xs(t)}catch{}A(t)},p=t=>{M(t);try{ys(t)}catch{}P(t)},Z=t=>{D(t);try{Ns(t)}catch{}F(t)},q=()=>{["bg_preset","bg_overlay","bg_fixed","bg_smart","accent_custom"].forEach(t=>localStorage.removeItem(t));try{x(R()?"dark":"light")}catch{}try{v("indigo")}catch{}g("indigo"),S("#6366F1"),H("none"),K(.35),Y(!0),z(!0),_("standard"),X(1),h("soft"),p("standard"),Z(8)},ss=a.useMemo(()=>Object.keys(f),[]);function ts(){document.documentElement.style.setProperty("background-color","transparent","important"),document.body.style.setProperty("background-color","transparent","important")}const es=()=>typeof navigator<"u"&&/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);function as(t,e){const i=Math.max(0,Math.min(.85,t));if(!e)return`linear-gradient(rgba(0,0,0,${i}), rgba(0,0,0,${i}))`;const r=Math.max(0,i-.15),c=Math.min(.95,i+.15);return`radial-gradient(1200px 900px at 50% -10%, rgba(0,0,0,${r}) 0%, rgba(0,0,0,${i}) 55%, rgba(0,0,0,${c}) 100%)`}function E(t,e=!0,i=.35,r=!0){ts();const c=document.body;if(!t){c.style.setProperty("background","transparent","important"),c.style.removeProperty("background-size"),c.style.removeProperty("background-repeat"),c.style.removeProperty("background-attachment"),c.style.removeProperty("background-position");return}const cs=as(i,r),is=e&&!es()?"fixed":"scroll";c.style.setProperty("background",`${cs}, url("${t}") center / cover no-repeat ${is}`,"important")}const ns=({children:t,className:e})=>s.jsx("section",{className:`card settings-hero settings-hero--classic ${e??""}`,children:t}),b=({title:t,desc:e,className:i,children:r})=>{const c=s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold tracking-tight text-[color:var(--text-1)]",children:t}),e&&s.jsx("p",{className:"text-sm text-[color:var(--text-2)]",children:e})]}),s.jsx("div",{className:"flex flex-col gap-4",children:r})]});return s.jsx("section",{className:`card settings-panel settings-panel--classic ${i??""}`,children:c})};return s.jsx("div",{className:"settings-shell",children:s.jsxs("div",{className:"settings-shell__inner",children:[s.jsxs("header",{className:"settings-breadcrumb",children:[s.jsx(_s,{to:"/",className:"settings-breadcrumb__link",children:"Главная"}),s.jsx("span",{className:"settings-breadcrumb__separator",children:"/"}),s.jsx("span",{children:"Настройки"})]}),s.jsx(ns,{children:s.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-end md:justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-hero__badge",children:"Центр персонализации"}),s.jsx("h1",{className:"settings-hero__title",children:"Подберите настроение интерфейса"}),s.jsx("p",{className:"settings-hero__subtitle",children:"Управляйте темой, фоном, шрифтами и визуальными эффектами. Все изменения применяются мгновенно."})]}),s.jsxs("div",{className:"settings-hero__stats",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Плотность"}),s.jsx("span",{className:"settings-hero__stats-value",children:y==="compact"?"Компактная":"Стандартная"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Тема"}),s.jsx("span",{className:"settings-hero__stats-value",children:document.documentElement.classList.contains("dark")?"Тёмная":"Светлая"})]})]})]})}),s.jsxs("main",{className:"settings-grid",children:[s.jsxs(b,{title:"Тема",desc:"Переключайтесь между системной, светлой и тёмной темой.",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-label",children:"Тема интерфейса"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:"settings-seg__item",onClick:J,children:"Системная"}),s.jsx("button",{type:"button",className:"settings-seg__item",onClick:Q,children:"Светлая"}),s.jsx("button",{type:"button",className:"settings-seg__item",onClick:V,children:"Тёмная"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-label",children:"Анимации интерфейса"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${k?"is-active":""}`,onClick:()=>T(!0),children:"Включены"}),s.jsx("button",{type:"button",className:`settings-seg__item ${k?"":"is-active"}`,onClick:()=>T(!1),children:"Отключены"})]}),s.jsx("p",{className:"settings-help",children:"Отключает анимации и переходы для более статичного интерфейса."})]})]}),s.jsxs(b,{title:"Геометрия и эффекты",desc:"Настройте плотность интерфейса, радиусы элементов и глубину стекла.",children:[s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Плотность элементов"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${y==="standard"?"is-active":""}`,onClick:()=>_("standard"),children:"Стандартная"}),s.jsx("button",{type:"button",className:`settings-seg__item ${y==="compact"?"is-active":""}`,onClick:()=>_("compact"),children:"Компактная"})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Силуэт и тени"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${m==="none"?"is-active":""}`,onClick:()=>h("none"),children:"Без тени"}),s.jsx("button",{type:"button",className:`settings-seg__item ${m==="soft"?"is-active":""}`,onClick:()=>h("soft"),children:"Мягкие"}),s.jsx("button",{type:"button",className:`settings-seg__item ${m==="strong"?"is-active":""}`,onClick:()=>h("strong"),children:"Выразительные"})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Скругление"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${u==="subtle"?"is-active":""}`,onClick:()=>p("subtle"),children:"Сдержанное"}),s.jsx("button",{type:"button",className:`settings-seg__item ${u==="standard"?"is-active":""}`,onClick:()=>p("standard"),children:"Стандартное"}),s.jsx("button",{type:"button",className:`settings-seg__item ${u==="rounded"?"is-active":""}`,onClick:()=>p("rounded"),children:"Закруглённое"})]})]})]}),s.jsxs(b,{title:"Цвет акцента",desc:"Выберите основной цвет акцента для кнопок и ссылок.",children:[s.jsx("div",{className:"accent-grid",children:ss.map(t=>{const e=f[t];return s.jsx("button",{className:`accent-swatch ${l===t?"is-active":""}`,style:{"--sw1":e==null?void 0:e[500],"--sw2":e==null?void 0:e[600]},title:t,onClick:()=>W(t)},t)})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("input",{type:"color",value:o,onChange:t=>N(t.target.value),className:"input w-24",title:"Пользовательский акцент"}),s.jsx("input",{type:"text",value:o,onChange:t=>N(t.target.value),className:"input w-40",placeholder:"#RRGGBB"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>N(o),children:"Применить"})]})]}),s.jsx(b,{title:"Сброс",desc:"Сбросить настройки темы и интерфейса к значениям по умолчанию.",children:s.jsx("button",{type:"button",onClick:q,className:"btn btn-primary",children:"Сбросить персонализацию"})})]})]})})}export{Ts as default};
