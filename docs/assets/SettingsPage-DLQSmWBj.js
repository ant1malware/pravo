import{b as re,c as oe,e as ie,f as le,h as de,k as ge,j as t,A as I,m as f,s as O,n as _,o as me,p as ue,q as xe,t as he,u as be,w as pe}from"./index-BWWNpG1i.js";import{R as r,L as ye}from"./react-vendor-DStf8yZ1.js";import"./icons-CWwV2OkG.js";var K,Y;const P=((Y=(K=import.meta)==null?void 0:K.env)==null?void 0:Y.BASE_URL)??"/",p=a=>{const c=a.replace(/^\//,"");return(P.endsWith("/")?P:P+"/")+c},je=["bg1","bg2","bg3","bg4","bg5"],h={bg1:p("/img/bg1.png"),bg2:p("/img/bg2.png"),bg3:p("/img/bg3.png"),bg4:p("/img/bg4.png"),bg5:p("/img/bg5.png")},y=({title:a,desc:c,children:n})=>t.jsxs("section",{className:"card",children:[t.jsx("h2",{className:"mb-1 text-base font-semibold",children:a}),c&&t.jsx("p",{className:"mb-3 text-xs text-zinc-500 dark:text-zinc-400",children:c}),n]}),A=({children:a})=>t.jsx("div",{className:"seg",children:a}),l=({active:a,onClick:c,children:n})=>t.jsx("button",{type:"button",className:"seg-item","aria-pressed":a,onClick:c,children:n});function ke(){document.documentElement.style.setProperty("background-color","transparent","important"),document.body.style.setProperty("background-color","transparent","important")}function ve(a,c){const n=Math.max(0,Math.min(.85,a));if(!c)return`linear-gradient(rgba(0,0,0,${n}), rgba(0,0,0,${n}))`;const m=Math.max(0,n-.15),b=Math.min(.95,n+.15);return`radial-gradient(1200px 900px at 50% -10%, rgba(0,0,0,${m}) 0%, rgba(0,0,0,${n}) 55%, rgba(0,0,0,${b}) 100%)`}const Se=()=>typeof navigator<"u"&&/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);function d(a,c=!0,n=.35,m=!0){ke();const b=document.body;if(!a){b.style.setProperty("background","transparent","important");return}const N=ve(n,m),$=c&&!Se()?"fixed":"scroll",C=`${N}, url("${a}") center / cover no-repeat ${$}`;b.style.setProperty("background",C,"important")}function we(){const[a,c]=r.useState(()=>re()??"indigo"),[n,m]=r.useState(()=>localStorage.getItem("accent_custom")||"#6366F1"),[b,N]=r.useState(()=>oe()),[$,C]=r.useState(()=>ie()),[j,q]=r.useState(()=>le()),[k,H]=r.useState(()=>de()),[w,W]=r.useState(()=>ge()),[o,B]=r.useState(()=>localStorage.getItem("bg_preset")||"none"),[g,E]=r.useState(()=>Number(localStorage.getItem("bg_overlay")||.35)),[u,F]=r.useState(()=>localStorage.getItem("bg_fixed")!=="0"),[x,R]=r.useState(()=>localStorage.getItem("bg_smart")!=="0");r.useEffect(()=>{o==="none"?d(void 0):d(h[o],u,g,x)},[o,g,u,x]);const i=document.documentElement,T=e=>{i.classList.remove("ui-shadow-none","ui-shadow-soft","ui-shadow-strong"),i.classList.add(`ui-shadow-${e}`)},G=e=>{i.classList.remove("ui-radius-subtle","ui-radius-standard","ui-radius-rounded"),i.classList.add(`ui-radius-${e}`)},L=e=>{i.classList.add("has-glass"),i.style.setProperty("--glass-blur",`${e}px`)},M=e=>{const s=I[e];s!=null&&s[500]&&(s!=null&&s[600])&&(i.style.setProperty("--accent-500",s[500]),i.style.setProperty("--accent-600",s[600]))};r.useEffect(()=>{T(j),G(k),L(w),M(a)},[]);const J=()=>{try{localStorage.removeItem("theme"),f(O()?"dark":"light")}catch{}},Q=()=>{try{f("light")}catch{}},V=()=>{try{f("dark")}catch{}},X=e=>{c(e);try{_(e)}catch{}M(e)},z=e=>{m(e);try{me(e),_(a)}catch{}i.style.setProperty("--accent-500",e),i.style.setProperty("--accent-600",e)},U=e=>{B(e);try{localStorage.setItem("bg_preset",e)}catch{}e==="none"?d(void 0):d(h[e],u,g,x)},Z=e=>{const s=Math.max(0,Math.min(.85,e));E(s);try{localStorage.setItem("bg_overlay",String(s))}catch{}o!=="none"&&d(h[o],u,s,x)},ee=e=>{F(e);try{localStorage.setItem("bg_fixed",e?"1":"0")}catch{}o!=="none"&&d(h[o],e,g,x)},te=e=>{R(e);try{localStorage.setItem("bg_smart",e?"1":"0")}catch{}o!=="none"&&d(h[o],u,g,e)},se=e=>{N(e);try{be(e)}catch{}},ae=e=>{C(e);try{pe(e)}catch{}},v=e=>{q(e);try{ue(e)}catch{}T(e)},S=e=>{H(e);try{xe(e)}catch{}G(e)},D=e=>{W(e);try{he(e)}catch{}L(e)},ne=()=>{["bg_preset","bg_overlay","bg_fixed","bg_smart","accent_custom"].forEach(e=>localStorage.removeItem(e));try{f(O()?"dark":"light")}catch{}try{_("indigo")}catch{}d(void 0,!0,.35,!0),c("indigo"),m("#6366F1"),B("none"),E(.35),F(!0),R(!0),se("standard"),ae(100),v("soft"),S("standard"),D(8)},ce=Object.keys(I);return t.jsx("div",{className:"min-h-screen text-zinc-900 dark:text-zinc-100 relative",children:t.jsxs("div",{className:"relative z-[var(--app-content-z,1)]",children:[t.jsx("header",{className:"sticky top-0 z-20 border-b border-zinc-200 dark:border-zinc-800 glass",children:t.jsxs("div",{className:"mx-auto flex max-w-5xl items-center justify-between gap-3 px-4 py-3",children:[t.jsx(ye,{to:"/",className:"text-sm font-medium text-zinc-700 underline decoration-dotted hover:no-underline dark:text-zinc-200",children:"На главную"}),t.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"Настройки"})]})}),t.jsx("main",{className:"mx-auto max-w-5xl px-4 py-6",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsx(y,{title:"Тема",desc:"Светлая / тёмная / системная.",children:t.jsxs(A,{children:[t.jsx(l,{onClick:J,children:"Системная"}),t.jsx(l,{onClick:Q,children:"Светлая"}),t.jsx(l,{onClick:V,children:"Тёмная"})]})}),t.jsxs(y,{title:"Карточки",desc:"Тени, скругления и «стекло» (размытие под шапкой).",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:"Тени"}),t.jsxs(A,{children:[t.jsx(l,{active:j==="none",onClick:()=>v("none"),children:"Нет"}),t.jsx(l,{active:j==="soft",onClick:()=>v("soft"),children:"Мягкие"}),t.jsx(l,{active:j==="strong",onClick:()=>v("strong"),children:"Сильные"})]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:"Скругления"}),t.jsxs(A,{children:[t.jsx(l,{active:k==="subtle",onClick:()=>S("subtle"),children:"Аккуратные"}),t.jsx(l,{active:k==="standard",onClick:()=>S("standard"),children:"Стандарт"}),t.jsx(l,{active:k==="rounded",onClick:()=>S("rounded"),children:"Круглые"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-xs text-zinc-500 dark:text-zinc-400",children:["«Стекло» (шапка): ",t.jsxs("span",{className:"font-medium",children:[w,"px"]})]}),t.jsx("input",{type:"range",min:0,max:24,step:1,value:w,onChange:e=>D(parseInt(e.target.value)),className:"slider",style:{color:"var(--accent-600)"}})]})]}),t.jsxs(y,{title:"Акцент",desc:"Цвет активных элементов. Выбери из палитры или задай свой.",children:[t.jsx("div",{className:"accent-grid mb-3",children:ce.map(e=>{const s=I[e];return t.jsx("button",{className:`accent-swatch ${a===e?"is-active":""}`,style:{"--sw1":s==null?void 0:s[500],"--sw2":s==null?void 0:s[600]},title:e,onClick:()=>X(e)},e)})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:n,onChange:e=>z(e.target.value),className:"input w-24",title:"Пользовательский акцент"}),t.jsx("input",{type:"text",value:n,onChange:e=>z(e.target.value),className:"input w-40",placeholder:"#RRGGBB"}),t.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>z(n),children:"Применить"})]})]}),t.jsxs(y,{title:"Фон",desc:"Файлы лежат в /public/img. Работает и в тёмной теме.",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsx("button",{type:"button",onClick:()=>U("none"),className:`h-20 w-full rounded-lg border ${o==="none"?"ring-2 ring-[var(--accent-600)]":""}`,children:"Нет фона"}),je.map(e=>t.jsx("button",{type:"button",title:e.toUpperCase(),onClick:()=>U(e),className:`h-20 w-full rounded-lg border ${o===e?"ring-2 ring-[var(--accent-600)]":""}`,style:{backgroundImage:`url("${h[e]}")`,backgroundSize:"cover",backgroundPosition:"center"}},e))]}),t.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:["Затемнение: ",t.jsxs("span",{className:"font-medium",children:[Math.round(g*100),"%"]})]}),t.jsx("input",{type:"range",min:0,max:.85,step:.05,value:g,onChange:e=>Z(parseFloat(e.target.value)),className:"slider",style:{color:"var(--accent-600)"}})]}),t.jsxs("label",{className:"mt-1 inline-flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:e=>ee(e.target.checked)}),"Фиксировать фон"]}),t.jsxs("label",{className:"mt-1 inline-flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:x,onChange:e=>te(e.target.checked)}),"Умное затемнение"]})]})]}),t.jsx(y,{title:"Сброс",desc:"Вернуть аккуратные дефолты.",children:t.jsx("button",{type:"button",onClick:ne,className:"btn btn-primary",children:"Сбросить настройки"})})]})})]})})}export{we as default};
