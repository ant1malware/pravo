import{c as ae,e as ne,f as ce,h as re,k as oe,m as ie,j as t,A as I,n as f,s as U,o as P,p as le,q as de,t as me,u as ge,B as ue,w as xe,x as he}from"./index-BLohtbGO.js";import{R as c,L as be}from"./react-vendor-DTkXckhQ.js";import{a as p}from"./asset-ZvONeEnI.js";import"./icons-mdlXgeZ1.js";const pe=Object.keys(ue),h={bg1:p("img/bg1.png"),bg2:p("img/bg2.png"),bg3:p("img/bg3.png"),bg4:p("img/bg4.png"),bg5:p("img/bg5.png")},y=({title:n,desc:r,children:a})=>t.jsxs("section",{className:"card",children:[t.jsx("h2",{className:"mb-1 text-base font-semibold",children:n}),r&&t.jsx("p",{className:"mb-3 text-xs text-zinc-500 dark:text-zinc-400",children:r}),a]}),_=({children:n})=>t.jsx("div",{className:"seg",children:n}),l=({active:n,onClick:r,children:a})=>t.jsx("button",{type:"button",className:"seg-item","aria-pressed":n,onClick:r,children:a});function ye(){document.documentElement.style.setProperty("background-color","transparent","important"),document.body.style.setProperty("background-color","transparent","important")}function je(n,r){const a=Math.max(0,Math.min(.85,n));if(!r)return`linear-gradient(rgba(0,0,0,${a}), rgba(0,0,0,${a}))`;const g=Math.max(0,a-.15),b=Math.min(.95,a+.15);return`radial-gradient(1200px 900px at 50% -10%, rgba(0,0,0,${g}) 0%, rgba(0,0,0,${a}) 55%, rgba(0,0,0,${b}) 100%)`}const ke=()=>typeof navigator<"u"&&/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);function d(n,r=!0,a=.35,g=!0){ye();const b=document.body;if(!n){b.style.setProperty("background","transparent","important");return}const N=je(a,g),$=r&&!ke()?"fixed":"scroll",C=`${N}, url("${n}") center / cover no-repeat ${$}`;b.style.setProperty("background",C,"important")}function Ce(){const[n,r]=c.useState(()=>ae()??"indigo"),[a,g]=c.useState(()=>localStorage.getItem("accent_custom")||"#6366F1"),[b,N]=c.useState(()=>ne()),[$,C]=c.useState(()=>ce()),[j,O]=c.useState(()=>re()),[k,K]=c.useState(()=>oe()),[w,Y]=c.useState(()=>ie()),[o,A]=c.useState(()=>localStorage.getItem("bg_preset")||"none"),[m,B]=c.useState(()=>Number(localStorage.getItem("bg_overlay")||.35)),[u,F]=c.useState(()=>localStorage.getItem("bg_fixed")!=="0"),[x,R]=c.useState(()=>localStorage.getItem("bg_smart")!=="0");c.useEffect(()=>{o==="none"?d(void 0):d(h[o],u,m,x)},[o,m,u,x]);const i=document.documentElement,E=e=>{i.classList.remove("ui-shadow-none","ui-shadow-soft","ui-shadow-strong"),i.classList.add(`ui-shadow-${e}`)},G=e=>{i.classList.remove("ui-radius-subtle","ui-radius-standard","ui-radius-rounded"),i.classList.add(`ui-radius-${e}`)},T=e=>{i.classList.add("has-glass"),i.style.setProperty("--glass-blur",`${e}px`)},M=e=>{const s=I[e];s!=null&&s[500]&&(s!=null&&s[600])&&(i.style.setProperty("--accent-500",s[500]),i.style.setProperty("--accent-600",s[600]))};c.useEffect(()=>{E(j),G(k),T(w),M(n)},[]);const q=()=>{try{localStorage.removeItem("theme"),f(U()?"dark":"light")}catch{}},H=()=>{try{f("light")}catch{}},J=()=>{try{f("dark")}catch{}},Q=e=>{r(e);try{P(e)}catch{}M(e)},z=e=>{g(e);try{le(e),P(n)}catch{}i.style.setProperty("--accent-500",e),i.style.setProperty("--accent-600",e)},L=e=>{A(e);try{localStorage.setItem("bg_preset",e)}catch{}e==="none"?d(void 0):d(h[e],u,m,x)},V=e=>{const s=Math.max(0,Math.min(.85,e));B(s);try{localStorage.setItem("bg_overlay",String(s))}catch{}o!=="none"&&d(h[o],u,s,x)},W=e=>{F(e);try{localStorage.setItem("bg_fixed",e?"1":"0")}catch{}o!=="none"&&d(h[o],e,m,x)},X=e=>{R(e);try{localStorage.setItem("bg_smart",e?"1":"0")}catch{}o!=="none"&&d(h[o],u,m,e)},Z=e=>{N(e);try{xe(e)}catch{}},ee=e=>{C(e);try{he(e)}catch{}},v=e=>{O(e);try{de(e)}catch{}E(e)},S=e=>{K(e);try{me(e)}catch{}G(e)},D=e=>{Y(e);try{ge(e)}catch{}T(e)},te=()=>{["bg_preset","bg_overlay","bg_fixed","bg_smart","accent_custom"].forEach(e=>localStorage.removeItem(e));try{f(U()?"dark":"light")}catch{}try{P("indigo")}catch{}d(void 0,!0,.35,!0),r("indigo"),g("#6366F1"),A("none"),B(.35),F(!0),R(!0),Z("standard"),ee(100),v("soft"),S("standard"),D(8)},se=Object.keys(I);return t.jsx("div",{className:"min-h-screen text-zinc-900 dark:text-zinc-100 relative",children:t.jsxs("div",{className:"relative z-[var(--app-content-z,1)]",children:[t.jsx("header",{className:"sticky top-0 z-20 border-b border-zinc-200 dark:border-zinc-800 glass",children:t.jsxs("div",{className:"mx-auto flex max-w-5xl items-center justify-between gap-3 px-4 py-3",children:[t.jsx(be,{to:"/",className:"text-sm font-medium text-zinc-700 underline decoration-dotted hover:no-underline dark:text-zinc-200",children:"На главную"}),t.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"Настройки"})]})}),t.jsx("main",{className:"mx-auto max-w-5xl px-4 py-6",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsx(y,{title:"Тема",desc:"Светлая / тёмная / системная.",children:t.jsxs(_,{children:[t.jsx(l,{onClick:q,children:"Системная"}),t.jsx(l,{onClick:H,children:"Светлая"}),t.jsx(l,{onClick:J,children:"Тёмная"})]})}),t.jsxs(y,{title:"Карточки",desc:"Тени, скругления и «стекло» (размытие под шапкой).",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:"Тени"}),t.jsxs(_,{children:[t.jsx(l,{active:j==="none",onClick:()=>v("none"),children:"Нет"}),t.jsx(l,{active:j==="soft",onClick:()=>v("soft"),children:"Мягкие"}),t.jsx(l,{active:j==="strong",onClick:()=>v("strong"),children:"Сильные"})]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:"Скругления"}),t.jsxs(_,{children:[t.jsx(l,{active:k==="subtle",onClick:()=>S("subtle"),children:"Аккуратные"}),t.jsx(l,{active:k==="standard",onClick:()=>S("standard"),children:"Стандарт"}),t.jsx(l,{active:k==="rounded",onClick:()=>S("rounded"),children:"Круглые"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-xs text-zinc-500 dark:text-zinc-400",children:["«Стекло» (шапка): ",t.jsxs("span",{className:"font-medium",children:[w,"px"]})]}),t.jsx("input",{type:"range",min:0,max:24,step:1,value:w,onChange:e=>D(parseInt(e.target.value)),className:"slider",style:{color:"var(--accent-600)"}})]})]}),t.jsxs(y,{title:"Акцент",desc:"Цвет активных элементов. Выбери из палитры или задай свой.",children:[t.jsx("div",{className:"accent-grid mb-3",children:se.map(e=>{const s=I[e];return t.jsx("button",{className:`accent-swatch ${n===e?"is-active":""}`,style:{"--sw1":s==null?void 0:s[500],"--sw2":s==null?void 0:s[600]},title:e,onClick:()=>Q(e)},e)})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:a,onChange:e=>z(e.target.value),className:"input w-24",title:"Пользовательский акцент"}),t.jsx("input",{type:"text",value:a,onChange:e=>z(e.target.value),className:"input w-40",placeholder:"#RRGGBB"}),t.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>z(a),children:"Применить"})]})]}),t.jsxs(y,{title:"Фон",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsx("button",{type:"button",onClick:()=>L("none"),className:`h-20 w-full rounded-lg border ${o==="none"?"ring-2 ring-[var(--accent-600)]":""}`,children:"Нет фона"}),pe.map(e=>t.jsx("button",{type:"button",title:e.toUpperCase(),onClick:()=>L(e),className:`h-20 w-full rounded-lg border ${o===e?"ring-2 ring-[var(--accent-600)]":""}`,style:{backgroundImage:`url("${h[e]}")`,backgroundSize:"cover",backgroundPosition:"center"}},e))]}),t.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:["Затемнение: ",t.jsxs("span",{className:"font-medium",children:[Math.round(m*100),"%"]})]}),t.jsx("input",{type:"range",min:0,max:.85,step:.05,value:m,onChange:e=>V(parseFloat(e.target.value)),className:"slider",style:{color:"var(--accent-600)"}})]}),t.jsxs("label",{className:"mt-1 inline-flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:e=>W(e.target.checked)}),"Фиксировать фон"]}),t.jsxs("label",{className:"mt-1 inline-flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:x,onChange:e=>X(e.target.checked)}),"Умное затемнение"]})]})]}),t.jsx(y,{title:"Сброс",desc:"Вернуть аккуратные дефолты.",children:t.jsx("button",{type:"button",onClick:te,className:"btn btn-primary",children:"Сбросить настройки"})})]})})]})})}export{Ce as default};
