import{j as s}from"./index-CzogGB_8.js";import{u as p,R as i,L as r}from"./react-vendor-DTkXckhQ.js";import{listTopics as h,listSections as u}from"./forumRemote-D5s3MT8n.js";import{F as f}from"./ForumSubnav-Cifjr2zV.js";import"./icons-GyIOUIPt.js";function w(){const{tag:t=""}=p(),[n,o]=i.useState([]),[l,m]=i.useState([]);i.useEffect(()=>{(async()=>{try{o(await h()),m(await u())}catch{}})()},[]);const d=new RegExp(`\\[${(t||"").replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]`,"i"),c=n.filter(e=>d.test(String(e.title||"")));return s.jsx("main",{className:"min-h-screen",style:{background:"#0d0d12",color:"#f8fafc"},children:s.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-6",children:[s.jsx(f,{}),s.jsxs("nav",{className:"mb-3 text-sm opacity-80",children:[s.jsx(r,{to:"/forum",className:"hover:underline",children:"Форум"}),s.jsx("span",{className:"mx-2",children:"/"}),s.jsxs("span",{children:["Тег ",t]})]}),s.jsxs("div",{className:"card p-4",children:[s.jsxs("div",{className:"mb-2 text-xs uppercase tracking-[0.28em] text-zinc-400/80",children:["Темы с тегом [",t,"]"]}),s.jsxs("div",{className:"grid gap-2",children:[c.map(e=>{const a=l.find(x=>x.id===e.sectionId);return s.jsxs(r,{to:`/forum/topic/${e.id}`,className:"rounded-lg border border-white/10 bg-white/[0.03] px-3 py-2 hover:bg-white/[0.06]",children:[s.jsx("div",{className:"text-xs opacity-70",children:(a==null?void 0:a.title)||"Раздел"}),s.jsx("div",{className:"font-semibold truncate",children:e.title})]},e.id)}),!c.length&&s.jsx("div",{className:"text-sm opacity-70",children:"Ничего не найдено."})]})]})]})})}export{w as default};
