import{b as ce,c as ne,e as re,f as oe,h as ie,k as le,j as t,A as C,m as S,s as M,n as _,o as de,p as me,q as ge,t as xe,u as ue,w as he}from"./index-sCzKjHWT.js";import{R as n,L as pe}from"./react-vendor-DStf8yZ1.js";import"./icons-VI-cgFDi.js";const be={BASE_URL:"/pravo/",DEV:!1,MODE:"gh",PROD:!0,SSR:!1,VITE_NOTIF_URL:"https://notifications-worker.wizardiowhy.workers.dev/api/notifications"},w=typeof import.meta<"u"&&be&&"/pravo/"||"/",h={bg1:`${w}img/bg1.png`,bg2:`${w}img/bg2.png`,bg3:`${w}img/bg3.png`},b=({title:c,desc:r,children:a})=>t.jsxs("section",{className:"card",children:[t.jsx("h2",{className:"mb-1 text-base font-semibold",children:c}),r&&t.jsx("p",{className:"mb-3 text-xs text-zinc-500 dark:text-zinc-400",children:r}),a]}),z=({children:c})=>t.jsx("div",{className:"seg",children:c}),l=({active:c,onClick:r,children:a})=>t.jsx("button",{type:"button",className:"seg-item","aria-pressed":c,onClick:r,children:a});function U(){document.documentElement.style.setProperty("background-color","transparent","important"),document.body.style.setProperty("background-color","transparent","important")}function ye(c,r){const a=Math.max(0,Math.min(.85,c));if(!r)return`linear-gradient(rgba(0,0,0,${a}), rgba(0,0,0,${a}))`;const g=Math.max(0,a-.15),p=Math.min(.95,a+.15);return`radial-gradient(1200px 900px at 50% -10%, rgba(0,0,0,${g}) 0%, rgba(0,0,0,${a}) 55%, rgba(0,0,0,${p}) 100%)`}function d(c,r=!0,a=.35,g=!0){U();const p=document.body;if(!c){p.style.setProperty("background","transparent","important");return}const $=`${ye(a,g)}, url("${c}") center / cover no-repeat ${r?"fixed":"scroll"}`;p.style.setProperty("background",$,"important")}function Se(){const[c,r]=n.useState(()=>ce()??"indigo"),[a,g]=n.useState(()=>localStorage.getItem("accent_custom")||"#6366F1"),[p,I]=n.useState(()=>ne()),[$,O]=n.useState(()=>re()),[y,V]=n.useState(()=>oe()),[j,q]=n.useState(()=>ie()),[f,H]=n.useState(()=>le()),[o,E]=n.useState(()=>localStorage.getItem("bg_preset")||"none"),[m,R]=n.useState(()=>Number(localStorage.getItem("bg_overlay")||.35)),[x,F]=n.useState(()=>localStorage.getItem("bg_fixed")!=="0"),[u,P]=n.useState(()=>localStorage.getItem("bg_smart")!=="0");n.useEffect(()=>{U(),o==="none"?d(void 0):d(h[o],x,m,u)},[o,m,x,u]);const i=document.documentElement,A=e=>{i.classList.remove("ui-shadow-none","ui-shadow-soft","ui-shadow-strong"),i.classList.add(`ui-shadow-${e}`)},B=e=>{i.classList.remove("ui-radius-subtle","ui-radius-standard","ui-radius-rounded"),i.classList.add(`ui-radius-${e}`)},T=e=>{i.classList.add("has-glass"),i.style.setProperty("--glass-blur",`${e}px`)},L=e=>{const s=C[e];s!=null&&s[500]&&(s!=null&&s[600])&&(i.style.setProperty("--accent-500",s[500]),i.style.setProperty("--accent-600",s[600]))};n.useEffect(()=>{A(y),B(j),T(f),L(c)},[]);const K=()=>{try{localStorage.removeItem("theme"),S(M()?"dark":"light")}catch{}},Y=()=>{try{S("light")}catch{}},J=()=>{try{S("dark")}catch{}},Q=e=>{r(e);try{_(e)}catch{}L(e)},N=e=>{g(e);try{de(e),_(c)}catch{}i.style.setProperty("--accent-500",e),i.style.setProperty("--accent-600",e)},D=e=>{E(e);try{localStorage.setItem("bg_preset",e)}catch{}e==="none"?d(void 0):d(h[e],x,m,u)},W=e=>{const s=Math.max(0,Math.min(.85,e));R(s);try{localStorage.setItem("bg_overlay",String(s))}catch{}o!=="none"&&d(h[o],x,s,u)},X=e=>{F(e);try{localStorage.setItem("bg_fixed",e?"1":"0")}catch{}o!=="none"&&d(h[o],e,m,u)},Z=e=>{P(e);try{localStorage.setItem("bg_smart",e?"1":"0")}catch{}o!=="none"&&d(h[o],x,m,e)},ee=e=>{I(e);try{ue(e)}catch{}},te=e=>{O(e);try{he(e)}catch{}},k=e=>{V(e);try{me(e)}catch{}A(e)},v=e=>{q(e);try{ge(e)}catch{}B(e)},G=e=>{H(e);try{xe(e)}catch{}T(e)},se=()=>{["bg_preset","bg_overlay","bg_fixed","bg_smart","accent_custom"].forEach(e=>localStorage.removeItem(e));try{S(M()?"dark":"light")}catch{}try{_("indigo")}catch{}d(void 0,!0,.35,!0),r("indigo"),g("#6366F1"),E("none"),R(.35),F(!0),P(!0),ee("standard"),te(100),k("soft"),v("standard"),G(8)},ae=Object.keys(C);return t.jsx("div",{className:"min-h-screen text-zinc-900 dark:text-zinc-100 relative",children:t.jsxs("div",{className:"relative z-[var(--app-content-z,1)]",children:[t.jsx("header",{className:"sticky top-0 z-20 border-b border-zinc-200 dark:border-zinc-800 glass",children:t.jsxs("div",{className:"mx-auto flex max-w-5xl items-center justify-between gap-3 px-4 py-3",children:[t.jsx(pe,{to:"/",className:"text-sm font-medium text-zinc-700 underline decoration-dotted hover:no-underline dark:text-zinc-200",children:"На главную"}),t.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"Настройки"}),t.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"v4-scrim"})]})}),t.jsx("main",{className:"mx-auto max-w-5xl px-4 py-6",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsx(b,{title:"Тема",desc:"Светлая / тёмная / системная.",children:t.jsxs(z,{children:[t.jsx(l,{onClick:K,children:"Системная"}),t.jsx(l,{onClick:Y,children:"Светлая"}),t.jsx(l,{onClick:J,children:"Тёмная"})]})}),t.jsxs(b,{title:"Карточки",desc:"Тени, скругления и «стекло» (размытие под шапкой).",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:"Тени"}),t.jsxs(z,{children:[t.jsx(l,{active:y==="none",onClick:()=>k("none"),children:"Нет"}),t.jsx(l,{active:y==="soft",onClick:()=>k("soft"),children:"Мягкие"}),t.jsx(l,{active:y==="strong",onClick:()=>k("strong"),children:"Сильные"})]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:"Скругления"}),t.jsxs(z,{children:[t.jsx(l,{active:j==="subtle",onClick:()=>v("subtle"),children:"Аккуратные"}),t.jsx(l,{active:j==="standard",onClick:()=>v("standard"),children:"Стандарт"}),t.jsx(l,{active:j==="rounded",onClick:()=>v("rounded"),children:"Круглые"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-xs text-zinc-500 dark:text-zinc-400",children:["Стекло (шапка) затемнение: ",t.jsxs("span",{className:"font-medium",children:[f,"px"]})]}),t.jsx("input",{type:"range",min:0,max:24,step:1,value:f,onChange:e=>G(parseInt(e.target.value)),className:"slider",style:{color:"var(--accent-600)"}})]})]}),t.jsxs(b,{title:"Акцент",desc:"Цвет активных элементов. Выбери из палитры или задай свой.",children:[t.jsx("div",{className:"accent-grid mb-3",children:ae.map(e=>{const s=C[e];return t.jsx("button",{className:`accent-swatch ${c===e?"is-active":""}`,style:{"--sw1":s==null?void 0:s[500],"--sw2":s==null?void 0:s[600]},title:e,onClick:()=>Q(e)},e)})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:a,onChange:e=>N(e.target.value),className:"input w-24",title:"Пользовательский акцент"}),t.jsx("input",{type:"text",value:a,onChange:e=>N(e.target.value),className:"input w-40",placeholder:"#RRGGBB"}),t.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>N(a),children:"Применить"})]})]}),t.jsxs(b,{title:"Фон",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsx("button",{type:"button",onClick:()=>D("none"),className:`h-20 w-full rounded-lg border ${o==="none"?"ring-2 ring-[var(--accent-600)]":""}`,children:"Нет фона"}),["bg1","bg2","bg3"].map(e=>t.jsx("button",{type:"button",title:e.toUpperCase(),onClick:()=>D(e),className:`h-20 w-full rounded-lg border ${o===e?"ring-2 ring-[var(--accent-600)]":""}`,style:{backgroundImage:`url("${h[e]}")`,backgroundSize:"cover",backgroundPosition:"center"}},e))]}),t.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 text-xs text-zinc-500 dark:text-zinc-400",children:["Затемнение: ",t.jsxs("span",{className:"font-medium",children:[Math.round(m*100),"%"]})]}),t.jsx("input",{type:"range",min:0,max:.85,step:.05,value:m,onChange:e=>W(parseFloat(e.target.value)),className:"slider",style:{color:"var(--accent-600)"}})]}),t.jsxs("label",{className:"mt-1 inline-flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:x,onChange:e=>X(e.target.checked)}),"Фиксировать фон"]}),t.jsxs("label",{className:"mt-1 inline-flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:e=>Z(e.target.checked)}),"Умное затемнение"]})]})]}),t.jsx(b,{title:"Сброс",desc:"Вернуть аккуратные дефолты.",children:t.jsx("button",{type:"button",onClick:se,className:"btn btn-primary",children:"Сбросить настройки"})})]})})]})})}export{Se as default};
