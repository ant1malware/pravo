import{p as b}from"./index-CAURlCar.js";function v(){if(!(typeof window>"u"))return window}function m(o,t){const e=v();if(!e)return t;try{const i=e.localStorage.getItem(o);return i?JSON.parse(i):t}catch{return t}}function n(o,t){const e=v();if(e)try{e.localStorage.setItem(o,JSON.stringify(t))}catch{}}function k(){return new Date().toISOString()}let U=!1;function S(){if(U)return;U=!0,m("forum:initialized",!1)||(D(),n("forum:initialized",!0))}function D(){const o=k(),t={id:crypto.randomUUID(),username:"Pavel",email:"pavel@forum.local",createdAt:o,role:"developer",userNumber:1,posts:3,likes:6,topics:2,profile:{bio:"Создатель SKY форума. Слежу за порядком и вдохновляю команду.",links:{website:"https://sky.local"},accentFrom:"#a855f7",accentTo:"#22d3ee",badges:["Founder","Core"],privacy:{showEmail:!0,showStats:!0}},bans:null,mutes:null},e={id:crypto.randomUUID(),username:"elysia",email:"elysia@forum.local",createdAt:o,role:"moderator",userNumber:2,posts:5,likes:8,topics:1,profile:{bio:"Фанат ретро-интерфейсов, модерирую раздел дизайна.",signature:"Stay liquid",links:{discord:"elysia#2048"},accentFrom:"#f472b6",accentTo:"#c084fc",badges:["Moderator"],privacy:{showEmail:!1,showStats:!0,showLinks:!0,allowComments:!0,showFollowers:!0}},bans:null,mutes:null},i={id:crypto.randomUUID(),username:"raptor",email:"raptor@forum.local",createdAt:o,role:"vip",userNumber:3,posts:2,likes:3,topics:1,profile:{bio:"Тестирую новые версии SKY. Люблю длинные треды.",links:{telegram:"@raptor"},accentFrom:"#38bdf8",accentTo:"#a855f7",badges:["Early"],privacy:{showEmail:!1,showStats:!0,showLinks:!0,allowComments:!0,showFollowers:!0}},bans:null,mutes:null};n("forum:accounts",[t,e,i]);const s=[{id:crypto.randomUUID(),title:"SKY Update Log",description:"Release notes, hotfixes, infrastructure work, and roadmap teasers.",icon:"??",createdAt:o,order:1,moderatorIds:[t.id],topicCount:1,postCount:4},{id:crypto.randomUUID(),title:"Design Lab",description:"Visual experiments, UI reviews, and branding explorations from the crew.",icon:"??",createdAt:o,order:2,moderatorIds:[e.id],topicCount:1,postCount:3},{id:crypto.randomUUID(),title:"Community Lounge",description:"Introductions, collaborations, and day-to-day chatter with the SKY family.",icon:"??",createdAt:o,order:3,moderatorIds:[e.id,i.id],topicCount:1,postCount:3},{id:crypto.randomUUID(),title:"Workshop",description:"Marketplace for merch drops, digital kits, and bespoke commission offers.",icon:"???",createdAt:o,order:4,moderatorIds:[t.id],topicCount:1,postCount:2}];n("forum:sections",s);const r=[{id:crypto.randomUUID(),sectionId:s[0].id,title:"SKY 0.9 Roadmap",authorId:t.id,createdAt:o,updatedAt:o,pinned:!0,locked:!1,movedTo:null,viewCount:124,replyCount:2,lastPostAt:o,lastPostBy:e.id},{id:crypto.randomUUID(),sectionId:s[1].id,title:"Liquid glass interface lookbook",authorId:e.id,createdAt:o,updatedAt:o,pinned:!1,locked:!1,movedTo:null,viewCount:86,replyCount:1,lastPostAt:o,lastPostBy:t.id},{id:crypto.randomUUID(),sectionId:s[2].id,title:"Community launch party recap",authorId:i.id,createdAt:o,updatedAt:o,pinned:!0,locked:!1,movedTo:null,viewCount:96,replyCount:2,lastPostAt:o,lastPostBy:t.id},{id:crypto.randomUUID(),sectionId:s[3].id,title:"Hand-crafted drops and commission board",authorId:t.id,createdAt:o,updatedAt:o,pinned:!0,locked:!1,movedTo:null,viewCount:72,replyCount:1,lastPostAt:o,lastPostBy:e.id}];n("forum:topics",r);const a=[{id:crypto.randomUUID(),topicId:r[0].id,authorId:t.id,content:"Milestones for 0.9 include the permissions overhaul, a refreshed landing page, and the new notification worker.",createdAt:o,likes:[e.id,i.id]},{id:crypto.randomUUID(),topicId:r[0].id,authorId:e.id,content:"Pinned the roadmap so testers can follow along. Let us know which items you want prioritized first!",createdAt:o,likes:[i.id]},{id:crypto.randomUUID(),topicId:r[0].id,authorId:i.id,content:"Loving the quality-of-life focus. The new invite flow already feels smoother on mobile.",createdAt:o,likes:[t.id]},{id:crypto.randomUUID(),topicId:r[1].id,authorId:e.id,content:"Uploaded a batch of liquid glass mockups with dynamic lighting. Feedback welcome before we freeze colors.",createdAt:o,likes:[t.id]},{id:crypto.randomUUID(),topicId:r[1].id,authorId:t.id,content:"That neon violet variant is perfect for the beta shell. Let's try it inside the command palette too.",createdAt:o,likes:[i.id]},{id:crypto.randomUUID(),topicId:r[2].id,authorId:i.id,content:"Recap thread is live! Share your favourite photos from the launch party and tag who you met.",createdAt:o,likes:[t.id,e.id]},{id:crypto.randomUUID(),topicId:r[2].id,authorId:e.id,content:"Added the aftermovie link and playlists from the DJ set�enjoy the nostalgia.",createdAt:o,likes:[t.id]},{id:crypto.randomUUID(),topicId:r[2].id,authorId:t.id,content:"Thanks everyone who joined and helped moderate. This energy is why SKY exists.",createdAt:o,likes:[i.id]},{id:crypto.randomUUID(),topicId:r[3].id,authorId:t.id,content:"Opening the Workshop board with curated artisan drops and safe trading guidelines.",createdAt:o,likes:[i.id]},{id:crypto.randomUUID(),topicId:r[3].id,authorId:e.id,content:"First batch features screen-printed posters, keycaps, and a limited synthwave sticker set.",createdAt:o,likes:[t.id]}];n("forum:posts",a),n("forum:settings",{heroTitle:"SKY Forum",heroSubtitle:"Эксклюзивное сообщество для разработчиков и исследователей SKY.",heroMessage:"Обсуждаем обновления, делимся концептами и тестируем будущее интерфейсов.",registrationOpen:!0,requireEnglishNick:!0,allowGuestRead:!1}),n("forum:counters",{nextUserNumber:4});const d=[{code:"SKYACCESSCODE000",createdAt:o,createdBy:t.id,note:"Демо приглашение",usedBy:e.id,usedAt:o},{code:"SKYACCESSCODE001",createdAt:o,createdBy:t.id,note:"Запас для теста",usedBy:null,usedAt:null}];n("forum:invites",d);const c={id:crypto.randomUUID(),createdAt:o,actorId:t.id,action:"seed",targetType:"settings",notes:"Инициализация демо-данных форума"};n("forum:logs",[c])}function l(){return S(),m("forum:accounts",[])}function A(o){n("forum:accounts",o)}function L(){return S(),m("forum:logs",[])}function E(o){n("forum:logs",o)}function P(o){const t=L(),e={id:crypto.randomUUID(),createdAt:k(),...o};t.unshift(e),E(t.slice(0,200))}function B(){const o=b();return o?T(o.userId):null}function K(){return l()}function T(o){return l().find(t=>t.id===o)||null}function Y(o){return l().find(t=>t.username.toLowerCase()===o.toLowerCase())||null}function x(o,t){var r,a,u,p,d,c,f,h,y,w,I,g;const e=l(),i=e.findIndex(C=>C.id===o);if(i===-1)return;const s=t.badges?t.badges.slice(0,3):void 0;e[i]={...e[i],profile:{...e[i].profile,...t,badges:s,privacy:{showEmail:((r=t.privacy)==null?void 0:r.showEmail)??((a=e[i].profile.privacy)==null?void 0:a.showEmail)??!1,showStats:((u=t.privacy)==null?void 0:u.showStats)??((p=e[i].profile.privacy)==null?void 0:p.showStats)??!0,showLinks:((d=t.privacy)==null?void 0:d.showLinks)??((c=e[i].profile.privacy)==null?void 0:c.showLinks)??!0,allowComments:((f=t.privacy)==null?void 0:f.allowComments)??((h=e[i].profile.privacy)==null?void 0:h.allowComments)??!0,showFollowers:((y=t.privacy)==null?void 0:y.showFollowers)??((w=e[i].profile.privacy)==null?void 0:w.showFollowers)??!0,hiddenProfile:((I=t.privacy)==null?void 0:I.hiddenProfile)??((g=e[i].profile.privacy)==null?void 0:g.hiddenProfile)??!1}}},A(e),P({actorId:o,action:"profile_update",targetType:"account",targetId:o,notes:"Обновление профиля"})}export{T as a,Y as f,B as g,K as l,x as u};
