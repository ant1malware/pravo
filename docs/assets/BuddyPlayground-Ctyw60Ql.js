var Pt=Object.defineProperty;var Ht=(t,s,n)=>s in t?Pt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n;var at=(t,s,n)=>Ht(t,typeof s!="symbol"?s+"":s,n);import{j as e,L as Vt}from"./index-C4sM7TPz.js";import{R as x,L as Ut}from"./react-vendor-DTkXckhQ.js";import"./icons-CVylmSus.js";const it="buddy:save:v1",L=(t,s=0,n=100)=>Math.max(s,Math.min(n,t)),ze=t=>L(t,0,1),V=()=>Date.now(),q=()=>{const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},We=t=>t*1e3,nt=20,ie={blink:20,snake:22,meteor:18,glow:15},Yt={blink:{coinDivider:2,xpMultiplier:4},snake:{coinDivider:2,xpMultiplier:4},meteor:{coinDivider:1.8,xpMultiplier:3.5},glow:{coinDivider:2.4,xpMultiplier:3}},Qt={blink:"Блик",snake:"Змейка",meteor:"Метеор-дождь",glow:"Неоновое поле"},dt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function W(t,s){const n=dt.exec(t.trim());if(!n)return`rgba(139, 92, 246, ${s})`;const[l,i,c]=n.slice(1).map(b=>parseInt(b,16));return`rgba(${l}, ${i}, ${c}, ${s})`}function ht(){const t=()=>{try{return document.documentElement.classList.contains("theme-liquid")}catch{return!1}},[s,n]=x.useState(()=>t());return x.useEffect(()=>{try{const l=document.documentElement,i=new MutationObserver(()=>n(t()));i.observe(l,{attributes:!0,attributeFilter:["class"]});const c=b=>{(!b||b.key==="ui:style-mode")&&n(t())};return window.addEventListener("storage",c),()=>{i.disconnect(),window.removeEventListener("storage",c)}}catch{}},[]),s}function Kt(){const t=()=>{try{return document.documentElement.classList.contains("dark")}catch{return!1}},[s,n]=x.useState(()=>t());return x.useEffect(()=>{try{const l=document.documentElement,i=new MutationObserver(()=>n(t()));i.observe(l,{attributes:!0,attributeFilter:["class"]});const c=b=>{(!b||b.key==="theme")&&n(t())};return window.addEventListener("storage",c),()=>{i.disconnect(),window.removeEventListener("storage",c)}}catch{}},[]),s}function xt(){return x.useContext(Te)}function ve(){const t=xt();return x.useMemo(()=>t?{dark:t,textPrimary:"text-white/90",textSecondary:"text-white/70",textMuted:"text-white/60",panel:"border border-[color:var(--card-border,rgba(255,255,255,0.12))] bg-[color:var(--surface,rgba(20,24,40,0.94))] text-white/90 shadow-[0_26px_80px_rgba(6,10,24,0.55)] backdrop-blur-lg",card:"border border-[color:var(--card-border,rgba(255,255,255,0.1))] bg-[color:var(--card-surface,rgba(255,255,255,0.08))] text-white/85 backdrop-blur-sm shadow-[0_10px_30px_rgba(6,10,24,0.35)]",pill:"inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs bg-white/15 text-white/90 shadow-[0_4px_12px_rgba(0,0,0,0.25)]",actionTile:"group relative flex w-full items-start gap-3 overflow-hidden rounded-3xl border border-transparent bg-[rgba(12,16,28,0.88)] p-4 text-left text-white/85 shadow-[0_22px_48px_rgba(8,12,26,0.45)] transition-all hover:-translate-y-0.5 hover:shadow-[0_26px_64px_rgba(8,12,26,0.58)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--accent,#8B5CF6)] disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-60 disabled:hover:translate-y-0",iconButton:"grid h-8 w-8 place-items-center rounded-xl border border-white/20 bg-white/15 text-white/90 hover:bg-white/20",modalBackdrop:"bg-black/60",hero:"relative overflow-hidden rounded-3xl border border-white/12 bg-[rgba(14,18,32,0.9)] p-6 shadow-[0_32px_90px_rgba(6,10,30,0.55)] backdrop-blur-lg",heroSecondarySurface:"bg-[rgba(255,255,255,0.04)]",heroMix:"mix-blend-screen",listEmpty:"rounded-2xl p-4 text-sm text-white/70 border border-white/12 bg-white/5",boundary:"mx-auto max-w-2xl p-6 text-sm rounded-2xl border border-white/10 bg-[rgba(12,14,22,.9)] text-white/80"}:{dark:t,textPrimary:"text-slate-900",textSecondary:"text-slate-600",textMuted:"text-slate-500",panel:"border border-slate-200/80 bg-white/95 text-slate-900 shadow-[0_30px_80px_rgba(15,23,42,0.18)] backdrop-blur-md",card:"border border-slate-200 bg-white/90 text-slate-800 shadow-[0_16px_40px_rgba(148,163,184,0.24)] backdrop-blur-sm",pill:"inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs bg-slate-900/5 text-slate-700 shadow-[0_2px_8px_rgba(148,163,184,0.25)]",actionTile:"group relative flex w-full items-start gap-3 overflow-hidden rounded-3xl border border-slate-200 bg-white/95 p-4 text-left text-slate-800 shadow-[0_22px_40px_rgba(148,163,184,0.22)] transition-all hover:-translate-y-0.5 hover:shadow-[0_26px_56px_rgba(148,163,184,0.26)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--accent,#8B5CF6)] disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-60 disabled:hover:translate-y-0",iconButton:"grid h-8 w-8 place-items-center rounded-xl border border-slate-200 bg-white text-slate-600 hover:bg-slate-50",modalBackdrop:"bg-slate-900/15",hero:"relative overflow-hidden rounded-3xl border border-slate-200 bg-white/95 p-6 shadow-[0_32px_72px_rgba(15,23,42,0.16)] backdrop-blur-lg text-slate-900",heroSecondarySurface:"bg-slate-100/70",heroMix:"mix-blend-multiply",listEmpty:"rounded-2xl border border-slate-200 bg-white/90 p-4 text-sm text-slate-600",boundary:"mx-auto max-w-2xl p-6 text-sm rounded-2xl border border-slate-200 bg-white/95 text-slate-700 shadow-[0_12px_40px_rgba(148,163,184,0.2)]"},[t])}function he(t){var s;try{(s=navigator.vibrate)==null||s.call(navigator,t)}catch{}}let Le=null;function mt(){try{Le||(Le=new(window.AudioContext||window.webkitAudioContext))}catch{}return Le}function U(t=880,s=.12,n="triangle",l=.07){try{const i=mt();if(!i)return;const c=i.createOscillator(),b=i.createGain(),d=i.createOscillator(),h=i.createGain();c.type=n,c.frequency.setValueAtTime(t,i.currentTime),c.frequency.exponentialRampToValueAtTime(Math.max(40,t*.52),i.currentTime+s),d.frequency.value=18,h.gain.value=t*.035,d.connect(h),h.connect(c.frequency),b.gain.setValueAtTime(l,i.currentTime),b.gain.exponentialRampToValueAtTime(1e-4,i.currentTime+s+.05),c.connect(b),b.connect(i.destination),c.start(),d.start();const g=i.currentTime+s+.1;c.stop(g),d.stop(g)}catch{}}function Xt(t,s=.14,n="triangle"){t.forEach((l,i)=>Jt(l*(1+i*.05),s+i*.03,.065))}function Jt(t=860,s=.18,n=.08){try{const l=mt();if(!l)return;const i=l.createOscillator(),c=l.createGain(),b=l.createOscillator(),d=l.createGain();i.type="triangle",i.frequency.setValueAtTime(t,l.currentTime),i.frequency.exponentialRampToValueAtTime(t*.45,l.currentTime+s),b.frequency.value=12,d.gain.value=t*.05,b.connect(d),d.connect(i.frequency),c.gain.value=n,c.gain.setValueAtTime(n,l.currentTime),c.gain.exponentialRampToValueAtTime(1e-4,l.currentTime+s+.05),i.connect(c),c.connect(l.destination),i.start(),b.start();const h=l.currentTime+s+.08;i.stop(h),b.stop(h)}catch{}}const Te=x.createContext(!1),we="CHEB-DEV-ACCESS",Zt=`
.buddy-light { color: #0f172a; }
.buddy-light .text-white { color: #0f172a !important; }
.buddy-light .text-white/90 { color: rgba(15,23,42,0.92) !important; }
.buddy-light .text-white/85 { color: rgba(15,23,42,0.9) !important; }
.buddy-light .text-white/80 { color: rgba(30,41,59,0.88) !important; }
.buddy-light .text-white/75 { color: rgba(51,65,85,0.86) !important; }
.buddy-light .text-white/70 { color: rgba(71,85,105,0.84) !important; }
.buddy-light .text-white/65 { color: rgba(71,85,105,0.75) !important; }
.buddy-light .text-white/60 { color: rgba(100,116,139,0.85) !important; }
.buddy-light .text-white/55 { color: rgba(100,116,139,0.72) !important; }
.buddy-light .text-white/45 { color: rgba(148,163,184,0.75) !important; }
.buddy-light .text-white/35 { color: rgba(148,163,184,0.6) !important; }
.buddy-light .text-white/30 { color: rgba(148,163,184,0.5) !important; }
.buddy-light .text-white/25 { color: rgba(148,163,184,0.45) !important; }
.buddy-light .text-white/20 { color: rgba(148,163,184,0.35) !important; }
.buddy-light .text-white/15 { color: rgba(148,163,184,0.3) !important; }
.buddy-light .text-white/10 { color: rgba(148,163,184,0.25) !important; }
.buddy-light .text-white/5 { color: rgba(148,163,184,0.2) !important; }
.buddy-light .text-white/0 { color: rgba(148,163,184,0.18) !important; }
.buddy-light .text-white/40 { color: rgba(148,163,184,0.68) !important; }
.buddy-light .text-white/50 { color: rgba(148,163,184,0.7) !important; }
.buddy-light .text-white/25 { color: rgba(148,163,184,0.45) !important; }
.buddy-light .text-emerald-200 { color: #0f766e !important; }
.buddy-light .text-emerald-200/80 { color: rgba(16,185,129,0.85) !important; }
.buddy-light .bg-[rgba(14,18,32,0.9)] { background-color: rgba(255,255,255,0.94) !important; color: #0f172a; }
.buddy-light .bg-[rgba(12,16,28,0.88)] { background-color: rgba(248,250,252,0.94) !important; color: #0f172a; }
.buddy-light .bg-[rgba(12,16,26,0.86)] { background-color: rgba(248,250,252,0.9) !important; }
.buddy-light .bg-[rgba(255,255,255,0.04)] { background-color: rgba(226,232,240,0.35) !important; }
.buddy-light .bg-white/10 { background-color: rgba(15,23,42,0.08) !important; }
.buddy-light .bg-white/12 { background-color: rgba(15,23,42,0.1) !important; }
.buddy-light .bg-white/15 { background-color: rgba(15,23,42,0.1) !important; color: #1f2937; }
.buddy-light .bg-white/20 { background-color: rgba(15,23,42,0.12) !important; }
.buddy-light .bg-white/25 { background-color: rgba(15,23,42,0.16) !important; }
.buddy-light .bg-white/30 { background-color: rgba(15,23,42,0.2) !important; }
.buddy-light .bg-black/20 { background-color: rgba(15,23,42,0.06) !important; }
.buddy-light .bg-black/60 { background-color: rgba(15,23,42,0.12) !important; }
.buddy-light .bg-[rgba(4,6,12,0.72)] { background-color: rgba(15,23,42,0.18) !important; }
.buddy-light .border-white/20 { border-color: rgba(148,163,184,0.32) !important; }
.buddy-light .border-white/15 { border-color: rgba(148,163,184,0.28) !important; }
.buddy-light .border-white/12 { border-color: rgba(148,163,184,0.25) !important; }
.buddy-light .border-white/10 { border-color: rgba(148,163,184,0.22) !important; }
.buddy-light .border-white/5 { border-color: rgba(148,163,184,0.18) !important; }
.buddy-light .text-white/70 b, .buddy-light .text-white/65 b { color: rgba(15,23,42,0.92) !important; }
.buddy-light .font-mono.text-white { color: #0f172a !important; }
.buddy-light .hover:bg-white/20:hover { background-color: rgba(15,23,42,0.12) !important; }
.buddy-light .hover:bg-white/15:hover { background-color: rgba(15,23,42,0.1) !important; }
.buddy-light .hover:bg-white/10:hover { background-color: rgba(15,23,42,0.08) !important; }
.buddy-light .!bg-white/10 { background-color: rgba(15,23,42,0.08) !important; }
.buddy-light .!bg-white/15 { background-color: rgba(15,23,42,0.12) !important; }
.buddy-light .!border-white/20 { border-color: rgba(148,163,184,0.32) !important; }
.buddy-light .text-white/55 strong { color: rgba(15,23,42,0.92) !important; }
.buddy-light .text-white/65 span { color: rgba(71,85,105,0.75) !important; }
.buddy-light .text-white/65 > b { color: rgba(15,23,42,0.92) !important; }
.buddy-light .text-white/70 > b { color: rgba(15,23,42,0.92) !important; }
.buddy-light .text-white/90 a { color: #2563eb !important; }
.buddy-light .text-white/70 a { color: #2563eb !important; }
.buddy-light .text-white/90 button:hover { color: #1f2937 !important; }
.buddy-light .text-white/70 button { color: #334155 !important; }
.buddy-light .bg-black/40 { background-color: rgba(15,23,42,0.12) !important; }
.buddy-light .text-white/75 span { color: rgba(51,65,85,0.86) !important; }
.buddy-light .text-white/70 span { color: rgba(71,85,105,0.84) !important; }
.buddy-light .text-white/60 span { color: rgba(100,116,139,0.85) !important; }
.buddy-light .text-white/70 svg { color: rgba(71,85,105,0.84) !important; }
.buddy-light .text-white/65 svg { color: rgba(71,85,105,0.75) !important; }
.buddy-light .text-white/90 svg { color: rgba(15,23,42,0.92) !important; }
.buddy-light .shadow-[0_32px_90px_rgba(6,10,30,0.55)] { box-shadow: 0 32px 70px rgba(148,163,184,0.28) !important; }
.buddy-light .shadow-[0_22px_48px_rgba(8,12,26,0.45)] { box-shadow: 0 26px 56px rgba(148,163,184,0.25) !important; color: #0f172a; }
.buddy-light .shadow-[0_26px_80px_rgba(6,10,24,0.55)] { box-shadow: 0 26px 70px rgba(148,163,184,0.28) !important; }
.buddy-light .shadow-[0_10px_30px_rgba(6,10,24,0.35)] { box-shadow: 0 14px 40px rgba(148,163,184,0.28) !important; }
.buddy-light .shadow-[0_10px_30px_rgba(8,12,26,0.25)] { box-shadow: 0 12px 36px rgba(148,163,184,0.22) !important; }
.buddy-light .bg-[rgba(255,255,255,0.08)] { background-color: rgba(226,232,240,0.35) !important; }
.buddy-light .bg-[rgba(255,255,255,0.18)] { background-color: rgba(226,232,240,0.38) !important; }
.buddy-light .text-white/85 button { color: #1f2937 !important; }
.buddy-light .text-white/90 input::placeholder { color: rgba(100,116,139,0.7) !important; }
.buddy-light .text-white/70 input::placeholder { color: rgba(100,116,139,0.65) !important; }
.buddy-light .text-white/65 input::placeholder { color: rgba(100,116,139,0.6) !important; }
.buddy-light .text-white/60 input::placeholder { color: rgba(100,116,139,0.55) !important; }
.buddy-light .text-white/70 .font-mono { color: rgba(15,23,42,0.92) !important; }
.buddy-light .text-white/60 .font-mono { color: rgba(15,23,42,0.82) !important; }
.buddy-light .text-white/55 .font-mono { color: rgba(15,23,42,0.78) !important; }
.buddy-light .bg-black/30 { background-color: rgba(15,23,42,0.1) !important; }
.buddy-light .bg-white/5 { background-color: rgba(226,232,240,0.3) !important; }
.buddy-light .bg-white/8 { background-color: rgba(226,232,240,0.32) !important; }
.buddy-light .mix-blend-screen { mix-blend-mode: normal !important; opacity: 0.65 !important; }
.buddy-light .text-white/90 strong { color: rgba(15,23,42,0.92) !important; }
.buddy-light .text-white/70 strong { color: rgba(15,23,42,0.82) !important; }
.buddy-light .text-white/60 strong { color: rgba(15,23,42,0.78) !important; }
.buddy-light .text-white/55 strong { color: rgba(15,23,42,0.72) !important; }
.buddy-light .text-white/50 strong { color: rgba(15,23,42,0.7) !important; }
.buddy-light .text-white/65 button { color: rgba(51,65,85,0.86) !important; }
.buddy-light .text-white/60 button { color: rgba(71,85,105,0.82) !important; }
.buddy-light .text-white/70 > span > b { color: rgba(15,23,42,0.9) !important; }
.buddy-light .text-white/70 > span > strong { color: rgba(15,23,42,0.9) !important; }
.buddy-light .text-white/70 > span { color: rgba(71,85,105,0.84) !important; }
.buddy-light .text-white/55 span { color: rgba(148,163,184,0.75) !important; }
.buddy-light .text-white/65 small { color: rgba(100,116,139,0.75) !important; }
.buddy-light .text-white/60 small { color: rgba(100,116,139,0.72) !important; }
.buddy-light .text-white/90 button { color: #0f172a !important; }
.buddy-light .text-white/70 button:hover { color: #0f172a !important; }
.buddy-light .text-white/90 .hover:underline:hover { color: #1d4ed8 !important; }
.buddy-light .border-white/12.bg-white/5 { background-color: rgba(248,250,252,0.86) !important; }
.buddy-light .text-white/70 .opacity-70 { color: rgba(100,116,139,0.75) !important; }
.buddy-light .text-white/90 .opacity-70 { color: rgba(100,116,139,0.78) !important; }
.buddy-light .text-white/60 .opacity-60 { color: rgba(100,116,139,0.72) !important; }
.buddy-light .text-white/65 .opacity-60 { color: rgba(100,116,139,0.7) !important; }
.buddy-light .text-white/70 .opacity-60 { color: rgba(100,116,139,0.7) !important; }
.buddy-light .text-white/70 .opacity-80 { color: rgba(51,65,85,0.86) !important; }
.buddy-light .text-white/70 .opacity-75 { color: rgba(71,85,105,0.78) !important; }
.buddy-light .text-white/70 .opacity-65 { color: rgba(100,116,139,0.72) !important; }
.buddy-light .text-white/60 .opacity-80 { color: rgba(51,65,85,0.84) !important; }
.buddy-light .text-white/90 .opacity-65 { color: rgba(71,85,105,0.78) !important; }
.buddy-light .text-white/60 .opacity-50 { color: rgba(148,163,184,0.6) !important; }
.buddy-light .text-white/70 .opacity-50 { color: rgba(148,163,184,0.6) !important; }
.buddy-light .text-white/70 .opacity-40 { color: rgba(148,163,184,0.5) !important; }
.buddy-light .text-white/70 .opacity-45 { color: rgba(148,163,184,0.52) !important; }
`,ne="border border-[color:var(--card-border,rgba(255,255,255,0.12))] bg-[color:var(--surface,rgba(20,24,40,0.94))] text-white/90 shadow-[0_26px_80px_rgba(6,10,24,0.55)] backdrop-blur-lg",B="border border-[color:var(--card-border,rgba(255,255,255,0.1))] bg-[color:var(--card-surface,rgba(255,255,255,0.08))] text-white/85 backdrop-blur-sm shadow-[0_10px_30px_rgba(6,10,24,0.35)]",Y=[{id:"hat_beanie",name:"Шапка-бини",kind:"hat",rarity:"common",price:20},{id:"hat_witch",name:"Ведьмина шляпа",kind:"hat",rarity:"epic",price:120,season:"halloween"},{id:"hat_crown",name:"Корона рассвета",kind:"hat",rarity:"legendary",price:260},{id:"hat_aurora",name:"Диадема «Аврора»",kind:"hat",rarity:"epic",price:190},{id:"hat_sailor",name:"Бескозырка",kind:"hat",rarity:"rare",price:85},{id:"hat_flower",name:"Венок из звёзд",kind:"hat",rarity:"rare",price:95},{id:"hat_stargazer",name:"Шляпа астронома",kind:"hat",rarity:"epic",price:180},{id:"hat_starfall",name:"Корона «Звёздопад»",kind:"hat",rarity:"legendary",price:0,exclusive:"code",unlockCode:"STARFALL"},{id:"gls_round",name:"Круглые очки",kind:"glasses",rarity:"rare",price:55},{id:"gls_star",name:"Звёздные линзы",kind:"glasses",rarity:"epic",price:120},{id:"gls_visor",name:"Неоновый визор",kind:"glasses",rarity:"legendary",price:210},{id:"gls_holo",name:"Голографические очки",kind:"glasses",rarity:"legendary",price:240},{id:"hood_purple",name:"Фиолетовый худи",kind:"hoodie",rarity:"rare",price:70},{id:"hood_neon",name:"Неоновый худи",kind:"hoodie",rarity:"epic",price:130},{id:"hood_frost",name:"Ледяной плащ",kind:"hoodie",rarity:"epic",price:150},{id:"costume_starlight",name:"Костюм «Сияние»",kind:"costume",rarity:"legendary",price:280},{id:"costume_aurora",name:"Костюм «Аврора»",kind:"costume",rarity:"epic",price:230},{id:"costume_cosmo",name:"Космокостюм",kind:"costume",rarity:"legendary",price:320},{id:"costume_fairy",name:"Небесная фея",kind:"costume",rarity:"epic",price:250},{id:"costume_dev_grid",name:"DEV-костюм «Сетка»",kind:"costume",rarity:"legendary",price:0,exclusive:"developer",unlockCode:we},{id:"backpack_sky",name:"Рюкзак «Sky»",kind:"backpack",rarity:"common",price:25},{id:"backpack_nebula",name:"Рюкзак «Туманность»",kind:"backpack",rarity:"epic",price:140},{id:"cape_night",name:"Плащ ночи",kind:"cape",rarity:"epic",price:110},{id:"cape_sakura",name:"Плащ сакуры",kind:"cape",rarity:"rare",price:105},{id:"backpack_pixel",name:"Пиксельный рюкзак",kind:"backpack",rarity:"rare",price:90},{id:"wings_angel",name:"Крылья ангела",kind:"wings",rarity:"epic",price:140},{id:"wings_starlight",name:"Звёздные крылья",kind:"wings",rarity:"legendary",price:250},{id:"wings_mech",name:"Меха-крылья",kind:"wings",rarity:"epic",price:210},{id:"tail_cat",name:"Хвост котика",kind:"tail",rarity:"rare",price:45},{id:"tail_dragon",name:"Хвост дракона",kind:"tail",rarity:"epic",price:135},{id:"wings_lumen",name:"Крылья «Люмен»",kind:"wings",rarity:"legendary",price:0,exclusive:"code",unlockCode:"LUMENWINGS"},{id:"tail_starfire",name:"Хвост «Звёздное пламя»",kind:"tail",rarity:"epic",price:165},{id:"aura_neon",name:"Неоновая аура",kind:"aura",rarity:"legendary",price:220},{id:"aura_starlight",name:"Аура сияния",kind:"aura",rarity:"legendary",price:260},{id:"aura_blizzard",name:"Аура метели",kind:"aura",rarity:"epic",price:210},{id:"aura_dev_debug",name:"DEV-аура «Отладка»",kind:"aura",rarity:"legendary",price:0,exclusive:"developer",unlockCode:we},{id:"sticker_hearts",name:"Сердечки",kind:"sticker",rarity:"rare",price:40},{id:"sticker_stars",name:"Звёздочки",kind:"sticker",rarity:"common",price:35},{id:"sticker_moon",name:"Лунный свет",kind:"sticker",rarity:"rare",price:48},{id:"sticker_patch",name:"Патч ноут",kind:"sticker",rarity:"rare",price:52},{id:"pet_ghost",name:"Мини-призрак",kind:"pet",rarity:"epic",price:150},{id:"pet_fox",name:"Лисёнок Ки",kind:"pet",rarity:"legendary",price:280},{id:"pet_drone",name:"Дрон-спутник",kind:"pet",rarity:"epic",price:220},{id:"pet_capibara",name:"Капибара Сырок",kind:"pet",rarity:"epic",price:260},{id:"pet_moonling",name:"Питомец «Мунлинг»",kind:"pet",rarity:"legendary",price:0,exclusive:"code",unlockCode:"MOONBUDDY"},{id:"pet_dev_pixel",name:"DEV-питомец «Пиксельный кот»",kind:"pet",rarity:"legendary",price:0,exclusive:"developer",unlockCode:we},{id:"head_on",name:"Наушники",kind:"headphones",rarity:"rare",price:60},{id:"head_neon",name:"Неоновые наушники",kind:"headphones",rarity:"epic",price:125},{id:"head_chroma",name:"Хрома-наушники",kind:"headphones",rarity:"legendary",price:170},{id:"pal_ocean",name:"Океан",kind:"palette",rarity:"common",price:10,data:{grad:["#bcd3ff","#6a79ff"]}},{id:"pal_sunset",name:"Закат",kind:"palette",rarity:"rare",price:40,data:{grad:["#ffd7a1","#ff6a88"]}},{id:"pal_void",name:"Космос",kind:"palette",rarity:"epic",price:120,data:{grad:["#a7b0ff","#5a2cff"]}},{id:"pal_blossom",name:"Цветение",kind:"palette",rarity:"rare",price:55,data:{grad:["#ffb3d2","#ff77a9"]}},{id:"pal_midnight",name:"Полночь",kind:"palette",rarity:"epic",price:140,data:{grad:["#2b2d55","#141729"]}},{id:"pal_aurora",name:"Аврора",kind:"palette",rarity:"legendary",price:180,data:{grad:["#7de3ff","#8b5cf6"]}},{id:"pal_candy",name:"Маршмеллоу",kind:"palette",rarity:"rare",price:58,data:{grad:["#ffe6f3","#ffc8de"]}},{id:"pal_celestial",name:"Небула",kind:"palette",rarity:"legendary",price:0,exclusive:"code",unlockCode:"NEBULOVE",data:{grad:["#8ad7ff","#b388ff"]}},{id:"pal_softnight",name:"Лунная ночь",kind:"palette",rarity:"epic",price:150,data:{grad:["#1f2448","#513d8a"]}}],qt=Y.map(t=>t.id),ut=Object.fromEntries(Y.map(t=>[t.id,t])),ot={cookie:{label:"Печеньки",emoji:"🍪"},meal:{label:"Обеды",emoji:"🍲"},toy:{label:"Игрушки",emoji:"🧸"},medkit:{label:"Аптечки",emoji:"💊"},gift:{label:"Подарки",emoji:"🎁"}},er=[{code:"CHEB2025",title:"Старт сезона",description:"Подарок для быстрого старта приключений.",rewards:["+25 монет","🍪 Печенька"],grant:{addCoins:25,addInventory:{cookie:1}}},{code:"AURABOOM",title:"Неоновая вспышка",description:"Сияющая аура и немного монет на радость.",rewards:["Аура «Неон»","+10 монет"],grant:{addCosmetics:["aura_neon"],addCoins:10}},{code:"STARFALL",title:"Звёздный дождь",description:"Эксклюзивная корона только по секретному коду.",rewards:["Корона «Звёздопад»"],grant:{addCosmetics:["hat_starfall"]}},{code:"LUMENWINGS",title:"Полёт Люмена",description:"Дарит легендарные крылья и немного энергии в монетах.",rewards:["Крылья «Люмен»","+15 монет"],grant:{addCosmetics:["wings_lumen"],addCoins:15}},{code:"MOONBUDDY",title:"Лунный друг",description:"Призовите редкого питомца Мунлинга.",rewards:["Питомец «Мунлинг»","🧸 Игрушка"],grant:{addCosmetics:["pet_moonling"],addInventory:{toy:1}}},{code:"NEBULOVE",title:"Объятия туманности",description:"Палитра космических оттенков и немного подарков.",rewards:["Палитра «Небула»","🎁 Подарок"],grant:{addCosmetics:["pal_celestial"],addInventory:{gift:1}}},{code:we,title:"Developer Access",description:"Разблокирует весь каталог, выдаёт ресурсы и DEV-эксклюзивы.",rewards:["Весь каталог аксессуаров","DEV-набор: костюм «Сетка», аура «Отладка», питомец «Пиксельный кот»","Минимум 9999 монет и полный инвентарь"],developerOnly:!0,grant:{addCosmetics:"ALL",minCoins:9999,minInventory:{cookie:12,meal:6,toy:6,medkit:4,gift:6}}}],pt=er.reduce((t,s)=>(t[s.code]=s,t),{}),xe=[{id:"firstPet",label:"Погладить Чебзика"},{id:"firstWin",label:"Первая победа в мини-игре"},{id:"blink15",label:"Блик: 15 очков"},{id:"snake10",label:"Змейка: 10 яблок"},{id:"meteor12",label:"Метеор-дождь: 12 звёзд"},{id:"glow14",label:"Неоновое поле: 14 огоньков"},{id:"streak3",label:"Серия входов: 3 дня"},{id:"level5",label:"Достигнуть уровня 5"}];function je(t){return t==="legendary"?"border-[rgba(255,214,130,0.5)] bg-[rgba(255,214,130,0.18)] shadow-[0_12px_36px_rgba(255,214,130,0.2)]":t==="epic"?"border-[rgba(209,134,255,0.5)] bg-[rgba(155,92,255,0.16)] shadow-[0_12px_36px_rgba(150,70,255,0.2)]":t==="rare"?"border-[rgba(126,195,255,0.5)] bg-[rgba(70,160,255,0.16)] shadow-[0_12px_36px_rgba(80,170,255,0.18)]":"border-white/12 bg-[rgba(255,255,255,0.08)] shadow-[0_10px_30px_rgba(8,12,26,0.25)] backdrop-blur-sm"}const me=[{tracker:"feed",icon:"🍪",hint:"Корми Чебзика печеньками или обедом из инвентаря.",label:t=>`Покорми Чебзика ${t} ${t===1?"раз":"раза"}`,target:[2,4],reward:[6,10],weight:1.2},{tracker:"pet",icon:"🤲",hint:"Нажимай на Чебзика, чтобы почесать ему макушку.",label:t=>`Погладь Чебзика ${t} ${t===1?"раз":"раза"}`,target:[1,3],reward:[4,8]},{tracker:"playtoy",icon:"🧸",hint:"Используй игрушки — они повышают настроение.",label:t=>`Поиграй с игрушкой ${t} ${t===1?"раз":"раза"}`,target:[1,2],reward:[6,9]},{tracker:"mini_any",icon:"🎮",hint:"Запускай любые мини-игры из быстрых действий.",label:t=>`Сыграй мини-игры ${t} ${t===1?"раз":"раза"}`,weeklyLabel:t=>`Сыграй ${t} мини-игр за неделю`,target:[1,3],reward:[7,12],weight:1.1},{tracker:"mini_blink",icon:"✨",hint:"Лови вспышки света в мини-игре «Блик».",label:t=>`Победи в «Блике» ${t} ${t===1?"раз":"раза"}`,weeklyLabel:t=>`Выиграй «Блик» ${t} раз за неделю`,target:[1,2],reward:[7,12]},{tracker:"mini_snake",icon:"🐍",hint:"Собирай яблоки в мини-игре «Змейка».",label:t=>`Победи в «Змейке» ${t} ${t===1?"раз":"раза"}`,weeklyLabel:t=>`Победи в «Змейке» ${t} раз за неделю`,target:[1,2],reward:[7,12]},{tracker:"mini_meteor",icon:"☄️",hint:"Лови падающие звёзды в мини-игре «Метеор-дождь».",label:t=>`Играй в «Метеор-дождь» ${t} ${t===1?"раз":"раза"}`,weeklyLabel:t=>`Играй в «Метеор-дождь» ${t} раз за неделю`,target:[1,2],reward:[7,12]},{tracker:"mini_glow",icon:"💡",hint:"Щёлкай по огонькам в «Неоновом поле».",label:t=>`Сыграй «Неоновое поле» ${t} ${t===1?"раз":"раза"}`,weeklyLabel:t=>`Сыграй «Неоновое поле» ${t} раз за неделю`,target:[1,2],reward:[7,12]},{tracker:"equip_rare",icon:"👑",hint:"Надень редкий или эпический предмет в гардеробе.",label:t=>`Надень редкие вещи ${t} ${t===1?"раз":"раза"}`,weeklyLabel:t=>`Меняй редкие образы ${t} раз`,target:[1,2],reward:[8,14],weight:.7},{tracker:"gift_open",icon:"🎁",hint:"Покупай и открывай подарки в магазине припасов.",label:t=>`Открой подарки ${t} шт.`,weeklyLabel:t=>`Открой ${t} подарков за неделю`,target:[1,3],reward:[6,10],weight:.6}],tr=[{...me.find(t=>t.tracker==="mini_any"),target:[8,12],reward:[40,60],weight:1},{...me.find(t=>t.tracker==="mini_snake"),target:[4,6],reward:[35,55],weight:.9},{...me.find(t=>t.tracker==="equip_rare"),target:[3,5],reward:[42,62],weight:.7},{...me.find(t=>t.tracker==="gift_open"),target:[5,7],reward:[38,55],weight:.6}];function ke(t,s){return Math.floor(Math.random()*(s-t+1))+t}function gt(t){const s=t.reduce((i,c)=>i+(c.weight??1),0);let n=Math.random()*s;for(let i=0;i<t.length;i+=1)if(n-=t[i].weight??1,n<=0)return{template:t[i],index:i};const l=Math.max(0,t.length-1);return{template:t[l],index:l}}function ft(t,s,n){return{id:`${t.tracker}_${Math.random().toString(36).slice(2,7)}`,label:t.label(s),progress:0,target:s,reward:n,icon:t.icon,tracker:t.tracker,hint:t.hint}}function bt(){const t=me.slice(),s=[];for(;s.length<3&&t.length>0;){const{template:n,index:l}=gt(t),i=ke(n.target[0],n.target[1]),c=ke(n.reward[0],n.reward[1]);s.push(ft(n,i,c)),t.splice(l,1)}return s}function yt(){const{template:t}=gt(tr),s=ke(t.target[0],t.target[1]),n=ke(t.reward[0],t.reward[1]),l=t.weeklyLabel?t.weeklyLabel(s):t.label(s),i=new Date;return i.setDate(i.getDate()+7),{...ft(t,s,n),label:l,expiresAt:i.toISOString()}}function wt(){const t=[{type:"xp",amount:25,label:"+25% XP",description:"Опыт за действия увеличен."},{type:"coins",amount:20,label:"+20% монет",description:"Монеты начисляются чаще."},{type:"mood",amount:15,label:"Настроение ×1.5",description:"Мини-игры сильнее повышают настроение."},{type:"stamina",amount:18,label:"+Восстановление",description:"Мини-игры возвращают немного выносливости."}];return t[Math.floor(Math.random()*t.length)]}function jt(t){if(t.label)return t.label;switch(t.type){case"xp":return"+XP";case"coins":return"+монеты";case"mood":return"+настроение";case"stamina":return"+выносливость";default:return"бафф"}}function Ie(t,s){return t.type===s}function lt(t,s){if(!Ie(t,s))return 1;const n=typeof t.amount=="number"?t.amount:20;return 1+Math.max(0,n)/100}function De(){return{version:1,stats:{hunger:35,mood:70,energy:80,name:"Чебзик",last:V()},inv:{cookie:2,meal:1,toy:1,medkit:0,gift:0},daily:{date:q(),rewardClaimed:!1,buff:wt(),quests:bt(),weeklyChallenge:yt(),bonusBuffExpires:V()+We(24*3600)},game:{xp:0,level:1,coins:20,streak:1,lastLogin:q(),minigameBest:0,highs:{}},log:["Чебзик появился в вашем мире! ✨"],config:{animations:!0,sounds:!0,haptics:!0},achievements:{},cosm:{owned:["pal_ocean","hat_beanie","gls_round","hood_purple"],equipped:{palette:"pal_ocean"}},shop:{rotAt:0,items:[]},codes:[],fatigue:{stamina:100,last:V()}}}function kt(t){if(!t||typeof t!="object"||typeof t.id!="string"||typeof t.label!="string")return null;const s=typeof t.target=="number"&&Number.isFinite(t.target)?Math.max(1,Math.round(t.target)):1,n=typeof t.progress=="number"&&Number.isFinite(t.progress)?Math.max(0,Math.min(s,Math.round(t.progress))):0,l=typeof t.reward=="number"&&Number.isFinite(t.reward)?Math.max(0,Math.round(t.reward)):0,i=typeof t.icon=="string"?t.icon:void 0,c=typeof t.tracker=="string"?t.tracker:void 0,b=typeof t.hint=="string"?t.hint:void 0;return{id:t.id,label:t.label,target:s,progress:n,reward:l,claimed:!!t.claimed,icon:i,tracker:c,hint:b}}function rr(t){const s=kt(t);if(!s)return;const n=typeof(t==null?void 0:t.expiresAt)=="string"?t.expiresAt:new Date().toISOString();return{...s,expiresAt:n}}function sr(t,s){if(!t)return s;if(typeof t=="string")return{type:["xp","coins","mood","stamina"].includes(t)?t:s.type,amount:s.amount};if(typeof t=="object"){const n=["xp","coins","mood","stamina"].includes(t.type)?t.type:s.type,l=typeof t.amount=="number"&&Number.isFinite(t.amount)?t.amount:s.amount,i=typeof t.label=="string"?t.label:s.label,c=typeof t.description=="string"?t.description:s.description;return{type:n,amount:l,label:i,description:c}}return s}function ar(t){var E,C;const s=De();if(!t||typeof t!="object")return s;const n=t,l=typeof n.stats=="object"&&n.stats?{...s.stats,...n.stats}:s.stats,i=typeof n.inv=="object"&&n.inv?{...s.inv,...n.inv}:s.inv,c=typeof n.daily=="object"&&n.daily?n.daily:{},d=(Array.isArray(c.quests)?c.quests:[]).map(S=>kt(S)).filter(S=>S!==null),h={...s.daily,date:typeof c.date=="string"?c.date:s.daily.date,rewardClaimed:typeof c.rewardClaimed=="boolean"?c.rewardClaimed:s.daily.rewardClaimed,quests:d.length>0?d:s.daily.quests,buff:sr(c.buff,s.daily.buff),weeklyChallenge:rr(c.weeklyChallenge)??s.daily.weeklyChallenge,bonusBuffExpires:typeof c.bonusBuffExpires=="number"&&Number.isFinite(c.bonusBuffExpires)?c.bonusBuffExpires:s.daily.bonusBuffExpires},g=typeof n.game=="object"&&n.game?{...s.game,...n.game}:s.game,m=typeof n.cosm=="object"&&n.cosm?n.cosm:void 0,j=m?{owned:Array.isArray(m.owned)?m.owned.filter(S=>typeof S=="string"):((E=s.cosm)==null?void 0:E.owned)??[],equipped:{...((C=s.cosm)==null?void 0:C.equipped)??{},...typeof m.equipped=="object"&&m.equipped?m.equipped:{}}}:s.cosm;return{...s,...n,stats:l,inv:i,daily:h,game:g,cosm:j,shop:typeof n.shop=="object"&&n.shop?n.shop:s.shop,codes:Array.isArray(n.codes)?n.codes.filter(S=>typeof S=="string"):s.codes,achievements:typeof n.achievements=="object"&&n.achievements?{...s.achievements,...n.achievements}:s.achievements,config:typeof n.config=="object"&&n.config?{...s.config,...n.config}:s.config,fatigue:typeof n.fatigue=="object"&&n.fatigue?{...s.fatigue,...n.fatigue}:s.fatigue}}function ir(){const[t,s]=x.useState(()=>{try{const n=localStorage.getItem(it);if(n)return ar(JSON.parse(n))}catch{}return De()});return x.useEffect(()=>{try{localStorage.setItem(it,JSON.stringify(t))}catch{}},[t]),[t,s]}const ct=({className:t,mood:s=.7,energy:n=.8,palette:l,equipped:i,showSticker:c})=>{var F,ue,re,Q,K,oe;const b=(1-n)*1.6,d=19+(.5-s)*4,h=Y.find(p=>p.id===l),g=((ue=(F=h==null?void 0:h.data)==null?void 0:F.grad)==null?void 0:ue[0])??"#bcd3ff",m=((Q=(re=h==null?void 0:h.data)==null?void 0:re.grad)==null?void 0:Q[1])??"#6a79ff",j=((oe=(K=h==null?void 0:h.data)==null?void 0:K.grad)==null?void 0:oe[1])??"#8B5CF6",E=()=>{const p=i==null?void 0:i.hat;if(!p)return null;switch(p){case"hat_beanie":return e.jsx("path",{d:"M9 9c2-3 6-4 9-4s7 1 9 4l-1 2H10z",fill:"#2b2b3a",stroke:"#3c425d",strokeWidth:".4"});case"hat_witch":return e.jsxs("g",{children:[e.jsx("path",{d:"M7 12l12-7 2 7h5l-7 3H9z",fill:"#3b1e5a",stroke:"#9c6bff",strokeWidth:".5"}),e.jsx("path",{d:"M11 13.2h14",stroke:"#c3a7ff",strokeWidth:".4",opacity:".8"})]});case"hat_crown":return e.jsxs("g",{children:[e.jsx("path",{d:"M8 11l2.8 4 2.8-3.2L16 15l2.6-3.2L21 15l3-4 3 4 1 3H7l1-3z",fill:"url(#crown-g)",stroke:"#ffd86e",strokeWidth:".5"}),e.jsx("circle",{cx:"10.6",cy:"11.4",r:".7",fill:"#ffe6a3"}),e.jsx("circle",{cx:"18.6",cy:"10.8",r:".8",fill:"#fff2c3"}),e.jsx("circle",{cx:"25.4",cy:"11.4",r:".7",fill:"#ffe6a3"})]});case"hat_aurora":return e.jsx("path",{d:"M7.5 13.2c3.5-5.4 17.5-5.4 21 0l-1.5 2.6H9z",fill:"url(#hat-aurora-g)",stroke:"#9fd8ff",strokeWidth:".45",opacity:".95"});case"hat_sailor":return e.jsxs("g",{children:[e.jsx("path",{d:"M9 11.2c2.5-2 15.5-2 18 0l-.8 2.2H9.8z",fill:"#f1f5ff",stroke:"#a3b6ff",strokeWidth:".35"}),e.jsx("path",{d:"M12 9.8c3-1.4 8-1.4 11 0l-5.4 1.6z",fill:"#d1dcff",opacity:".9"})]});case"hat_flower":return e.jsxs("g",{opacity:".92",children:[e.jsx("path",{d:"M8.4 12.6c3.4-3.8 16.8-3.8 20.2 0l-1.4 2H9.8z",fill:"#3b2f5e",stroke:"#f6dcff",strokeWidth:".35"}),[11,15.2,19,22.8,26.6].map((ee,X)=>e.jsx("circle",{cx:ee,cy:11.2,r:.9,fill:X%2===0?"#ff99da":"#ffd27a",stroke:"#fff2f7",strokeWidth:".2"},X))]});case"hat_stargazer":return e.jsxs("g",{opacity:".94",children:[e.jsx("ellipse",{cx:"18",cy:"14",rx:"11.6",ry:"3.2",fill:"#1c1c33",stroke:"#6474ff",strokeWidth:".4"}),e.jsx("path",{d:"M12.2 10.4c2.4-2 9.2-2 11.6 0l-1.3 3.8H13.5z",fill:"#232a55",stroke:"#7ea5ff",strokeWidth:".35"}),e.jsx("path",{d:"M18 7.8l1 2h2.2l-1.8 1.1.7 2-2.1-1.3-2.1 1.3.7-2-1.8-1.1h2.2z",fill:"#ffe48a",stroke:"#ffcf6b",strokeWidth:".3"})]});case"hat_starfall":return e.jsxs("g",{opacity:".96",children:[e.jsx("path",{d:"M8.2 12.4l2.4 3.6 2.6-3 3 3.6 2.8-3.6 2.8 3.6 2.8-3 2.6 3 1.2 2.6H7l1.2-2.6z",fill:"url(#crown-g)",stroke:"#ffe39c",strokeWidth:".45"}),e.jsx("path",{d:"M18 7.2l1 2.6h2.6l-2.1 1.2.8 2.4-2.3-1.4-2.3 1.4.8-2.4-2.1-1.2h2.6z",fill:"#fff4c1",stroke:"#ffd670",strokeWidth:".32"})]});default:return null}},C=()=>{const p=i==null?void 0:i.glasses;return p?p==="gls_round"?e.jsxs("g",{opacity:".95",children:[e.jsx("circle",{cx:"13.5",cy:"13.6",r:"3.1",fill:"none",stroke:"#1e2336",strokeWidth:".8"}),e.jsx("circle",{cx:"22.5",cy:"13.6",r:"3.1",fill:"none",stroke:"#1e2336",strokeWidth:".8"}),e.jsx("rect",{x:"16.1",y:"13.1",width:"3.8",height:".8",fill:"#1e2336"})]}):p==="gls_star"?e.jsxs("g",{fill:"none",stroke:"url(#gls-star-g)",strokeWidth:".7",strokeLinejoin:"round",children:[e.jsx("path",{d:"M10 13l1.2-2.6L13 9.2l1.8 1.2.8 2.6-1 2.5-2.6.8z"}),e.jsx("path",{d:"M23 13l1.2-2.6L26 9.2l1.8 1.2.8 2.6-1 2.5-2.6.8z"}),e.jsx("line",{x1:"14.6",y1:"13.2",x2:"21.2",y2:"13.2",strokeWidth:".6",strokeLinecap:"round"})]}):p==="gls_visor"?e.jsx("path",{d:"M10 12.5c1.5-3 14.5-3 16 0l-.8 3c-4.6.8-9.8.8-14.4 0z",fill:"url(#visor-g)",stroke:"#65fff5",strokeWidth:".4",opacity:".9"}):p==="gls_holo"?e.jsxs("g",{opacity:".9",children:[e.jsx("rect",{x:"9.6",y:"11.4",width:"17",height:"3.2",rx:"1.4",fill:"url(#visor-g)",stroke:"#7de3ff",strokeWidth:".35"}),e.jsx("path",{d:"M13 11.8l-1.6 3",stroke:"#ffffff",strokeOpacity:".4",strokeWidth:".3"}),e.jsx("path",{d:"M24.6 11.8l1.6 3",stroke:"#ffffff",strokeOpacity:".4",strokeWidth:".3"})]}):null:null},S=()=>{const p=i==null?void 0:i.hoodie;if(!p)return null;switch(p){case"hood_purple":return e.jsx("path",{d:"M6 18c0-8 6-12 12-12s12 4 12 12v4c0 2-1.6 3.5-3.6 3.5-1.2 0-2.3-.6-3-1.6-.6 1-1.7 1.6-2.8 1.6s-2.2-.6-2.8-1.6c-.7 1-1.8 1.6-3 1.6C7.6 25.5 6 24 6 22z",fill:"url(#hood-purple-g)",opacity:".65"});case"hood_neon":return e.jsx("path",{d:"M6 18c0-8 6-12 12-12s12 4 12 12v4c0 2-1.4 3.8-3.4 3.8-1.1 0-2.2-.6-3-1.5-.7 1.1-2 1.8-3.3 1.8s-2.6-.7-3.3-1.8c-.8.9-1.9 1.5-3 1.5C7.4 25.8 6 24 6 22z",fill:"url(#hood-neon-g)",opacity:".85"});case"hood_frost":return e.jsx("path",{d:"M6 18.4c0-8.2 6-12.4 12-12.4s12 4.2 12 12.4v3.4c0 2-1.4 3.4-3.2 3.4-1.2 0-2.3-.6-3-1.4-.7.8-1.8 1.4-3 1.4s-2.3-.6-3-1.4c-.7.8-1.8 1.4-3 1.4-1.8 0-3.8-1.4-3.8-3.4z",fill:"url(#hood-frost-g)",opacity:".9"});default:return null}},k=()=>{const p=i==null?void 0:i.costume;return p?p==="costume_starlight"?e.jsx("path",{d:"M9 18c0-5.6 4.8-9.8 9-9.8s9 4.2 9 9.8v4.2c0 2.6-2 4.8-4.6 4.8-1.6 0-3-.8-4-2-.9 1.2-2.4 2-4 2-2.6 0-4.4-2.2-4.4-4.8z",fill:"url(#costume-starlight-g)",opacity:".95",stroke:"#c4d4ff",strokeWidth:".35"}):p==="costume_aurora"?e.jsx("path",{d:"M8.6 18.2c0-6 5.4-10.6 9.4-10.6s9.4 4.6 9.4 10.6v3.8c0 3-2.4 5.6-5.3 5.6-1.8 0-3.4-.8-4.4-2.1-1 1.3-2.6 2.1-4.4 2.1-2.9 0-4.7-2.6-4.7-5.6z",fill:"url(#costume-aurora-g)",opacity:".92",stroke:"#75d6ff",strokeWidth:".32"}):p==="costume_cosmo"?e.jsxs("g",{opacity:".95",children:[e.jsx("path",{d:"M8.6 18.2c0-6 5.2-10.4 9.4-10.4s9.4 4.4 9.4 10.4v4c0 2.8-2.2 5.2-4.9 5.2-1.7 0-3.1-.7-4.2-1.9-1 1.2-2.5 1.9-4.2 1.9-2.7 0-4.9-2.4-4.9-5.2z",fill:"url(#wing-starlight-g)",stroke:"#6cd4ff",strokeWidth:".32"}),e.jsx("circle",{cx:"18",cy:"18",r:"1",fill:"#fff",opacity:".45"}),e.jsx("circle",{cx:"21.4",cy:"20.2",r:"0.8",fill:"#ffe9a8",opacity:".5"})]}):p==="costume_fairy"?e.jsxs("g",{opacity:".92",children:[e.jsx("path",{d:"M8.8 18.4c0-6.2 5.2-10.8 9.2-10.8s9.2 4.6 9.2 10.8v3.8c0 3-2.2 5.6-5 5.6-1.8 0-3.3-.8-4.4-2-1.1 1.2-2.6 2-4.4 2-2.8 0-4.6-2.6-4.6-5.6z",fill:"url(#cape-sakura-g)",stroke:"#ffbdea",strokeWidth:".32"}),e.jsx("path",{d:"M11 18c2.6-1.2 5.2-1.2 7.8 0",stroke:"#ffe4f6",strokeWidth:".4",strokeLinecap:"round",opacity:".7"})]}):p==="costume_dev_grid"?e.jsxs("g",{opacity:".95",children:[e.jsx("path",{d:"M9 18.2c0-5.8 4.8-10.2 9-10.2s9 4.4 9 10.2v4c0 2.8-2 5-4.6 5-1.6 0-3-.8-4-1.8-1 1.1-2.4 1.8-4 1.8-2.6 0-4.4-2.2-4.4-5z",fill:"#151a2c",stroke:"#6ee7ff",strokeWidth:".3"}),e.jsx("path",{d:"M12 18h12",stroke:"#6ee7ff",strokeWidth:".3",strokeDasharray:"2 1",opacity:".6"}),e.jsx("path",{d:"M18 13v10",stroke:"#6ee7ff",strokeWidth:".3",strokeDasharray:"2 1",opacity:".6"})]}):null:null},w=()=>{const p=i==null?void 0:i.backpack;if(!p)return null;switch(p){case"backpack_sky":return e.jsx("rect",{x:"7",y:"17.5",width:"6.4",height:"7.2",rx:"1.6",fill:"#394260",opacity:".6",stroke:"#4e5678",strokeWidth:".3"});case"backpack_nebula":return e.jsxs("g",{opacity:".9",children:[e.jsx("rect",{x:"6.6",y:"17.2",width:"6.8",height:"7.6",rx:"1.8",fill:"url(#backpack-nebula-g)",stroke:"#82a2ff",strokeWidth:".35"}),e.jsx("circle",{cx:"10",cy:"21",r:"1.2",fill:"#fff",opacity:".6"})]});case"backpack_pixel":return e.jsxs("g",{opacity:".95",children:[e.jsx("rect",{x:"6.8",y:"17.4",width:"6.6",height:"7.2",rx:"1.4",fill:"#1f253f",stroke:"#6dd4ff",strokeWidth:".32"}),[0,1,2].map(ee=>[0,1,2].map(X=>e.jsx("rect",{x:7.4+X*2,y:18+ee*2,width:"1.3",height:"1.3",fill:ee===1&&X===1?"#7de3ff":"#8b5cf6",opacity:".65"},`${ee}-${X}`)))]});default:return null}},N=()=>{const p=i==null?void 0:i.headphones;return p?p==="head_on"?e.jsxs("g",{opacity:".9",children:[e.jsx("path",{d:"M10 11c2-4 12-4 16 0",stroke:"#1e2238",strokeWidth:"1.2",fill:"none"}),e.jsx("rect",{x:"8.5",y:"12.2",width:"2.6",height:"4.4",rx:"1",fill:"#2a2e48"}),e.jsx("rect",{x:"24.9",y:"12.2",width:"2.6",height:"4.4",rx:"1",fill:"#2a2e48"})]}):p==="head_neon"?e.jsxs("g",{children:[e.jsx("path",{d:"M9.4 11.2c2.2-4.4 14.6-4.4 16.8 0",stroke:"url(#head-neon-band)",strokeWidth:"1.3",fill:"none"}),e.jsx("rect",{x:"8",y:"12",width:"3",height:"4.8",rx:"1.1",fill:"url(#head-neon-ear)"}),e.jsx("rect",{x:"24.2",y:"12",width:"3",height:"4.8",rx:"1.1",fill:"url(#head-neon-ear)"}),e.jsx("circle",{cx:"9.5",cy:"14.4",r:".7",fill:"#fff",opacity:".75"}),e.jsx("circle",{cx:"26.8",cy:"14.4",r:".7",fill:"#fff",opacity:".75"})]}):p==="head_chroma"?e.jsxs("g",{opacity:".95",children:[e.jsx("path",{d:"M9.2 11c2.4-4.6 15.2-4.6 17.6 0",stroke:"url(#head-neon-band)",strokeWidth:"1.1",strokeLinecap:"round",fill:"none"}),e.jsx("rect",{x:"8",y:"12",width:"3.2",height:"5",rx:"1.2",fill:"#1c1f34",stroke:"#7de3ff",strokeWidth:".28"}),e.jsx("rect",{x:"24.6",y:"12",width:"3.2",height:"5",rx:"1.2",fill:"#1c1f34",stroke:"#f472b6",strokeWidth:".28"}),e.jsx("circle",{cx:"9.4",cy:"14.6",r:".6",fill:"#7de3ff",opacity:".8"}),e.jsx("circle",{cx:"27",cy:"14.6",r:".6",fill:"#f472b6",opacity:".8"})]}):null:null},A=()=>{const p=i==null?void 0:i.cape;return p?p==="cape_night"?e.jsx("path",{d:"M6 20c6 4 18 4 24 0l-3 6H9z",fill:"#1c1d2f",opacity:".35"}):p==="cape_sakura"?e.jsx("path",{d:"M6 20.2c6.6 4.4 18 4.4 24.6 0l-3.4 6.6H9.4z",fill:"url(#cape-sakura-g)",opacity:".75"}):null:null},I=()=>{const p=i==null?void 0:i.tail;return p?p==="tail_cat"?e.jsx("path",{d:"M28 26c4 1 5 3 4.2 4.3-.8 1.3-3 .6-5.4-1.3",stroke:"#99a6ff",strokeWidth:"1",fill:"none"}):p==="tail_dragon"?e.jsx("path",{d:"M27.6 25.4c5.4 1.4 6.8 4.4 5.4 6.2-1.2 1.7-4.4.8-7.6-1.6 1.2-.8 2.6-1.8 3.4-3.2l-3.4-.8z",fill:"url(#tail-dragon-g)",stroke:"#3854b8",strokeWidth:".4"}):p==="tail_starfire"?e.jsx("path",{d:"M27 25.8c5 1.6 6.4 4.2 5.2 5.8-1.1 1.5-3.8.8-6.8-1.2 1.3-.6 2.6-1.6 3.3-2.8l-3.1-.6z",fill:"url(#wing-starlight-g)",stroke:"#f59e0b",strokeWidth:".38"}):null:null},H=()=>{const p=i==null?void 0:i.wings;return p?p==="wings_angel"?e.jsxs("g",{opacity:".65",children:[e.jsx("path",{d:"M4 16c3-2 5-3 8-3-1 3-3 5-7 6",fill:"rgba(200,220,255,.25)"}),e.jsx("path",{d:"M32 16c-3-2-5-3-8-3 1 3 3 5 7 6",fill:"rgba(200,220,255,.25)"})]}):p==="wings_starlight"?e.jsxs("g",{opacity:".8",children:[e.jsx("path",{d:"M3.6 16.4c3.6-2.6 6.4-3.6 9.6-3-1.4 3.6-4 6.2-8.6 7.6",fill:"url(#wing-starlight-g)"}),e.jsx("path",{d:"M32.4 16.4c-3.6-2.6-6.4-3.6-9.6-3 1.4 3.6 4 6.2 8.6 7.6",fill:"url(#wing-starlight-g)"})]}):p==="wings_mech"?e.jsxs("g",{opacity:".9",children:[e.jsx("path",{d:"M5 17l6-4 2 3-6 5z",fill:"url(#wing-mech-g)",stroke:"#6d7be0",strokeWidth:".35"}),e.jsx("path",{d:"M31 17l-6-4-2 3 6 5z",fill:"url(#wing-mech-g)",stroke:"#6d7be0",strokeWidth:".35"})]}):p==="wings_lumen"?e.jsxs("g",{opacity:".88",children:[e.jsx("path",{d:"M4.4 16.2c3.2-2.2 6-3 9-2-1.2 3.4-3.8 6-7.8 7.2",fill:W(j,.28),stroke:j,strokeWidth:".32"}),e.jsx("path",{d:"M31.6 16.2c-3.2-2.2-6-3-9-2 1.2 3.4 3.8 6 7.8 7.2",fill:W(j,.28),stroke:j,strokeWidth:".32"})]}):null:null},Ce=()=>{const p=i==null?void 0:i.aura;return p?p==="aura_neon"?e.jsx("circle",{cx:"18",cy:"18",r:"13",fill:"none",stroke:"url(#aura-g)",strokeWidth:"3",opacity:".35"}):p==="aura_starlight"?e.jsx("circle",{cx:"18",cy:"18",r:"13.5",fill:"none",stroke:"url(#aura-starlight-g)",strokeWidth:"3.2",opacity:".45"}):p==="aura_blizzard"?e.jsx("circle",{cx:"18",cy:"18",r:"12.8",fill:"none",stroke:"url(#aura-blizzard-g)",strokeWidth:"3",opacity:".48"}):p==="aura_dev_debug"?e.jsxs("g",{opacity:".65",children:[e.jsx("circle",{cx:"18",cy:"18",r:"13.2",fill:"none",stroke:"#7de3ff",strokeWidth:"1.4",strokeDasharray:"4 3"}),e.jsx("circle",{cx:"18",cy:"18",r:"10.8",fill:"none",stroke:"#f472b6",strokeWidth:"1",strokeDasharray:"2 2"})]}):null:null},Me=()=>{if(!c)return null;const p=i==null?void 0:i.sticker;return p?p==="sticker_hearts"?e.jsx("text",{x:"27",y:"8",fontSize:"5",children:"💖"}):p==="sticker_stars"?e.jsx("text",{x:"27",y:"8",fontSize:"5",children:"🌟"}):p==="sticker_moon"?e.jsx("text",{x:"26",y:"8",fontSize:"5",children:"🌙"}):p==="sticker_patch"?e.jsx("text",{x:"26",y:"8",fontSize:"5",children:"🛠️"}):null:s>.8?e.jsx("text",{x:"27",y:"8",fontSize:"5",children:"✨"}):s<.3?e.jsx("text",{x:"27",y:"8",fontSize:"5",children:"💧"}):e.jsx("text",{x:"27",y:"8",fontSize:"5",children:"💖"})},$=()=>{const p=i==null?void 0:i.pet;return p?p==="pet_ghost"?e.jsxs("g",{transform:"translate(29,23)",children:[e.jsx("circle",{cx:"0",cy:"0",r:"3.6",fill:"#eef3ff",stroke:"#a3b6ff",strokeWidth:".6"}),e.jsx("circle",{cx:"-1",cy:"-0.4",r:".7",fill:"#2a2e48"}),e.jsx("circle",{cx:"1",cy:"-0.4",r:".7",fill:"#2a2e48"}),e.jsx("path",{d:"M-1 1.2c1 .8 2 .8 3 0",stroke:"#2a2e48",strokeWidth:".5",fill:"none",strokeLinecap:"round"})]}):p==="pet_fox"?e.jsxs("g",{transform:"translate(30,24)",children:[e.jsx("path",{d:"M-2.6 0c0-2.4 1.8-4.2 3.8-4.2s3.8 1.8 3.8 4.2-1.6 4.2-3.8 4.2-3.8-1.8-3.8-4.2z",fill:"url(#pet-fox-g)",stroke:"#ff9f5a",strokeWidth:".4"}),e.jsx("path",{d:"M-2.8-1.2l1.4-2 1.4 1.2 1.4-1.2 1.4 2",fill:"#ffd7a3",stroke:"#ff9f5a",strokeWidth:".35"}),e.jsx("circle",{cx:"-1",cy:"-.6",r:".6",fill:"#2a2e48"}),e.jsx("circle",{cx:"1",cy:"-.6",r:".6",fill:"#2a2e48"}),e.jsx("path",{d:"M-1 1.4c1 .6 2 .6 3 0",stroke:"#2a2e48",strokeWidth:".45",strokeLinecap:"round",fill:"none"})]}):p==="pet_drone"?e.jsxs("g",{transform:"translate(30,23)",children:[e.jsx("circle",{cx:"0",cy:"0",r:"3.2",fill:"url(#pet-drone-g)",stroke:"#86a5ff",strokeWidth:".4"}),e.jsx("circle",{cx:"0",cy:"0",r:"1.1",fill:"#0b1020"}),e.jsx("circle",{cx:"0",cy:"0",r:".4",fill:"#7de3ff"}),e.jsx("path",{d:"M-4.4-2.4l2.2.6",stroke:"#9bb6ff",strokeWidth:".35",strokeLinecap:"round"}),e.jsx("path",{d:"M4.4-2.4l-2.2.6",stroke:"#9bb6ff",strokeWidth:".35",strokeLinecap:"round"}),e.jsx("path",{d:"M-4.4 2.4l2.2-.6",stroke:"#9bb6ff",strokeWidth:".35",strokeLinecap:"round"}),e.jsx("path",{d:"M4.4 2.4l-2.2-.6",stroke:"#9bb6ff",strokeWidth:".35",strokeLinecap:"round"})]}):p==="pet_capibara"?e.jsxs("g",{transform:"translate(30,24)",children:[e.jsx("ellipse",{cx:"0",cy:"0.4",rx:"3.6",ry:"2.6",fill:"#d9b38c",stroke:"#b08963",strokeWidth:".4"}),e.jsx("circle",{cx:"-1.4",cy:"-0.2",r:".6",fill:"#2a2e48"}),e.jsx("circle",{cx:"1.4",cy:"-0.2",r:".6",fill:"#2a2e48"}),e.jsx("path",{d:"M-1 1.6c1 .6 2 .6 3 0",stroke:"#2a2e48",strokeWidth:".4",strokeLinecap:"round"}),e.jsx("circle",{cx:"-2.2",cy:"-1.6",r:".4",fill:"#d9b38c",stroke:"#b08963",strokeWidth:".3"}),e.jsx("circle",{cx:"2.2",cy:"-1.6",r:".4",fill:"#d9b38c",stroke:"#b08963",strokeWidth:".3"})]}):p==="pet_moonling"?e.jsxs("g",{transform:"translate(29,23)",children:[e.jsx("circle",{cx:"0",cy:"0",r:"3.4",fill:"rgba(210,220,255,0.92)",stroke:"#9eb8ff",strokeWidth:".4"}),e.jsx("circle",{cx:"-1",cy:"-0.4",r:".7",fill:"#2a2e48"}),e.jsx("circle",{cx:"1",cy:"-0.4",r:".7",fill:"#2a2e48"}),e.jsx("path",{d:"M-1.2 1.4c.9.9 2 .9 3 0",stroke:"#2a2e48",strokeWidth:".4",strokeLinecap:"round"}),e.jsx("circle",{cx:"0",cy:"2.6",r:"1.1",fill:"rgba(125,227,255,0.6)",opacity:".6"})]}):p==="pet_dev_pixel"?e.jsxs("g",{transform:"translate(30,24)",opacity:".95",children:[e.jsx("rect",{x:"-2.6",y:"-2.6",width:"5.2",height:"5.2",rx:"0.6",fill:"#1c1f34",stroke:"#6ee7ff",strokeWidth:".4"}),e.jsx("rect",{x:"-1.6",y:"-1.2",width:"1",height:"1",fill:"#7de3ff"}),e.jsx("rect",{x:"0.6",y:"-1.2",width:"1",height:"1",fill:"#f472b6"}),e.jsx("rect",{x:"-1.4",y:"0.8",width:"3",height:".6",fill:"#7de3ff"})]}):null:null};return e.jsxs("div",{className:`relative inline-grid place-items-center ${t??""}`,children:[e.jsx("span",{className:"absolute inset-0 rounded-full opacity-60 blur-xl pointer-events-none",style:{background:"radial-gradient(closest-side, var(--accent, #8B5CF6), transparent)"}}),e.jsxs("svg",{id:"cheb-avatar-svg",width:"144",height:"144",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg","aria-label":"Чебзик",children:[e.jsxs("defs",{children:[e.jsxs("radialGradient",{id:"cheb-g",cx:"50%",cy:"30%",r:"70%",children:[e.jsx("stop",{offset:"0%",stopColor:g,stopOpacity:"0.95"}),e.jsx("stop",{offset:"100%",stopColor:m,stopOpacity:"0.85"})]}),e.jsxs("linearGradient",{id:"aura-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#9fd1ff"}),e.jsx("stop",{offset:"100%",stopColor:"#b98bff"})]}),e.jsxs("linearGradient",{id:"crown-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#ffe9a3"}),e.jsx("stop",{offset:"100%",stopColor:"#ffcf73"})]}),e.jsxs("linearGradient",{id:"hat-aurora-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#7de3ff"}),e.jsx("stop",{offset:"100%",stopColor:"#9c8bff"})]}),e.jsxs("linearGradient",{id:"gls-star-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#ffecb3"}),e.jsx("stop",{offset:"100%",stopColor:"#fbcfe8"})]}),e.jsxs("linearGradient",{id:"visor-g",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(103,232,249,0.85)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(139,92,246,0.55)"})]}),e.jsxs("linearGradient",{id:"hood-purple-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#4b2b6e"}),e.jsx("stop",{offset:"100%",stopColor:"#2f1d4a"})]}),e.jsxs("linearGradient",{id:"hood-neon-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#3b0b7a"}),e.jsx("stop",{offset:"100%",stopColor:"#0ea5e9"})]}),e.jsxs("linearGradient",{id:"hood-frost-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#e0f2ff"}),e.jsx("stop",{offset:"100%",stopColor:"#9ec9ff"})]}),e.jsxs("linearGradient",{id:"costume-starlight-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#fdf2ff"}),e.jsx("stop",{offset:"100%",stopColor:"#a3b8ff"})]}),e.jsxs("linearGradient",{id:"costume-aurora-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#7ee7ff"}),e.jsx("stop",{offset:"100%",stopColor:j})]}),e.jsxs("linearGradient",{id:"backpack-nebula-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#7f9cff"}),e.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),e.jsxs("linearGradient",{id:"head-neon-band",children:[e.jsx("stop",{offset:"0%",stopColor:"#67e8f9"}),e.jsx("stop",{offset:"100%",stopColor:"#c084fc"})]}),e.jsxs("linearGradient",{id:"head-neon-ear",children:[e.jsx("stop",{offset:"0%",stopColor:"#1f2937"}),e.jsx("stop",{offset:"100%",stopColor:"#4c1d95"})]}),e.jsxs("linearGradient",{id:"cape-sakura-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#ffb7d5"}),e.jsx("stop",{offset:"100%",stopColor:"#ff7fb4"})]}),e.jsxs("linearGradient",{id:"wing-starlight-g",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.82)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(129,178,255,0.15)"})]}),e.jsxs("linearGradient",{id:"wing-mech-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#9da8ff"}),e.jsx("stop",{offset:"100%",stopColor:"#4850aa"})]}),e.jsxs("linearGradient",{id:"tail-dragon-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#6b9cff"}),e.jsx("stop",{offset:"100%",stopColor:"#2f3d8a"})]}),e.jsxs("linearGradient",{id:"pet-fox-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#ffb27a"}),e.jsx("stop",{offset:"100%",stopColor:"#ff8a4c"})]}),e.jsxs("linearGradient",{id:"pet-drone-g",children:[e.jsx("stop",{offset:"0%",stopColor:"#9cc9ff"}),e.jsx("stop",{offset:"100%",stopColor:"#5b7cf7"})]}),e.jsxs("radialGradient",{id:"aura-starlight-g",cx:"50%",cy:"50%",r:"50%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(255,247,222,0.9)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(135,206,255,0.2)"})]}),e.jsxs("radialGradient",{id:"aura-blizzard-g",cx:"50%",cy:"50%",r:"50%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(214,240,255,0.9)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(147,197,253,0.15)"})]})]}),e.jsxs("g",{children:[e.jsx(Ce,{}),e.jsx(A,{}),e.jsx(H,{}),e.jsx(w,{}),e.jsx(S,{}),e.jsx(k,{}),e.jsx("path",{d:"M18 2c6.2 0 11 4.8 11 11v8.5c0 2-1.7 3.7-3.7 3.7-1.3 0-2.6-.7-3.3-1.8-.6 1.1-1.8 1.8-3 1.8s-2.4-.7-3-1.8c-.7 1.1-2 1.8-3.3 1.8-2 0-3.7-1.7-3.7-3.7V13C5 6.8 10 2 16.2 2H18z",fill:"url(#cheb-g)"}),e.jsx(E,{}),e.jsx(N,{}),e.jsxs("g",{transform:`translate(0, ${b.toFixed(2)})`,children:[e.jsx("circle",{cx:"13.5",cy:"13.5",r:"2.2",fill:"#0b1020"}),e.jsx("circle",{cx:"22.5",cy:"13.5",r:"2.2",fill:"#0b1020"}),e.jsx("circle",{cx:"13",cy:"13.2",r:".7",fill:"#fff"}),e.jsx("circle",{cx:"22",cy:"13.2",r:".7",fill:"#fff"})]}),e.jsx(C,{}),e.jsx("path",{d:`M12 ${d.toFixed(2)}c1.8 2.2 6.2 2.2 8 0`,stroke:"#0b1020",strokeWidth:"1.3",strokeLinecap:"round",fill:"none"}),e.jsx(I,{}),e.jsx(Me,{}),e.jsx($,{})]})]})]})},z=({children:t,className:s})=>{const n=ve();return e.jsx("span",{className:`${n.pill} ${s??""}`,children:t})},Ae=({value:t,label:s,invert:n,tip:l})=>{const i=Math.max(0,Math.min(1,n?1-t:t)),c=84,b=8,d=(c-b)/2,h=2*Math.PI*d,g=ve();return e.jsxs("div",{className:`flex items-center gap-3 rounded-xl p-3 ${g.card}`,children:[e.jsxs("svg",{width:c,height:c,viewBox:`0 0 ${c} ${c}`,className:"shrink-0",children:[e.jsx("circle",{cx:c/2,cy:c/2,r:d,stroke:"currentColor",strokeOpacity:".18",strokeWidth:b,fill:"none"}),e.jsx("circle",{cx:c/2,cy:c/2,r:d,stroke:"var(--accent, #8B5CF6)",strokeWidth:b,fill:"none",strokeDasharray:`${(i*h).toFixed(1)} ${h.toFixed(1)}`,strokeLinecap:"round",transform:`rotate(-90 ${c/2} ${c/2})`})]}),e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${g.textPrimary}`,children:s}),e.jsxs("div",{className:`text-xs opacity-80 ${g.textSecondary}`,children:[Math.round(i*100),"%"]}),l&&e.jsx("div",{className:`text-[11px] ${g.textMuted}`,children:l})]})]})},nr=({icon:t,title:s,description:n,onClick:l,accent:i,disabled:c,badge:b,color:d})=>{const h=ve(),g=x.useMemo(()=>{if(!d)return"#8B5CF6";const w=d.trim();return dt.test(w)?w.startsWith("#")?w:`#${w}`:"#8B5CF6"},[d]),m=i?W(g,.32):h.dark?"rgba(16,20,36,0.82)":"rgba(241,245,249,0.95)",j=i?W(g,.12):h.dark?"rgba(12,16,26,0.86)":"rgba(248,250,252,0.92)",E=i?W(g,h.dark?.6:.4):h.dark?"rgba(255,255,255,0.08)":"rgba(148,163,184,0.35)",C=i?W(g,h.dark?.3:.22):h.dark?"rgba(255,255,255,0.12)":"rgba(15,23,42,0.06)",S=i?h.dark?`0 12px 28px ${W(g,.45)}`:`0 12px 30px ${W(g,.36)}`:h.dark?"0 8px 20px rgba(8,12,26,0.45)":"0 10px 22px rgba(148,163,184,0.3)",k=i?W(g,h.dark?.28:.24):h.dark?"rgba(255,255,255,0.12)":"rgba(15,23,42,0.08)";return e.jsxs("button",{type:"button",onClick:l,disabled:c,className:h.actionTile,style:{borderColor:E,boxShadow:i?h.dark?`0 26px 60px ${W(g,.42)}`:`0 24px 56px ${W(g,.28)}`:void 0},children:[e.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 -z-10",style:{background:`linear-gradient(135deg, ${m}, ${j})`}}),e.jsx("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 opacity-0 transition-opacity duration-300 group-hover:opacity-40",style:{background:`radial-gradient(120% 120% at 80% 0%, ${W(g,i?.45:.28)}, transparent)`}}),e.jsx("span",{className:`grid h-10 w-10 shrink-0 place-items-center rounded-2xl text-lg shadow ${h.dark?"text-white":"text-slate-700"}`,style:{background:C,boxShadow:S},children:t}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:`flex items-center gap-2 text-sm font-semibold ${h.textPrimary}`,children:[s,b?e.jsx("span",{className:`rounded-full px-2 py-0.5 text-[11px] font-medium uppercase tracking-[0.18em] ${h.dark?"text-white":"text-slate-900"}`,style:{background:k},children:b}):null]}),e.jsx("div",{className:`mt-1 text-xs ${h.textSecondary}`,children:n})]})]})},or=({onClose:t,onBuy:s,coins:n})=>{const l=ve();return e.jsx("div",{className:`fixed inset-0 z-[90] grid place-items-center p-4 backdrop-blur ${l.modalBackdrop}`,onClick:t,children:e.jsxs("div",{className:`w-full max-w-md p-4 ${l.panel}`,onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("div",{className:`text-sm font-medium ${l.textPrimary}`,children:"Магазин — предметы"}),e.jsx("button",{"aria-label":"Закрыть",className:l.iconButton,onClick:t,children:"✕"})]}),e.jsxs("div",{className:`mb-4 text-sm ${l.textSecondary}`,children:["Монеты: ",e.jsx("b",{className:l.textPrimary,children:n})]}),e.jsx("div",{className:"grid gap-2",children:[{id:"cookie",name:"Печенька",price:3,emoji:"🍪",hint:"+ чуть сытость / + настроение"},{id:"meal",name:"Обед",price:8,emoji:"🍲",hint:"− много голода / + настроение"},{id:"toy",name:"Игрушка",price:6,emoji:"🧸",hint:"+ настроение, − энергия"},{id:"medkit",name:"Аптечка",price:10,emoji:"💊",hint:"+ энергия"},{id:"gift",name:"Подарок",price:7,emoji:"🎁",hint:"рандомный лут"}].map(i=>e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 ${l.card}`,children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"text-lg",children:i.emoji}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l.textPrimary}`,children:i.name}),e.jsx("div",{className:l.textMuted,children:i.hint})]})]}),e.jsxs("button",{className:"btn btn-primary !rounded-full !px-3 !py-1.5",disabled:n<i.price,onClick:()=>s(i.id,i.price),title:n<i.price?"Недостаточно монет":"Купить",children:[i.price," 🪙"]})]},i.id))})]})})},lr=({onClose:t,rotIds:s,coins:n,owned:l,onBuy:i})=>{const[c,b]=x.useState("rotation"),d=x.useMemo(()=>s.map(m=>ut[m]).filter(Boolean),[s]),h=x.useMemo(()=>Y.filter(m=>!m.exclusive).slice().sort((m,j)=>m.name.localeCompare(j.name,"ru")),[]),g=x.useMemo(()=>Y.filter(m=>!!m.exclusive).slice().sort((m,j)=>m.name.localeCompare(j.name,"ru")),[]);return e.jsx("div",{className:"fixed inset-0 z-[90] grid place-items-center bg-black/60 dark:bg-black/60 p-4 backdrop-blur",onClick:t,children:e.jsxs("div",{className:`w-full max-w-3xl p-5 ${ne}`,onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white/90",children:"Бутик Чебзика"}),e.jsx("div",{className:"text-xs text-white/65",children:"Ротация обновляется каждые 6 часов, но весь каталог теперь под рукой."})]}),e.jsx("button",{className:"grid h-8 w-8 place-items-center rounded-xl border border-white/20 bg-white/15 text-white/90 hover:bg-white/20",onClick:t,children:"✕"})]}),e.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2 text-sm text-white/75",children:[e.jsxs("span",{children:["Монеты: ",e.jsx("b",{className:"text-white/90",children:n})]}),e.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:[{id:"rotation",label:"Ротация"},{id:"catalog",label:"Весь каталог"},{id:"exclusive",label:"Эксклюзивы"}].map(m=>e.jsx("button",{className:`btn !px-3 !py-1 ${c===m.id?"btn-primary":"!bg-white/10 !text-white/80 hover:!bg-white/15"}`,onClick:()=>b(m.id),children:m.label},m.id))})]}),c==="rotation"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-xs text-white/65",children:"Эти вещи продаются прямо сейчас. Обновление витрины произойдёт автоматически."}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3 max-h-[52vh] overflow-auto pr-1",children:d.length?d.map(m=>e.jsxs("div",{className:`flex flex-col justify-between gap-3 rounded-2xl p-3 ${je(m.rarity)}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-white/90",children:m.name}),e.jsx("div",{className:"text-xs uppercase tracking-[0.18em] text-white/65",children:m.kind}),m.season&&e.jsxs("div",{className:"mt-1 text-[11px] text-white/60",children:["Сезон: ",m.season]})]}),e.jsx("button",{className:"btn btn-primary",disabled:l.includes(m.id)||n<m.price,onClick:()=>i(m.id,m.price),children:l.includes(m.id)?"✔ В коллекции":`${m.price} 🪙`})]},m.id)):e.jsx("div",{className:`rounded-2xl p-4 text-sm text-white/70 ${B}`,children:"Витрина загружается…"})})]}),c==="catalog"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-xs text-white/65",children:"Листайте весь ассортимент и выискивайте желанные аксессуары. Если вещь уже куплена, она отмечена галочкой."}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3 max-h-[52vh] overflow-auto pr-1",children:h.map(m=>e.jsxs("div",{className:`flex flex-col justify-between gap-3 rounded-2xl p-3 ${je(m.rarity)}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-white/90",children:m.name}),e.jsx("div",{className:"text-xs uppercase tracking-[0.18em] text-white/65",children:m.kind})]}),e.jsx("button",{className:"btn btn-primary",disabled:l.includes(m.id)||n<m.price,onClick:()=>i(m.id,m.price),children:l.includes(m.id)?"✔ В коллекции":`${m.price} 🪙`})]},m.id))})]}),c==="exclusive"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-xs text-white/65",children:"Эти предметы не продаются в бутике. Получите их с помощью секретных кодов или DEV-доступа."}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3 max-h-[52vh] overflow-auto pr-1",children:g.map(m=>{const j=m.unlockCode?pt[m.unlockCode]:void 0,E=l.includes(m.id);return e.jsxs("div",{className:`flex flex-col gap-2 rounded-2xl p-3 ${je(m.rarity)}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-white/90",children:m.name}),e.jsx("div",{className:"text-xs uppercase tracking-[0.18em] text-white/65",children:m.kind})]}),e.jsx("div",{className:"text-xs text-white/70",children:m.exclusive==="developer"?e.jsx("span",{children:"Только для разработчиков с внутренним доступом."}):j?e.jsx("span",{children:"Доступно через секретный код. Поспеши узнать детали у команды!"}):e.jsx("span",{children:"Секретный способ получения."})}),e.jsx("div",{className:`text-xs font-medium ${E?"text-emerald-200":"text-white/55"}`,children:E?"Уже в коллекции":"Ещё не получено"})]},m.id)})})]})]})})},cr=({onClose:t,onRedeem:s})=>{const[n,l]=x.useState(""),[i,c]=x.useState(null),b=x.useCallback(d=>{const h=d.trim();if(!h){c({type:"err",message:"Введите код."});return}const g=s(h);c({type:g.ok?"ok":"err",message:g.message}),g.ok&&l("")},[s]);return x.useCallback(d=>{var h;l(d),c(null);try{(h=navigator.clipboard)==null||h.writeText(d)}catch{}},[]),e.jsx("div",{className:"fixed inset-0 z-[95] grid place-items-center bg-black/60 p-4 backdrop-blur",onClick:t,children:e.jsxs("div",{className:`w-full max-w-2xl space-y-4 p-5 ${ne}`,onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-white/90",children:"Секретные коды"}),e.jsx("div",{className:"text-xs text-white/65",children:"Активируй подарки и смотри, что открывается DEV-доступом."})]}),e.jsx("button",{className:"grid h-8 w-8 place-items-center rounded-xl border border-white/20 bg-white/15 text-white/90 hover:bg-white/20",onClick:t,children:"✕"})]}),e.jsxs("form",{className:`flex flex-col gap-2 rounded-2xl p-4 ${B}`,onSubmit:d=>{d.preventDefault(),b(n)},children:[e.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.28em] text-white/60",children:"Активировать код"}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsx("input",{className:"flex-1 rounded-xl border border-white/15 bg-black/20 px-3 py-2 font-mono uppercase tracking-[0.2em] text-sm text-white placeholder:text-white/30 focus:border-[color:var(--accent,#8B5CF6)] focus:outline-none",value:n,onChange:d=>l(d.target.value.toUpperCase()),placeholder:"Например, STARFALL"}),e.jsx("button",{type:"submit",className:"btn btn-primary !rounded-xl !px-4",children:"Активировать"})]}),i&&e.jsx("div",{className:`text-xs ${i.type==="ok"?"text-emerald-200":"text-rose-300"}`,children:i.message})]}),e.jsx("div",{className:"max-h-[50vh] space-y-3 overflow-auto pr-1",children:!1})]})})},dr=({onClose:t,cosm:s,onEquip:n,onUnequip:l})=>{const[i,c]=x.useState("all"),b=Y.filter(h=>s.owned.includes(h.id)&&(i==="all"||h.kind===i)),d=s.equipped;return e.jsx("div",{className:"fixed inset-0 z-[90] grid place-items-center bg-black/60 dark:bg-black/60 p-4 backdrop-blur",onClick:t,children:e.jsxs("div",{className:`w-full max-w-3xl p-5 ${ne}`,onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-medium text-white/90",children:"Гардероб"}),e.jsx("button",{className:"grid h-8 w-8 place-items-center rounded-xl border border-white/20 bg-white/15 text-white/90 hover:bg-white/20",onClick:t,children:"✕"})]}),e.jsx("div",{className:"mb-3 flex flex-wrap gap-2 text-xs",children:["all","palette","hat","glasses","hoodie","costume","wings","aura","backpack","headphones","cape","tail","sticker","pet"].map(h=>e.jsx("button",{className:`btn !px-2 !py-1 ${i===h?"btn-primary":""}`,onClick:()=>c(h),children:h},h))}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 max-h-[60vh] overflow-auto pr-1",children:b.length?b.map(h=>{const g=d[h.kind]===h.id;return e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 ${je(h.rarity)}`,children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:h.name}),e.jsx("div",{className:"opacity-70",children:h.kind})]}),g?e.jsx("button",{className:"btn",onClick:()=>l(h.kind),children:"Снять"}):e.jsx("button",{className:"btn btn-primary",onClick:()=>n(h),children:"Надеть"})]},h.id)}):e.jsx("div",{className:"text-sm opacity-70",children:"Нет предметов в этой вкладке."})})]})})},hr=({onClose:t,animations:s,sounds:n,onToggleAnimations:l,onToggleSounds:i,onExport:c,onImport:b,onReset:d,onRename:h})=>e.jsx("div",{className:"fixed inset-0 z-[90] grid place-items-center bg-black/60 dark:bg-black/60 p-4 backdrop-blur",onClick:t,children:e.jsxs("div",{className:`w-full max-w-md p-4 ${ne}`,onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-medium text-white/90",children:"Настройки Чебзика"}),e.jsx("button",{"aria-label":"Закрыть",className:"grid h-8 w-8 place-items-center rounded-xl border border-white/20 bg-white/15 text-white/90 hover:bg-white/20",onClick:t,children:"✕"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 ${B}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white/90",children:"Анимация аватара"}),e.jsx("div",{className:"text-xs text-white/60",children:"Лёгкое подпрыгивание"})]}),e.jsx("button",{className:"btn",onClick:l,children:s?"Вкл":"Выкл"})]}),e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 ${B}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white/90",children:"Звуки"}),e.jsx("div",{className:"text-xs text-white/60",children:"Клики, награды, достижения"})]}),e.jsx("button",{className:"btn",onClick:i,children:n?"Вкл":"Выкл"})]}),e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 ${B}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white/90",children:"Новые звуки"}),e.jsx("div",{className:"text-xs text-white/60",children:"Искры, щелчки и фанфары"})]}),e.jsx("div",{className:"rounded-full bg-emerald-400/20 px-3 py-1 text-xs font-semibold uppercase tracking-[0.24em] text-emerald-200",children:"Всегда активны"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("button",{className:"btn w-full justify-between",onClick:h,children:[e.jsx("span",{children:"✏️ Переименовать"}),e.jsx("span",{className:"opacity-70",children:"Изменить имя"})]}),e.jsxs("button",{className:"btn w-full justify-between",onClick:c,children:[e.jsx("span",{children:"⬇️ Экспорт сейва"}),e.jsx("span",{className:"opacity-70",children:"chebzik-save.json"})]}),e.jsxs("button",{className:"btn w-full justify-between",onClick:b,children:[e.jsx("span",{children:"⬆️ Импорт сейва"}),e.jsx("span",{className:"opacity-70",children:"вставка JSON"})]}),e.jsxs("button",{className:"btn w-full justify-between !border-red-400/30 !bg-red-500/10 hover:!bg-red-500/15 text-red-200",onClick:d,children:[e.jsx("span",{children:"🗑️ Сброс прогресса"}),e.jsx("span",{className:"opacity-80",children:"безвозвратно"})]})]})]})]})}),xr=({onClose:t,save:s})=>{const n=Object.keys(s.achievements??{}).length,l=Math.round(n/xe.length*100);return e.jsx("div",{className:"fixed inset-0 z-[90] grid place-items-center bg-[rgba(4,6,12,0.72)] p-4 backdrop-blur",onClick:t,children:e.jsxs("div",{className:`w-full max-w-xl p-5 ${ne}`,onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-white/90",children:["Достижения — ",n,"/",xe.length]}),e.jsxs("div",{className:"text-[11px] text-white/60",children:["Открой ещё ",Math.max(0,xe.length-n)," для полного комплекта"]})]}),e.jsx("button",{className:"grid h-8 w-8 place-items-center rounded-xl border border-white/20 bg-white/15 text-white/90 hover:bg-white/20",onClick:t,children:"✕"})]}),e.jsx("div",{className:"mb-4 h-2 w-full overflow-hidden rounded-full bg-white/10",children:e.jsx("div",{className:"h-full rounded-full bg-[color:var(--accent,#8B5CF6)] transition-all",style:{width:`${l}%`}})}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:xe.map(i=>{var b;const c=!!((b=s.achievements)!=null&&b[i.id]);return e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 ${c?"border-[rgba(160,255,200,0.55)] bg-[rgba(70,200,150,0.22)] shadow-[0_14px_40px_rgba(70,200,150,0.25)]":B}`,children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-white/90",children:i.label}),e.jsx("div",{className:`text-xs ${c?"text-emerald-200/80":"text-white/60"}`,children:c?"Получено":"Скрыто до выполнения"})]}),e.jsx("div",{className:`text-lg ${c?"text-emerald-200":"opacity-40 text-white/70"}`,children:c?"✅":"🔒"})]},i.id)})})]})})},mr=({onClose:t,daily:s,onClaim:n})=>{const l=s.weeklyChallenge,i=jt(s.buff),c=s.buff.description,b=x.useMemo(()=>{if(!l)return null;const d=Date.parse(l.expiresAt);if(Number.isNaN(d))return null;const h=d-Date.now();if(h<=0)return"истёк";const g=Math.floor(h/864e5);return g>=1?`${g} д.`:`${Math.max(1,Math.floor(h/36e5))} ч.`},[l]);return e.jsx("div",{className:"fixed inset-0 z-[90] grid place-items-center bg-black/60 dark:bg-black/60 p-4 backdrop-blur",onClick:t,children:e.jsxs("div",{className:`w-full max-w-lg p-4 ${ne}`,onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-medium text-white/90",children:"Квесты и баффы дня"}),e.jsx("button",{className:"grid h-8 w-8 place-items-center rounded-xl border border-white/20 bg-white/15 text-white/90 hover:bg-white/20",onClick:t,children:"✕"})]}),e.jsxs("div",{className:"mb-4 rounded-2xl border border-white/12 bg-white/5 p-3 text-xs text-white/80",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Дневной бафф: ",e.jsx("b",{className:"text-white/90",children:i})]}),s.bonusBuffExpires&&s.bonusBuffExpires>Date.now()&&e.jsxs("span",{className:"text-[10px] uppercase tracking-[0.18em] text-white/60",children:["до ",new Date(s.bonusBuffExpires).toLocaleTimeString()]})]}),c&&e.jsx("div",{className:"mt-1 text-white/70",children:c})]}),l&&e.jsxs("div",{className:`mb-4 rounded-2xl p-3 ${B}`,children:[e.jsxs("div",{className:"mb-1 flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-semibold text-white/90",children:[l.icon??"⭐"," ",l.label]}),e.jsxs("div",{className:"text-xs text-white/65",children:["Прогресс: ",l.progress,"/",l.target,b?` • До обновления: ${b}`:""]}),l.hint&&e.jsx("div",{className:"mt-1 text-xs text-white/60",children:l.hint})]}),e.jsxs("div",{className:"text-xs text-white/70",children:["Награда: ",e.jsxs("b",{className:"text-white/90",children:[l.reward," 🪙"]})]})]}),e.jsx("div",{className:"mb-3 h-1.5 w-full overflow-hidden rounded-full bg-white/10",children:e.jsx("div",{className:"h-full rounded-full bg-emerald-400/80",style:{width:`${Math.min(100,l.progress/l.target*100)}%`}})}),e.jsx("button",{className:"btn btn-primary !rounded-full !px-3 !py-1.5",disabled:l.claimed||l.progress<l.target,onClick:()=>n("weekly",l),children:l.claimed?"Получено":l.progress>=l.target?"Забрать награду":"Продолжай"})]}),e.jsx("div",{className:"grid gap-2",children:s.quests.map(d=>{const h=d.progress>=d.target;return e.jsxs("div",{className:`rounded-2xl p-3 ${B}`,children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium text-white/90",children:[e.jsx("span",{className:"text-lg",children:d.icon??"⭐"}),e.jsx("span",{children:d.label})]}),e.jsxs("div",{className:"text-xs text-white/65",children:["Прогресс: ",d.progress,"/",d.target," • Награда: ",d.reward," 🪙"]}),d.hint&&e.jsx("div",{className:"text-xs text-white/60",children:d.hint})]}),e.jsx("button",{className:"btn btn-primary !rounded-full !px-3 !py-1.5",disabled:d.claimed||!h,onClick:()=>n("daily",d),children:d.claimed?"Получено":h?"Забрать":"В прогрессе"})]}),e.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-white/10",children:e.jsx("div",{className:`h-full rounded-full ${h?"bg-emerald-400/80":"bg-white/40"}`,style:{width:`${Math.min(100,d.progress/d.target*100)}%`}})})]},d.id)})})]})})},Ne="relative overflow-hidden rounded-3xl border border-white/12 bg-[rgba(16,18,32,0.88)] p-5 shadow-[0_28px_80px_rgba(12,16,32,0.55)]",_e={position:"absolute",inset:0,pointerEvents:"none",background:"radial-gradient(circle at 20% -10%, rgba(124,58,237,0.45), transparent 45%),radial-gradient(circle at 85% 20%, rgba(6,182,212,0.28), transparent 50%),radial-gradient(circle at 40% 110%, rgba(236,72,153,0.32), transparent 55%)",filter:"blur(0px) saturate(130%)"},ur=({onClose:t,onFinish:s})=>{const[c,b]=x.useState(20),[d,h]=x.useState(0),[g,m]=x.useState({x:60,y:60}),[j,E]=x.useState(!0);x.useEffect(()=>{if(!j)return;const k=setInterval(()=>b(N=>N-1),1e3),w=setInterval(()=>C(),700);return()=>{clearInterval(k),clearInterval(w)}},[j]),x.useEffect(()=>{c<=0&&(E(!1),s(d))},[c]);function C(){m({x:Math.random()*(380-18*2)+18,y:Math.random()*(220-18*2)+18})}function S(){j&&(h(k=>k+1),C(),U(980,.05,"triangle"))}return e.jsxs("div",{className:Ne,children:[e.jsx("div",{style:_e}),e.jsx("div",{className:"absolute -left-12 top-6 h-24 w-24 rounded-full bg-violet-500/30 blur-[60px]"}),e.jsx("div",{className:"absolute -bottom-10 right-0 h-32 w-32 rounded-full bg-sky-400/20 blur-[70px]"}),e.jsxs("div",{className:"relative space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-white/90",children:["Реакция «Блик»",e.jsx("span",{className:"rounded-full bg-white/15 px-2 py-0.5 text-[10px] uppercase tracking-[0.3em] text-white/60",children:"20s"})]}),e.jsx("div",{className:"text-xs text-white/65",children:"Нажимайте на светящийся шарик, чтобы набрать очки."})]}),e.jsx("button",{className:"btn !rounded-xl !border-white/20 !bg-white/10 hover:!bg-white/15 text-white/90",onClick:t,children:"Закрыть"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white/75",children:[e.jsxs(z,{children:["⏳ Осталось: ",c,"s"]}),e.jsxs(z,{children:["🏆 Счёт: ",d]})]}),e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-white/10 bg-[radial-gradient(circle_at_50%_20%,rgba(252,255,255,0.18),rgba(12,16,32,0.92))] p-2",style:{width:396,height:236},children:[e.jsx("div",{className:"absolute inset-0 animate-[pulse_6s_ease-in-out_infinite] bg-[radial-gradient(circle_at_80%_20%,rgba(165,243,252,0.18),transparent_60%)]"}),e.jsx("div",{className:"absolute inset-0 animate-[spin_18s_linear_infinite] bg-[conic-gradient(from_180deg_at_50%_50%,rgba(255,255,255,0.06),transparent_65%)]"}),e.jsx("div",{className:"relative h-full w-full overflow-hidden rounded-xl",style:{width:380,height:220},children:e.jsx("div",{onClick:S,style:{left:g.x-18,top:g.y-18,width:18*2,height:18*2},className:"absolute grid place-items-center cursor-pointer",children:e.jsxs("div",{className:"relative h-full w-full",children:[e.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-sky-300/30"}),e.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_25px_rgba(99,102,241,0.7)]",style:{background:"radial-gradient(closest-side, rgba(255,255,255,0.95), rgba(56,189,248,0.35), rgba(14,15,30,0.4))"}}),e.jsx("div",{className:"absolute inset-[25%] rounded-full bg-white/70 blur-sm"})]})})})]}),!j&&e.jsxs("div",{className:"text-sm text-white/75",children:["Игра окончена. Счёт: ",d]})]})]})},pr=({onClose:t,onFinish:s})=>{const[c,b]=x.useState([{x:10,y:7}]),[d,h]=x.useState({x:1,y:0}),[g,m]=x.useState({x:5,y:5}),[j,E]=x.useState(0),[C,S]=x.useState(!1);return x.useEffect(()=>{const k=w=>{w.key==="ArrowUp"&&d.y!==1&&h({x:0,y:-1}),w.key==="ArrowDown"&&d.y!==-1&&h({x:0,y:1}),w.key==="ArrowLeft"&&d.x!==1&&h({x:-1,y:0}),w.key==="ArrowRight"&&d.x!==-1&&h({x:1,y:0})};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[d]),x.useEffect(()=>{if(C)return;const k=setInterval(()=>{b(w=>{const N={x:(w[0].x+d.x+20)%20,y:(w[0].y+d.y+14)%14};if(w.some(I=>I.x===N.x&&I.y===N.y))return S(!0),s(j),w;const A=[N,...w];return N.x===g.x&&N.y===g.y?(E(I=>I+1),U(760,.05,"square"),m({x:Math.floor(Math.random()*20),y:Math.floor(Math.random()*14)}),A):(A.pop(),A)})},120);return()=>clearInterval(k)},[d,g,C,j,s]),e.jsxs("div",{className:Ne,children:[e.jsx("div",{style:_e}),e.jsx("div",{className:"absolute -top-16 right-4 h-36 w-36 rounded-full bg-emerald-400/20 blur-[70px]"}),e.jsx("div",{className:"absolute left-0 top-1/2 h-32 w-32 -translate-x-1/3 -translate-y-1/2 rounded-full bg-blue-500/20 blur-[80px]"}),e.jsxs("div",{className:"relative space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-white/90",children:["Аркада «Змейка»",e.jsx("span",{className:"rounded-full bg-white/15 px-2 py-0.5 text-[10px] uppercase tracking-[0.3em] text-white/60",children:"стрелки"})]}),e.jsx("div",{className:"text-xs text-white/65",children:"Собирайте вспышки света и избегайте собственного хвоста."})]}),e.jsx("button",{className:"btn !rounded-xl !border-white/20 !bg-white/10 hover:!bg-white/15 text-white/90",onClick:t,children:"Закрыть"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white/75",children:[e.jsxs(z,{children:["🏆 Счёт: ",j]}),e.jsx(z,{children:"🍏 Цель: бесконечность"})]}),e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-emerald-300/30 bg-[rgba(8,12,22,0.7)] p-2",style:{width:20*16+16,height:14*16+16},children:[e.jsx("div",{className:"absolute inset-0 opacity-70",style:{backgroundImage:"linear-gradient(rgba(45,212,191,0.08) 1px, transparent 1px), linear-gradient(90deg, rgba(45,212,191,0.08) 1px, transparent 1px)",backgroundSize:"16px 16px"}}),e.jsxs("div",{className:"relative h-full w-full overflow-hidden rounded-xl bg-[radial-gradient(circle_at_50%_50%,rgba(15,118,110,0.25),rgba(8,11,20,0.9))]",style:{width:20*16,height:14*16},children:[e.jsx("div",{className:"absolute rounded-lg shadow-[0_0_18px_rgba(110,231,183,0.45)]",style:{left:g.x*16,top:g.y*16,width:16,height:16,background:"radial-gradient(circle, rgba(167,243,208,0.95), rgba(45,212,191,0.3) 70%, rgba(6,95,70,0.4))"}}),c.map((k,w)=>e.jsx("div",{className:"absolute rounded-lg bg-gradient-to-br from-emerald-400/70 to-emerald-500/50 shadow-[0_6px_14px_rgba(16,185,129,0.35)]",style:{left:k.x*16+1,top:k.y*16+1,width:14,height:14}},w))]})]}),C&&e.jsxs("div",{className:"text-sm text-white/75",children:["Игра окончена. Счёт: ",j]})]})]})},gr=({onClose:t,onFinish:s})=>{const[l,i]=x.useState(1),[c,b]=x.useState([]),[d,h]=x.useState(0),[g,m]=x.useState(0),[j,E]=x.useState(30),C=x.useRef(!1);x.useEffect(()=>{const k=w=>{w.key==="ArrowLeft"&&i(N=>Math.max(0,N-1)),w.key==="ArrowRight"&&i(N=>Math.min(2,N+1))};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[3]),x.useEffect(()=>{if(j<=0||g>=3)return;const k=setInterval(()=>{b(w=>{const N=[];return w.forEach(A=>{const I=A.progress+.12;I>=1?A.lane===l?(h(H=>H+1),U(720,.05,"triangle")):m(H=>H+1):N.push({lane:A.lane,progress:I})}),N})},120);return()=>clearInterval(k)},[l,j,g]),x.useEffect(()=>{if(j<=0||g>=3)return;const k=setInterval(()=>{b(w=>[...w,{lane:Math.floor(Math.random()*3),progress:0}])},700);return()=>clearInterval(k)},[j,g]),x.useEffect(()=>{C.current||(j<=0||g>=3)&&(C.current=!0,s(d))},[j,g,d,s]),x.useEffect(()=>{if(C.current)return;const k=setInterval(()=>E(w=>w-1),1e3);return()=>clearInterval(k)},[]);const S=!(j<=0||g>=3);return e.jsxs("div",{className:`${Ne} w-[340px]`,children:[e.jsx("div",{style:_e}),e.jsx("div",{className:"absolute -top-8 left-1/2 h-28 w-28 -translate-x-1/2 rounded-full bg-fuchsia-400/20 blur-[80px]"}),e.jsx("div",{className:"absolute bottom-0 right-0 h-32 w-32 translate-x-1/3 rounded-full bg-indigo-500/25 blur-[90px]"}),e.jsxs("div",{className:"relative space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-white/90",children:["Шторм «Метеор-дождь»",e.jsxs("span",{className:"rounded-full bg-white/15 px-2 py-0.5 text-[10px] uppercase tracking-[0.3em] text-white/60",children:[Math.max(0,j),"s"]})]}),e.jsx("div",{className:"text-xs text-white/65",children:"Перехватывайте падающие звёзды и избегайте промахов."})]}),e.jsx("button",{className:"btn !rounded-xl !border-white/20 !bg-white/10 hover:!bg-white/15 text-white/90",onClick:t,children:"Закрыть"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white/75",children:[e.jsxs(z,{children:["☄️ Очки: ",d]}),e.jsxs(z,{children:["⚠️ Промахи: ",g,"/3"]})]}),e.jsxs("div",{className:"relative mx-auto h-44 w-full max-w-[280px] overflow-hidden rounded-2xl border border-white/12 bg-[radial-gradient(circle_at_50%_-20%,rgba(129,140,248,0.35),rgba(10,12,24,0.92))]",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 50% 0%, rgba(248,250,252,0.1), transparent 65%)"}}),e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(rgba(99,102,241,0.12) 1px, transparent 1px)",backgroundSize:`100% ${100/6}%`}}),c.map((k,w)=>e.jsx("div",{className:"absolute flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-slate-50/95 to-indigo-400/70 text-indigo-900 shadow-[0_12px_30px_rgba(129,140,248,0.4)]",style:{left:`${(k.lane+.5)*(100/3)}%`,transform:"translateX(-50%)",top:`${k.progress*100}%`},children:"✨"},w)),e.jsx("div",{className:"absolute inset-x-0 bottom-3 flex items-center justify-around px-4",children:Array.from({length:3}).map((k,w)=>e.jsx("div",{className:`h-10 w-16 rounded-2xl border backdrop-blur-sm transition-colors ${l===w?"border-emerald-300 bg-emerald-400/25 shadow-[0_0_18px_rgba(16,185,129,0.35)]":"border-white/12 bg-white/5"}`},w))})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3 text-sm",children:[e.jsx("button",{className:"btn !rounded-full !px-3",disabled:!S,onClick:()=>i(k=>Math.max(0,k-1)),children:"⬅️"}),e.jsx("button",{className:"btn !rounded-full !px-3",disabled:!S,onClick:()=>i(k=>Math.min(2,k+1)),children:"➡️"})]}),!S&&e.jsxs("div",{className:"text-sm text-white/75",children:["Игра окончена. Счёт: ",d]})]})]})},fr=({onClose:t,onFinish:s})=>{const[l,i]=x.useState(()=>Math.floor(Math.random()*9)),[c,b]=x.useState(0),[d,h]=x.useState(0),[g,m]=x.useState(30),[j,E]=x.useState(!0),C=x.useRef(!1);x.useEffect(()=>{if(C.current)return;const w=setInterval(()=>m(N=>N-1),1e3);return()=>clearInterval(w)},[]),x.useEffect(()=>{if(g<=0||d>=5)return;const w=setInterval(()=>{i(N=>{j||h(I=>I+1);const A=Math.floor(Math.random()*9);return E(!1),A===N?(A+1)%9:A})},850);return()=>clearInterval(w)},[g,d,j]),x.useEffect(()=>{C.current||(g<=0||d>=5)&&(C.current=!0,s(c))},[g,d,c,s]);const S=w=>{C.current||g<=0||d>=5||(w===l?(b(N=>N+1),E(!0),U(880,.05,"square")):h(N=>N+1))},k=!(g<=0||d>=5);return e.jsxs("div",{className:`${Ne} w-[320px]`,children:[e.jsx("div",{style:_e}),e.jsx("div",{className:"absolute -top-10 right-6 h-28 w-28 rounded-full bg-cyan-400/25 blur-[80px]"}),e.jsx("div",{className:"absolute bottom-0 left-1/2 h-40 w-40 -translate-x-1/2 translate-y-1/3 rounded-full bg-purple-500/25 blur-[90px]"}),e.jsxs("div",{className:"relative space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-white/90",children:["«Неоновое поле»",e.jsxs("span",{className:"rounded-full bg-white/15 px-2 py-0.5 text-[10px] uppercase tracking-[0.3em] text-white/60",children:[Math.max(0,g),"s"]})]}),e.jsx("div",{className:"text-xs text-white/65",children:"Находите подсвеченную плитку, пока таймер не истечёт."})]}),e.jsx("button",{className:"btn !rounded-xl !border-white/20 !bg-white/10 hover:!bg-white/15 text-white/90",onClick:t,children:"Закрыть"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white/75",children:[e.jsxs(z,{children:["⚡ Очки: ",c]}),e.jsxs(z,{children:["✖ Ошибки: ",d,"/5"]})]}),e.jsx("div",{className:"rounded-2xl border border-white/12 bg-[rgba(9,13,24,0.65)] p-3 shadow-[0_20px_60px_rgba(13,17,33,0.4)]",children:e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:9}).map((w,N)=>e.jsxs("button",{className:`relative aspect-square overflow-hidden rounded-2xl border transition-all duration-200 ${N===l?"border-cyan-300/90 bg-cyan-200/30 shadow-[0_0_25px_rgba(103,232,249,0.45)] scale-[1.04]":"border-white/10 bg-white/5"}`,onClick:()=>S(N),disabled:!k,children:[e.jsx("span",{className:`absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(165,243,252,0.45),transparent_65%)] transition-opacity ${N===l?"opacity-100":"opacity-0"}`}),e.jsx("span",{className:`absolute inset-0 bg-[conic-gradient(from_0deg_at_50%_50%,rgba(129,140,248,0.3),transparent_70%)] blur-md transition-opacity ${N===l?"opacity-70":"opacity-0"}`})]},N))})}),!k&&e.jsxs("div",{className:"text-sm text-white/75",children:["Игра окончена. Счёт: ",c]})]})]})};class vt extends x.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){const s=!!this.context;return this.state.hasError?e.jsx("div",{className:s?"mx-auto max-w-2xl p-6 text-sm rounded-2xl border border-white/10 bg-[rgba(12,14,22,.9)] text-white/80":"mx-auto max-w-2xl p-6 text-sm rounded-2xl border border-slate-200 bg-white/95 text-slate-700 shadow-[0_12px_32px_rgba(148,163,184,0.2)]",children:"Что-то пошло не так. Перезагрузите страницу. Ошибка перехвачена, поэтому чёрного экрана больше не будет."}):this.props.children}}at(vt,"contextType",Te);const br=({children:t,className:s})=>{const n=xt();return ht()?e.jsx(Vt,{className:`p-5 sm:p-6 ${n?"text-white/90":"text-slate-900"} ${s??""}`,blur:26,gloss:.8,tint:"16 18 36",opacity:.2,elevation:1.2,animate:!0,children:t}):e.jsx("section",{className:`rounded-3xl border ${n?"border-white/12 bg-[rgba(18,22,38,0.92)] text-white/90 shadow-[0_28px_88px_rgba(5,8,24,0.52)]":"border-slate-200 bg-white/95 text-slate-900 shadow-[0_28px_88px_rgba(148,163,184,0.26)]"} p-5 sm:p-6 backdrop-blur ${s??""}`,children:t})};function Nr(){var Pe,He,Ve,Ue,Ye,Qe,Ke,Xe,Je,Ze,qe;const[t,s]=ir(),[n,l]=x.useState(null),[i,c]=x.useState(!1),[b,d]=x.useState(!1),[h,g]=x.useState(!1),[m,j]=x.useState(!1),[E,C]=x.useState(!1),[S,k]=x.useState(!1),[w,N]=x.useState(!1);ht();const A=Kt(),I=x.useRef(t.game.level),H=x.useRef([]);H.current.length||(H.current=Array.from({length:6}).map(()=>({left:8+Math.random()*84,top:6+Math.random()*70,size:120+Math.random()*80,duration:10+Math.random()*6,delay:-Math.random()*8,opacity:.25+Math.random()*.25})));const Ce=x.useCallback(()=>{s(r=>{var a;return{...r,config:{...r.config??{},animations:!(((a=r.config)==null?void 0:a.animations)??!0)}}})},[s]),Me=x.useCallback(()=>{s(r=>{var o,u,f;const a={animations:((o=r.config)==null?void 0:o.animations)??!0,sounds:!(((u=r.config)==null?void 0:u.sounds)??!0),haptics:(f=r.config)==null?void 0:f.haptics};return{...r,config:a}})},[s]),$=r=>s(a=>({...a,log:[r,...a.log].slice(0,20)}));function F(r,a){s(o=>{var y,v,_;if((y=o.achievements)==null?void 0:y[r])return o;const f={...o.achievements??{},[r]:!0};return(((v=o.config)==null?void 0:v.sounds)??!0)&&Xt([860,1140,1460],.12,"triangle"),(((_=o.config)==null?void 0:_.haptics)??!0)&&he(25),yr("🏆 Достижение: "+(a??r)),{...o,achievements:f,log:[`🏆 Достижение: ${a??r}`,...o.log].slice(0,20)}})}x.useEffect(()=>{s(r=>{if(r.game.lastLogin===q())return r;const a=new Date(r.game.lastLogin),o=new Date(q()),f=Math.round((+o-+a)/864e5)===1?r.game.streak+1:1;f>=3&&setTimeout(()=>F("streak3","Серия входов: 3 дня"),0);const y=wt(),v=bt(),_=V(),M=r.daily.weeklyChallenge,T=M?Number.isNaN(Date.parse(M.expiresAt))||Date.parse(M.expiresAt)<=_:!0,Z=T||!M?yt():M,P=_+We(24*3600),G={...r.daily,date:q(),rewardClaimed:!1,quests:v,buff:y,weeklyChallenge:Z,bonusBuffExpires:P},O=[`Новые ежедневные задания — бафф: ${jt(y)}`,...r.log].slice(0,20),D=T?[`Обновлён недельный квест: ${Z.label}`,...O].slice(0,20):O;return{...r,game:{...r.game,lastLogin:q(),streak:f},daily:G,log:D}})},[]),x.useEffect(()=>{s(a=>{const o=V(),u=Math.max(0,(o-(a.stats.last||o))/6e4),f=L(a.stats.hunger+u*.15),y=L(a.stats.energy+u*.08),v=L(a.stats.mood-u*(f>70?.2:.05)+(y>70?.04*u:0)),_=a.fatigue??{stamina:100,last:o},M=(o-_.last)/6e4*6,T=L(Math.round(Math.min(100,(_.stamina??100)+M)));return{...a,stats:{...a.stats,hunger:f,energy:y,mood:v,last:o},fatigue:{stamina:T,last:o}}});const r=setInterval(()=>{s(a=>{const o=V(),u=Math.max(0,(o-(a.stats.last||o))/6e4),f=L(a.stats.hunger+u*.03),y=L(a.stats.energy+u*.05),v=L(a.stats.mood-u*(f>80?.12:.03)+(y>80?.03*u:0)),_=a.fatigue??{stamina:100,last:o},M=(o-_.last)/6e4*6,T=L(Math.round(Math.min(100,(_.stamina??100)+M)));return{...a,stats:{...a.stats,hunger:f,energy:y,mood:v,last:o},fatigue:{stamina:T,last:o}}})},2e4);return()=>clearInterval(r)},[]),x.useEffect(()=>{const r=I.current;if(t.game.level>r)try{const a=document.createElement("canvas");a.width=300,a.height=120,a.style.position="fixed",a.style.right="16px",a.style.top="16px",a.style.zIndex="200",document.body.appendChild(a);const o=a.getContext("2d"),u=Array.from({length:60}).map((v,_)=>({x:150,y:20,vx:(Math.random()-.5)*6,vy:Math.random()*2+1,life:60+Math.random()*40,hue:_*37%360}));let f=0;const y=()=>{f++,o.clearRect(0,0,a.width,a.height),u.forEach(v=>{v.x+=v.vx,v.y+=v.vy,v.vy+=.05,v.life-=1,o.fillStyle=`hsl(${v.hue} 80% 60%)`,o.fillRect(v.x,v.y,4,8)}),f<120?requestAnimationFrame(y):a.remove()};y(),t.game.level>=5&&F("level5","Достигнут уровень 5")}catch{}I.current=t.game.level},[t.game.level]),x.useEffect(()=>{s(r=>{const a=We(21600);if(!r.shop||r.shop.rotAt<V()){const u=Y.filter(f=>!f.exclusive).sort(()=>Math.random()-.5).slice(0,8).map(f=>f.id);return{...r,shop:{rotAt:V()+a,items:u}}}return r})},[]),x.useEffect(()=>{const r=a=>{(a.ctrlKey||a.metaKey)&&a.shiftKey&&a.code==="KeyK"&&(a.preventDefault(),N(!0))};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]);function ue(){try{for(let a=0;a<8;a++){const o=document.createElement("span");Object.assign(o.style,{position:"fixed",left:"50%",top:"180px",width:"8px",height:"8px",background:"radial-gradient(circle, rgba(255,255,255,.9), rgba(255,255,255,0))",borderRadius:"50%",transform:"translate(-50%, 0)",pointerEvents:"none",filter:"drop-shadow(0 0 8px rgba(255,180,220,.7))",zIndex:"250"}),document.body.appendChild(o);const u=Math.PI*2*a/8,f=Math.cos(u)*90,y=Math.sin(u)*50;o.animate([{transform:"translate(-50%,0) scale(0.6)",opacity:1},{transform:`translate(calc(-50% + ${f}px), ${y}px) scale(0)`,opacity:0}],{duration:650,easing:"ease-out"}).onfinish=()=>o.remove()}}catch{}}function re(r,a,o=0){const u=t.daily.buff,f=Math.round(a*lt(u,"xp")),y=Math.round(o*lt(u,"coins"));let v=(r.xp??0)+f,_=r.level,M=r.coins+y;for(;v>=100;)v-=100,_+=1;return{...r,xp:v,level:_,coins:M}}function Q(r,a,o=1){const u=r.daily.quests.map(y=>y.id===a||!!y.tracker&&y.tracker===a?{...y,progress:Math.min(y.target,y.progress+o)}:y);let f=r.daily.weeklyChallenge;return f&&(f.id===a||f.tracker&&f.tracker===a)&&(f={...f,progress:Math.min(f.target,f.progress+o)}),{...r,daily:{...r.daily,quests:u,weeklyChallenge:f}}}function K(r,a=1){s(o=>Q(o,r,a))}function oe(r){s(a=>{if(a.inv[r]<=0)return $("Нет в инвентаре."),a;const o={...a.inv,[r]:a.inv[r]-1},u=r==="meal"?30:12,f={...a.stats,hunger:L(a.stats.hunger-u),mood:L(a.stats.mood+(r==="meal"?10:5))},y=re(a.game,r==="meal"?6:3,0);return $(r==="meal"?"М-мм! Спасибо! 😋":"Вкуснятина! ✨"),U(660,.06,"triangle"),he(10),K("feed",1),{...a,inv:o,stats:f,game:y}})}function p(){s(r=>{if(r.inv.toy<=0)return $("Игрушек нет."),r;if(r.stats.energy<8)return $("Мало энергии."),r;const a={...r.inv,toy:r.inv.toy-1},o={...r.stats,mood:L(r.stats.mood+12),energy:L(r.stats.energy-8)},u=re(r.game,8,2);return $("Играли! 🎮 +XP"),K("playtoy",1),{...r,inv:a,stats:o,game:u}})}function ee(){s(r=>{var o;const a={...r.stats,mood:L(r.stats.mood+6)};return(((o=r.config)==null?void 0:o.sounds)??!0)&&U(520,.07,"sine"),ue(),he(8),{...r,stats:a}}),F("firstPet","Погладить Чебзика"),K("pet",1)}function X(){s(r=>{if(r.inv.medkit<=0)return $("Аптечки нет."),r;const a={...r.inv,medkit:r.inv.medkit-1},o={...r.stats,energy:L(r.stats.energy+25)};return $("Энергия восстановлена."),U(420,.08,"sawtooth"),{...r,inv:a,stats:o}})}function Nt(){s(r=>{if(r.inv.gift<=0)return $("Подарков нет."),r;const a={...r.inv,gift:r.inv.gift-1},o=Math.random();if(o<.4)return a.cookie++,$("В подарке печенька! 🍪"),Q({...r,inv:a},"gift_open",1);if(o<.7)return a.toy++,$("В подарке игрушка! 🧸"),Q({...r,inv:a},"gift_open",1);const u={...r.game,coins:r.game.coins+5};return $("Монетки! +5"),Q({...r,inv:a,game:u},"gift_open",1)})}function _t(){s(r=>{if(r.daily.rewardClaimed&&r.daily.date===q())return $("Награда уже получена."),r;const a={...r.game,coins:r.game.coins+8},o={...r.inv,cookie:r.inv.cookie+1};return $("Ежедневная награда: +8 монет и 🍪"),U(780,.09,"square"),he(15),{...r,game:a,inv:o,daily:{...r.daily,rewardClaimed:!0}}})}function Ct(r,a){s(o=>{if(o.game.coins<a)return $("Недостаточно монет."),o;const u={...o.inv,[r]:o.inv[r]+1},f={...o.game,coins:o.game.coins-a};return $(`Куплено: ${r}`),{...o,inv:u,game:f}})}function Mt(r,a){s(o=>{var y,v,_;if(o.game.coins<a)return $("Недостаточно монет."),o;if((y=o.cosm)!=null&&y.owned.includes(r))return o;const u={...o.cosm??{owned:[],equipped:{}},owned:[...((v=o.cosm)==null?void 0:v.owned)??[],r]},f={...o.game,coins:o.game.coins-a};return $(`Куплено в бутике: ${((_=Y.find(M=>M.id===r))==null?void 0:_.name)??r}`),{...o,cosm:u,game:f}})}function Be(r){var o,u;const a=Y.find(f=>f.id===r);return((u=(o=a==null?void 0:a.data)==null?void 0:o.grad)==null?void 0:u[1])??"#8B5CF6"}function le(r){try{const a=document.documentElement.style;r?a.setProperty("--accent",Be(r)):a.removeProperty("--accent")}catch{}}function $t(r){s(a=>{var y,v,_;if(!(((y=a.cosm)==null?void 0:y.owned)??[]).includes(r.id)||(((v=a.cosm)==null?void 0:v.equipped)??{})[r.kind]===r.id)return a;const o={...((_=a.cosm)==null?void 0:_.equipped)??{}};o[r.kind]=r.id;const u={...a.cosm??{owned:[],equipped:{}},equipped:o};r.kind==="palette"&&le(r.id);let f={...a,cosm:u};return(r.rarity==="rare"||r.rarity==="epic"||r.rarity==="legendary")&&(f=Q(f,"equip_rare",1)),f})}function St(r){s(a=>{var f;const o={...((f=a.cosm)==null?void 0:f.equipped)??{}};delete o[r],r==="palette"&&le(void 0);const u={...a.cosm??{owned:[],equipped:{}},equipped:o};return{...a,cosm:u}})}x.useEffect(()=>{var r,a;try{le((a=(r=t.cosm)==null?void 0:r.equipped)==null?void 0:a.palette)}catch{}},[]);function Et(r){const a=[];return s(o=>{const u=[...o.codes??[],r.code],f=o.cosm??{owned:[],equipped:{}},y={owned:[...f.owned],equipped:{...f.equipped??{}}},v={...o.game},_={...o.inv};let M=!1,T=!1,Z=!1;if(r.grant.addCosmetics){const G=r.grant.addCosmetics==="ALL"?qt:r.grant.addCosmetics,O=new Set(f.owned),D=G.filter(de=>!O.has(de)),et=Array.from(new Set([...f.owned,...G]));if(D.length){const de=D.map(rt=>{var st;return((st=ut[rt])==null?void 0:st.name)??rt}),tt=de.slice(0,4).join(", ");a.push(de.length>4?`аксессуары: ${tt} и ещё ${de.length-4}`:`аксессуары: ${tt}`)}(et.length!==f.owned.length||D.length>0)&&(y.owned=et,M=!0)}if(typeof r.grant.addCoins=="number"&&r.grant.addCoins!==0&&(v.coins+=r.grant.addCoins,a.push(`+${r.grant.addCoins} монет`),T=!0),typeof r.grant.minCoins=="number"&&v.coins<r.grant.minCoins&&(v.coins=r.grant.minCoins,a.push(`баланс до ${r.grant.minCoins} монет`),T=!0),r.grant.addInventory){const G=[];Object.entries(r.grant.addInventory).forEach(([O,D])=>{D&&(_[O]=(_[O]??0)+D,G.push(`${ot[O].emoji} +${D}`))}),G.length&&(a.push(`припасы: ${G.join(", ")}`),Z=!0)}if(r.grant.minInventory){const G=[];Object.entries(r.grant.minInventory).forEach(([O,D])=>{typeof D=="number"&&_[O]<D&&(_[O]=D,G.push(`${ot[O].emoji} ≥${D}`))}),G.length&&(a.push(`минимум запасов: ${G.join(", ")}`),Z=!0)}let P={...o,codes:u};return M&&(P={...P,cosm:y}),T&&(P={...P,game:v}),Z&&(P={...P,inv:_}),P}),a.join(", ")}function zt(r){const a=r.trim().toUpperCase();if(!a)return{ok:!1,message:"Введите код."};if((t.codes??[]).includes(a))return{ok:!1,message:"Код уже активирован."};const u=pt[a];if(!u)return{ok:!1,message:"Такого кода нет."};const f=Et(u)||u.title,y=`${u.code}: ${f}`;return U(900,.1,"triangle"),$(`Код активирован — ${y}`),{ok:!0,message:y}}function pe(r,a){l(null),s(o=>{const u={...o.game.highs??{}};u[r]=Math.max(u[r]??0,a);const f=Yt[r],y=Math.max(0,Math.round(a/f.coinDivider)),v=Math.max(0,Math.round(a*f.xpMultiplier)),_=re({...o.game,highs:u},v,y);let M={...o,game:_,log:[`Победа в ${Qt[r]}: ${a}`,...o.log].slice(0,20)};if(Ie(o.daily.buff,"mood")){const T={...M.stats,mood:L(M.stats.mood+Math.min(15,Math.round(a/2)))};M={...M,stats:T}}else if(Ie(o.daily.buff,"stamina")){const T=M.fatigue??{stamina:100},Z=Math.min(12,Math.round(a/2)),P=L(Math.min(100,(T.stamina??100)+Z));M={...M,fatigue:{stamina:P,last:V()}}}return M}),F("firstWin","Первая победа в мини-игре"),r==="blink"&&a>=15&&F("blink15","Блик: 15 очков"),r==="snake"&&a>=10&&F("snake10","Змейка: 10 яблок"),r==="meteor"&&a>=12&&F("meteor12","Метеор-дождь: 12 звёзд"),r==="glow"&&a>=14&&F("glow14","Неоновое поле: 14 огоньков"),K("mini_any",1),K(`mini_${r}`,1)}function ge(r){var u;const a=((u=t.fatigue)==null?void 0:u.stamina)??100,o=ie[r]??nt;if(a<o){alert("Чебзик устал. Немного отдохнём!");return}s(f=>({...f,fatigue:{stamina:L(a-o),last:V()}})),l(r)}function Lt(r,a){s(o=>{let u=o.daily;r==="daily"?u={...u,quests:u.quests.map(y=>y.id===a.id?{...y,claimed:!0}:y)}:r==="weekly"&&u.weeklyChallenge&&(u={...u,weeklyChallenge:{...u.weeklyChallenge,claimed:!0}});const f={...o.game,coins:o.game.coins+a.reward};return U(800,.08,"square"),he(15),$(`Квест завершён: ${a.label} (+${a.reward}🪙)`),{...o,daily:u,game:f}})}function At(){try{const r=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download="chebzik-save.json",document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(a),$("Сейв сохранён в файл chebzik-save.json")}catch{try{navigator.clipboard.writeText(JSON.stringify(t,null,2)),$("Сейв скопирован в буфер.")}catch{}}}function Wt(){const r=prompt("Вставьте JSON сейва:");if(r)try{const a=JSON.parse(r);s(a),$("Сейв импортирован.")}catch{alert("Не удалось импортировать.")}}function It(){confirm("Сбросить прогресс Чебзика?")&&s(De())}function Re(r){var o;const a=(o=prompt("Новое имя Чебзика:",t.stats.name))==null?void 0:o.trim();a&&s(u=>({...u,stats:{...u.stats,name:a}}))}const fe=ze(1-t.stats.hunger/100),te=ze(t.stats.mood/100),se=ze(t.stats.energy/100),Tt=1-fe>.8?"очень голоден":te<.3?"грустит":se<.25?"очень устал":te>.85?"в восторге":"доволен",$e=((Pe=t.cosm)==null?void 0:Pe.equipped)??{},ae=$e.palette,be=((He=t.fatigue)==null?void 0:He.stamina)??100,J=x.useMemo(()=>Be(ae),[ae]),Se=x.useMemo(()=>W(J,.35),[J]),Ge=x.useMemo(()=>W(J,.18),[J]),Dt=x.useMemo(()=>{const r=W(J,.22),a=W(J,.12);return`radial-gradient(120% 140% at 15% 20%, ${r}, transparent 65%), radial-gradient(160% 120% at 85% 10%, ${a}, transparent 70%), linear-gradient(180deg, rgba(12,14,24,0.96), rgba(5,7,12,0.94))`},[J]),Bt=x.useMemo(()=>fe<.45?"Время перекуса — печеньки и обед спасут положение.":te<.4?"Добавь веселья: мини-игры и игрушки творят чудеса!":se<.4?"Чебзику нужен отдых: аптечка и спокойствие помогут восстановиться.":be<40?"Дай Чебзику передышку перед следующими мини-играми.":"Настрой идеальный — можно заняться квестами и кастомизацией!",[fe,te,se,be]);x.useEffect(()=>{le(ae)},[ae]),x.useEffect(()=>()=>{le(void 0)},[]);const ye=t.daily.rewardClaimed&&t.daily.date===q(),Rt=t.daily.quests.filter(r=>r.progress>=r.target&&!r.claimed).length,Gt=t.daily.weeklyChallenge&&!t.daily.weeklyChallenge.claimed&&t.daily.weeklyChallenge.progress>=t.daily.weeklyChallenge.target?1:0,ce=Rt+Gt,Ot=((Ve=t.cosm)==null?void 0:Ve.owned.length)??0,Oe=((Ue=t.shop)==null?void 0:Ue.items.length)??0,Fe=Object.keys(t.achievements??{}).length,Ee=xe.length,R=r=>be>=(ie[r]??nt),Ft=[{key:"blink",icon:"✨",title:"Мини-игра «Блик»",description:R("blink")?"Тренируй реакцию и копи монеты":`Нужно ${ie.blink} выносливости`,onClick:()=>ge("blink"),accent:R("blink"),disabled:!R("blink"),color:J},{key:"snake",icon:"🐍",title:"Мини-игра «Змейка»",description:R("snake")?"Классика: собери максимум яблок":`Нужно ${ie.snake} выносливости`,onClick:()=>ge("snake"),accent:R("snake"),disabled:!R("snake"),color:"#34d399"},{key:"meteor",icon:"☄️",title:"Мини-игра «Метеор-дождь»",description:R("meteor")?"Лови звёзды и избегай промахов":`Нужно ${ie.meteor} выносливости`,onClick:()=>ge("meteor"),accent:R("meteor"),disabled:!R("meteor"),color:"#f87171"},{key:"glow",icon:"💡",title:"Мини-игра «Неоновое поле»",description:R("glow")?"Щёлкай по вспышкам как можно быстрее":`Нужно ${ie.glow} выносливости`,onClick:()=>ge("glow"),accent:R("glow"),disabled:!R("glow"),color:"#60a5fa"},{key:"daily",icon:"🎁",title:"Ежедневная награда",description:ye?"Уже получена сегодня":"+8 монет и печенька за вход",onClick:_t,badge:ye?void 0:"Готово",disabled:ye,accent:!ye,color:"#f59e0b"},{key:"quests",icon:"📜",title:"Квесты",description:ce?`Награды готовы: ${ce}`:"Прогресс ежедневных заданий",onClick:()=>k(!0),badge:ce?`×${ce}`:void 0,accent:ce>0,color:"#22d3ee"},{key:"shop",icon:"🛒",title:"Магазин предметов",description:"Пополнить запасы еды и игрушек",onClick:()=>c(!0),color:"#38bdf8"},{key:"boutique",icon:"🧢",title:"Бутик",description:Oe?`В витрине: ${Oe}`:"Обновление каждые 6 часов",onClick:()=>d(!0),color:"#a855f7"},{key:"wardrobe",icon:"🎨",title:"Гардероб",description:`Коллекция: ${Ot}`,onClick:()=>g(!0),color:"#ec4899"},{key:"achievements",icon:"🏆",title:"Достижения",description:`Прогресс ${Fe}/${Ee}`,onClick:()=>C(!0),badge:Fe===Ee&&Ee>0?"100%":void 0,color:"#10b981"},{key:"settings",icon:"⚙️",title:"Настройки",description:"Звуки, музыка, экспорт сейва",onClick:()=>j(!0),color:"#6366f1"},{key:"secret",icon:"🔑",title:"Секретный код",description:"Введите код для награды",onClick:()=>N(!0),color:"#f97316"}];return e.jsx(Te.Provider,{value:A,children:e.jsxs(vt,{children:[!A&&e.jsx("style",{dangerouslySetInnerHTML:{__html:Zt}}),e.jsx("div",{className:A?"":"buddy-light",children:e.jsxs("div",{className:"relative px-4 py-6",children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 -z-20",style:{background:Dt}}),e.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.12) 1px, transparent 1px)",backgroundSize:"46px 46px",opacity:.15,mixBlendMode:"screen"}}),e.jsxs("div",{className:"relative mx-auto max-w-3xl",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm opacity-90 hover:opacity-100 transition-opacity",children:e.jsx(Ut,{to:"/",children:"← На главную"})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[e.jsx(ct,{className:"h-7 w-7",mood:te,energy:se,palette:ae,equipped:$e}),e.jsx("button",{className:"hover:underline",onClick:()=>Re(),title:"Переименовать",children:t.stats.name})]})]}),e.jsx(br,{children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/12 bg-[rgba(14,18,32,0.9)] p-6 shadow-[0_32px_90px_rgba(6,10,30,0.55)] backdrop-blur-lg",children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-90",style:{background:`radial-gradient(120% 120% at 15% 15%, ${Se}, transparent 65%), radial-gradient(120% 120% at 85% 90%, ${Ge}, transparent 70%)`}}),e.jsx("div",{className:"pointer-events-none absolute inset-0 mix-blend-screen opacity-70",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0) 45%)"}}),e.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[H.current.map((r,a)=>e.jsx("span",{style:{position:"absolute",left:`${r.left}%`,top:`${r.top}%`,width:`${r.size}px`,height:`${r.size}px`,background:`radial-gradient(circle at 30% 30%, ${Se}, transparent 70%)`,borderRadius:"999px",opacity:r.opacity,filter:"blur(0px)",animation:`cheb-ambient-float ${r.duration}s ease-in-out infinite`,animationDelay:`${r.delay}s`}},`orb-${a}`)),H.current.map((r,a)=>e.jsx("span",{style:{position:"absolute",left:`${(r.left+8)%100}%`,top:`${(r.top+20)%100}%`,width:"2px",height:"2px",background:"rgba(255,255,255,0.65)",borderRadius:"50%",animation:`cheb-ambient-twinkle ${6+a}s ease-in-out infinite`,animationDelay:`${r.delay/2}s`}},`spark-${a}`))]}),e.jsxs("div",{className:"relative flex flex-col items-center gap-4 text-center",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:((Ye=t.config)==null?void 0:Ye.animations)??!0?"animate-bounce-slow":"",onClick:ee,title:"Погладить",children:e.jsx(ct,{className:"h-36 w-36 cursor-pointer",mood:te,energy:se,palette:ae,equipped:$e,showSticker:!0})})}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"opacity-80",children:["Сейчас Чебзик ",e.jsx("b",{className:"opacity-100 text-[color:var(--accent,#8B5CF6)]",children:Tt}),"."]}),e.jsx("div",{className:"text-[11px] font-medium uppercase tracking-[0.35em] text-white/60",children:Bt})]})]})]}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[e.jsx(Ae,{value:fe,label:"Сытость",tip:"Корми печенькой или обедом"}),e.jsx(Ae,{value:te,label:"Настроение",tip:"Игрушки и мини-игры повышают"}),e.jsx(Ae,{value:se,label:"Энергия",tip:"Аптечка помогает восстановиться"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm opacity-90",children:[e.jsxs(z,{children:["LVL ",t.game.level]}),e.jsxs(z,{children:["XP ",t.game.xp,"/100"]}),e.jsxs(z,{children:["🪙 ",t.game.coins]}),e.jsxs(z,{children:["🔥 ",t.game.streak," дн."]}),e.jsxs(z,{children:["⚡️ выносливость ",be]}),e.jsxs(z,{children:["🏆 рекорд Блик ",((Qe=t.game.highs)==null?void 0:Qe.blink)??0]}),e.jsxs(z,{children:["🐍 рекорд Змейка ",((Ke=t.game.highs)==null?void 0:Ke.snake)??0]})]}),e.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 ${B}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"🍪"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Печенька"}),e.jsx("div",{className:"opacity-60",children:"− голод · + настроение"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(z,{children:["× ",t.inv.cookie]}),e.jsx("button",{className:"btn",onClick:()=>oe("cookie"),children:"Использовать"})]})]}),e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 ${B}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"🍲"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Обед"}),e.jsx("div",{className:"opacity-60",children:"сытость ++"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(z,{children:["× ",t.inv.meal]}),e.jsx("button",{className:"btn",onClick:()=>oe("meal"),children:"Использовать"})]})]}),e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 ${B}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"🧸"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Игрушка"}),e.jsx("div",{className:"opacity-60",children:"веселье! − энергия"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(z,{children:["× ",t.inv.toy]}),e.jsx("button",{className:"btn",onClick:p,children:"Использовать"})]})]}),e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 ${B}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"💊"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Аптечка"}),e.jsx("div",{className:"opacity-60",children:"+ энергия"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(z,{children:["× ",t.inv.medkit]}),e.jsx("button",{className:"btn",onClick:X,children:"Использовать"})]})]}),e.jsxs("div",{className:`flex items-center justify-between rounded-xl p-3 sm:col-span-2 ${B}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"🎁"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Подарок"}),e.jsx("div",{className:"opacity-60",children:"рандомный лут"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(z,{children:["× ",t.inv.gift]}),e.jsx("button",{className:"btn",onClick:Nt,children:"Открыть"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-[0.35em] text-white/55",children:[e.jsx("span",{children:"Быстрые действия"}),e.jsx("span",{className:"rounded-full bg-white/10 px-2 py-1 text-[10px] font-medium tracking-[0.2em] text-white/70",children:"всё под рукой"})]}),e.jsxs("div",{className:"relative overflow-hidden rounded-[28px] border border-white/10 bg-[rgba(10,14,24,0.82)] p-4 shadow-[0_28px_70px_rgba(6,10,26,0.55)]",children:[e.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 -z-10 opacity-90",style:{background:`radial-gradient(120% 140% at 10% 20%, ${Se}, transparent 65%), radial-gradient(140% 140% at 90% 0%, ${Ge}, transparent 70%)`}}),e.jsx("div",{className:"relative grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:Ft.map(({key:r,...a})=>e.jsx(nr,{...a},r))})]})]}),!!t.log.length&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.28em] text-white/45",children:"Лента событий"}),e.jsx("ul",{className:"space-y-1 text-sm text-[color:var(--text-2,#d6dcff)]",children:t.log.map((r,a)=>e.jsxs("li",{children:["— ",r]},a))})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 z-[80] grid place-items-center bg-black/40 p-3",onClick:()=>l(null),children:e.jsxs("div",{onClick:r=>r.stopPropagation(),children:[n==="blink"&&e.jsx(ur,{onClose:()=>l(null),onFinish:r=>{l(null),pe("blink",r)}}),n==="snake"&&e.jsx(pr,{onClose:()=>l(null),onFinish:r=>{l(null),pe("snake",r)}}),n==="meteor"&&e.jsx(gr,{onClose:()=>l(null),onFinish:r=>{l(null),pe("meteor",r)}}),n==="glow"&&e.jsx(fr,{onClose:()=>l(null),onFinish:r=>{l(null),pe("glow",r)}})]})}),i&&e.jsx(or,{onClose:()=>c(!1),coins:t.game.coins,onBuy:(r,a)=>Ct(r,a)}),b&&e.jsx(lr,{onClose:()=>d(!1),rotIds:((Xe=t.shop)==null?void 0:Xe.items)??[],coins:t.game.coins,owned:((Je=t.cosm)==null?void 0:Je.owned)??[],onBuy:Mt}),w&&e.jsx(cr,{onClose:()=>N(!1),onRedeem:r=>zt(r)}),h&&e.jsx(dr,{onClose:()=>g(!1),cosm:t.cosm??{owned:[],equipped:{}},onEquip:$t,onUnequip:St}),m&&e.jsx(hr,{onClose:()=>j(!1),animations:((Ze=t.config)==null?void 0:Ze.animations)??!0,sounds:((qe=t.config)==null?void 0:qe.sounds)??!0,onToggleAnimations:Ce,onToggleSounds:Me,onExport:At,onImport:Wt,onReset:It,onRename:()=>Re()}),E&&e.jsx(xr,{onClose:()=>C(!1),save:t}),S&&e.jsx(mr,{onClose:()=>k(!1),daily:t.daily,onClaim:Lt}),e.jsx("style",{children:`
  .animate-bounce-slow { animation: cheb-bounce 3s ease-in-out infinite; transform-origin: 50% 100%; }
  @keyframes cheb-bounce { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-6px) } }
  @keyframes cheb-ambient-float { 0%,100% { transform: translateY(0) scale(1); opacity: 0.32; } 50% { transform: translateY(-14px) scale(1.08); opacity: 0.55; } }
  @keyframes cheb-ambient-twinkle { 0%,100% { opacity: 0.12; transform: scale(0.85); } 50% { opacity: 0.62; transform: scale(1.18); } }
`})]})]})})]})})}function yr(t){try{const s=document.createElement("div");s.textContent=t,s.style.position="fixed",s.style.right="16px",s.style.top="16px",s.style.padding="8px 12px",s.style.background="rgba(20,24,40,.9)",s.style.color="white",s.style.border="1px solid rgba(255,255,255,.12)",s.style.borderRadius="12px",s.style.zIndex="250",s.style.opacity="0",s.style.transform="translateY(-6px)",document.body.appendChild(s),s.animate([{opacity:0,transform:"translateY(-6px)"},{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-6px)"}],{duration:1600,easing:"ease"}).onfinish=()=>s.remove()}catch{}}export{Nr as default};
