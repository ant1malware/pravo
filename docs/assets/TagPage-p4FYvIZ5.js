import{j as s}from"./index-CAkmMo7n.js";import{u as x,R as i,L as c}from"./react-vendor-DTkXckhQ.js";import{listTopics as p,listSections as h}from"./forumRemote-D5s3MT8n.js";import{F as f}from"./ForumSubnav-ayXUx761.js";import"./icons-wEjUy8Cq.js";function w(){const{tag:t=""}=x(),[r,n]=i.useState([]),[o,l]=i.useState([]);i.useEffect(()=>{(async()=>{try{n(await p()),l(await h())}catch{}})()},[]);const m=new RegExp(`\\[${(t||"").replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]`,"i"),u=r.filter(e=>m.test(String(e.title||"")));return s.jsx("main",{className:"min-h-screen",style:{background:"#0d0d12",color:"#f8fafc"},children:s.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-6",children:[s.jsx(f,{}),s.jsxs("nav",{className:"mb-3 text-sm opacity-80",children:[s.jsx(c,{to:"/forum",className:"hover:underline",children:"\u0424\u043E\u0440\u0443\u043C"}),s.jsx("span",{className:"mx-2",children:"/"}),s.jsxs("span",{children:["\u0422\u0435\u0433 ",t]})]}),s.jsxs("div",{className:"card p-4",children:[s.jsxs("div",{className:"mb-2 text-xs uppercase tracking-[0.28em] text-zinc-400/80",children:["\u0422\u0435\u043C\u044B \u0441 \u0442\u0435\u0433\u043E\u043C [",t,"]"]}),s.jsxs("div",{className:"grid gap-2",children:[u.map(e=>{const a=o.find(d=>d.id===e.sectionId);return s.jsxs(c,{to:`/forum/topic/${e.id}`,className:"rounded-lg border border-white/10 bg-white/[0.03] px-3 py-2 hover:bg-white/[0.06]",children:[s.jsx("div",{className:"text-xs opacity-70",children:(a==null?void 0:a.title)||"\u0420\u0430\u0437\u0434\u0435\u043B"}),s.jsx("div",{className:"font-semibold truncate",children:e.title})]},e.id)}),!u.length&&s.jsx("div",{className:"text-sm opacity-70",children:"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E."})]})]})]})})}export{w as default};
