import{a as m,l as x,j as t,C as v}from"./index-Cy752Q7-.js";import{R as n,L as o}from"./react-vendor-DTkXckhQ.js";import{l as c,F as b,r as h}from"./FavStar-D8ekFXDV.js";import"./icons-BazunPJY.js";function g(){const[s,l]=n.useState(()=>c());n.useEffect(()=>{const e=()=>l(c());return window.addEventListener("favorites:change",e),window.addEventListener("storage",e),()=>{window.removeEventListener("favorites:change",e),window.removeEventListener("storage",e)}},[]);const a=n.useMemo(()=>s.map(e=>{if(e.kind==="role"){const r=m.find(i=>i.id===e.id);return r?{title:e.title??r.role,url:e.url??`/roles/${r.id}`,kindLabel:"Должность"}:null}if(e.kind==="law"){const r=x.find(i=>i.slug===e.id);return r?{title:e.title??r.title,url:e.url??`/laws/${r.slug}`,kindLabel:"Закон"}:null}return e.kind==="lawsec"?{title:e.title??e.id,url:e.url??"#",kindLabel:"Раздел закона"}:e.kind==="vu"?{title:e.title??e.id,url:e.url??`/vu/${e.id}`,kindLabel:"ВУ материал"}:null}).filter(Boolean),[s]);function u(e,r){h(e,r),l(i=>i.filter(d=>!(d.kind===e&&d.id===r)))}return t.jsxs("div",{className:"min-h-screen text-zinc-900 dark:text-zinc-100",children:[t.jsx("header",{className:"sticky top-0 z-20 border-b border-zinc-200 bg-white/80 backdrop-blur dark:border-zinc-800 dark:bg-zinc-900/70",children:t.jsxs("div",{className:"mx-auto flex max-w-3xl items-center justify-between gap-3 px-4 py-3",children:[t.jsx(o,{to:"/",className:"text-sm underline decoration-dotted hover:no-underline",children:"Назад"}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("h1",{className:"text-lg font-bold",children:"Избранное"}),t.jsx(v,{})]}),t.jsx("span",{})]})}),t.jsx("main",{className:"mx-auto max-w-3xl px-4 py-6",children:a.length?t.jsx("div",{className:"grid gap-2",children:a.map((e,r)=>{const i=s[r];return i?t.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-zinc-200 bg-white/80 p-3 shadow-sm backdrop-blur dark:border-zinc-700 dark:bg-zinc-900/60",children:[t.jsxs(o,{to:e.url,className:"min-w-0",children:[t.jsx("div",{className:"truncate text-sm font-semibold",children:e.title}),t.jsx("div",{className:"text-xs text-zinc-500",children:e.kindLabel})]}),t.jsxs("div",{className:"ml-3 flex items-center gap-2",children:[t.jsx(b,{kind:i.kind,id:i.id,title:e.title,url:e.url,size:"sm"}),t.jsx("button",{className:"btn",onClick:()=>u(i.kind,i.id),title:"Удалить",children:"Удалить"})]})]},`${i.kind}:${i.id}`):null})}):t.jsx("div",{className:"card text-sm text-zinc-600 dark:text-zinc-300",children:"Пока пусто. Добавляйте статьи, разделы законов, роли и материалы ВУ — они появятся здесь."})})]})}export{g as default};
