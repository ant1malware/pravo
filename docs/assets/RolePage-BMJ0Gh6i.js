import{a as t,j as e,i as n,C as d}from"./index-Do0JvFGy.js";import{u as c,L as l}from"./react-vendor-DTkXckhQ.js";import{i as o,R as x,V as m}from"./VoteWidget-BlezmZXc.js";import{F as p}from"./FavStar-C8bZDM_d.js";import{A as h,J as j,E as f}from"./icons-BBDfh7CG.js";const u=({title:a,children:s,footer:r})=>e.jsxs("div",{className:"card shadow-softLg glass",children:[e.jsx("div",{className:"mb-2 flex items-center justify-between",children:e.jsx("h3",{className:"text-base font-semibold leading-tight",children:a})}),e.jsx("div",{className:"prose prose-zinc max-w-none text-sm leading-relaxed dark:prose-invert",children:s}),r&&e.jsx("div",{className:"mt-3 border-t border-zinc-200 pt-3 text-xs text-zinc-500 dark:border-zinc-800 dark:text-zinc-400",children:r})]}),N=({href:a,label:s})=>e.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 underline decoration-dotted hover:no-underline",children:[s||a," ",e.jsx(f,{className:"h-3.5 w-3.5"})]}),b=({children:a})=>e.jsx("span",{className:"inline-flex items-center whitespace-nowrap rounded-full border px-2 py-0.5 text-[11px] font-medium leading-none align-middle",children:a});function z(){const{id:a}=c(),s=t.find(r=>r.id===a);return s?e.jsxs("div",{className:"min-h-screen text-zinc-900 dark:text-zinc-100",children:[e.jsx("header",{className:"sticky top-0 z-20 border-b border-zinc-200 bg-white/80 backdrop-blur dark:border-zinc-800 dark:bg-zinc-900/70",children:e.jsxs("div",{className:"mx-auto flex max-w-3xl items-center gap-3 px-4 py-3",children:[e.jsxs(l,{to:"/",className:"flex items-center gap-1 text-sm hover:underline",children:[e.jsx(h,{className:"h-4 w-4"})," Назад"]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[o(s.role),e.jsx("h1",{className:"text-lg font-bold leading-tight",children:s.role}),e.jsxs(b,{children:[e.jsx("span",{className:"opacity-70",children:"Оклад:"})," ",s.salary]}),(()=>{const r=n(`role:${s.id}`);return r.recent?e.jsx("span",{className:"rounded-full bg-yellow-100 px-2 py-0.5 text-[10px] text-yellow-800",title:`Обновлено: ${r.date}`,children:"Обновлено"}):null})()]}),e.jsx(d,{})]}),e.jsx(p,{kind:"role",id:s.id,title:s.role,url:`/roles/${s.id}`})]})}),e.jsxs("main",{className:"mx-auto max-w-3xl px-4 py-6",children:[e.jsx("div",{className:"mb-3 flex items-center gap-2",children:e.jsxs("a",{className:"btn",href:`/print?role=${s.id}`,children:[e.jsx(j,{className:"h-4 w-4"})," Export: PDF"]})}),e.jsxs(u,{title:"Обязанности",footer:e.jsxs("div",{children:["Источник: ",e.jsx(N,{href:s.source})]}),children:[e.jsx("ul",{className:"ml-4 list-disc",children:s.duties.map((r,i)=>e.jsx("li",{children:r},i))}),e.jsx(x,{itemId:`role:${s.id}`,itemType:"role"}),e.jsx(m,{cardId:`role:${s.id}`})]})]})]}):e.jsxs("div",{className:"p-4",children:["Роль не найдена."," ",e.jsx(l,{to:"/",className:"text-blue-600 underline",children:"Назад"})]})}export{z as default};
