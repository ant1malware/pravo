import{j as e}from"./index-CKim-AMV.js";import{R as m,L as x}from"./react-vendor-DTkXckhQ.js";import{F as w}from"./ForumSubnav-CiuJ-AUk.js";import{c as y,B as k}from"./Badge-Do78EOvq.js";import{l as N,g as L}from"./forumStore-CpZCALPv.js";import{g as S,l as z}from"./authRemote-D08Z_Jso.js";import{U as $,a as C,$ as E}from"./icons-GyIOUIPt.js";import"./forumRemote-D5s3MT8n.js";const A={developer:{label:"Developer",color:"#22d3ee"},admin:{label:"Admin",color:"#ef4444"},moderator:{label:"Moderator",color:"#8b5cf6"},vip:{label:"VIP",color:"#eab308"},user:{label:"User",color:"#94a3b8"},newbie:{label:"Newbie",color:"#22d3ee"}};function M({role:a}){const t=A[a]||{label:a,color:"#94a3b8"};return e.jsx("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.26em]",style:{color:t.color},children:t.label})}function R({member:a,highlight:t}){const n=a.score??y({posts:a.posts,likes:a.likes,topics:a.topics}),p=a.profile.accentFrom||"#22d3ee",i=a.profile.accentTo||"#8b5cf6";return e.jsxs(x,{to:"/forum/profile/"+a.username,className:`card group flex flex-col gap-3 p-4 transition duration-200 hover:border-cyan-400/50 ${t?"border-cyan-500/60":""}`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-14 w-14 rounded-2xl",style:{background:a.profile.avatarData?`url(${a.profile.avatarData}) center/cover`:`linear-gradient(135deg, ${p}, ${i})`}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("div",{className:"truncate text-lg font-semibold text-white",children:a.username}),e.jsx(M,{role:a.role}),e.jsx(k,{points:n}),t&&e.jsx("span",{className:"rounded-full bg-cyan-500/10 px-2 py-0.5 text-[11px] uppercase tracking-[0.3em] text-cyan-300",children:"You"})]}),e.jsxs("div",{className:"mt-1 text-xs text-zinc-400/80",children:["Joined ",new Date(a.createdAt).toLocaleDateString()]})]}),e.jsx(E,{size:16,className:"opacity-0 transition-transform duration-200 group-hover:translate-x-1 group-hover:opacity-100"})]}),a.profile.bio&&e.jsx("div",{className:"line-clamp-2 text-sm text-zinc-300/80",children:a.profile.bio}),e.jsxs("div",{className:"mt-auto flex items-center gap-4 text-[11px] uppercase tracking-[0.28em] text-zinc-400/80",children:[e.jsxs("span",{children:["Topics ",a.topics]}),e.jsxs("span",{children:["Posts ",a.posts]}),e.jsxs("span",{children:["Likes ",a.likes]})]})]})}function I(){const[a,t]=m.useState(()=>N()),[n,p]=m.useState(""),[i,u]=m.useState(null);m.useEffect(()=>{const s=async()=>{try{const o=await S(),d=await z();if(o||d!=null&&d.length){const b=d.map(l=>({id:l.id,username:l.username,email:`${l.username}@hidden.local`,createdAt:l.createdAt,role:l.role,userNumber:l.userNumber,posts:0,likes:0,topics:0,profile:{bio:"",signature:"",links:{},accentFrom:"#22d3ee",accentTo:"#8b5cf6",badges:[],privacy:{showEmail:!1,showStats:!0}},bans:null,mutes:null}));t(b),u(o?{id:o.id,username:o.username}:null);return}}catch{}t(N());const f=L();u(f?{id:f.id,username:f.username}:null)};s();const r=()=>s();return window.addEventListener("forum:session",r),window.addEventListener("storage",r),()=>{window.removeEventListener("forum:session",r),window.removeEventListener("storage",r)}},[]);const c=n.trim().toLowerCase(),h=a.filter(s=>c?s.username.toLowerCase().includes(c)||s.email.toLowerCase().includes(c)||s.role.toLowerCase().includes(c):!0).sort((s,r)=>s.username.localeCompare(r.username)),g=a.filter(s=>s.role==="developer"),v=a.filter(s=>s.role==="admin"),j=a.filter(s=>s.role==="moderator");return e.jsx("main",{className:"min-h-screen",style:{background:"radial-gradient(900px 620px at 18% -12%, rgba(59,130,246,0.2), transparent 65%), radial-gradient(1200px 760px at 92% 0%, rgba(236,72,153,0.18), transparent 68%), #0d0d12",color:"#f8fafc"},children:e.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-6",children:[e.jsx(w,{}),e.jsx("div",{className:"card mb-6 overflow-hidden",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-3 px-5 py-6",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-cyan-400/10 text-cyan-300",children:e.jsx($,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm uppercase tracking-[0.38em] text-zinc-400/70",children:"Community"}),e.jsx("h1",{className:"text-3xl font-extrabold text-white",children:"Members"}),e.jsx("p",{className:"mt-1 text-sm text-zinc-300/80",children:"Browse every registered profile, discover new collaborators, and jump straight into a member's timeline."})]})]})}),e.jsxs("div",{className:"mb-5 grid gap-4 lg:grid-cols-3",children:[e.jsxs("div",{className:"card p-3",children:[e.jsx("div",{className:"mb-2 text-xs uppercase tracking-[0.28em] text-cyan-300/80",children:"Developers"}),e.jsxs("div",{className:"grid gap-2",children:[g.slice(0,6).map(s=>e.jsxs(x,{to:`/forum/profile/${s.username}`,className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-cyan-400"}),e.jsx("span",{className:"font-semibold",children:s.username})]},s.id)),!g.length&&e.jsx("div",{className:"text-xs opacity-60",children:"No developers yet"})]})]}),e.jsxs("div",{className:"card p-3",children:[e.jsx("div",{className:"mb-2 text-xs uppercase tracking-[0.28em] text-rose-300/80",children:"Admins"}),e.jsxs("div",{className:"grid gap-2",children:[v.slice(0,8).map(s=>e.jsxs(x,{to:`/forum/profile/${s.username}`,className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-400"}),e.jsx("span",{className:"font-semibold",children:s.username})]},s.id)),!v.length&&e.jsx("div",{className:"text-xs opacity-60",children:"No admins yet"})]})]}),e.jsxs("div",{className:"card p-3",children:[e.jsx("div",{className:"mb-2 text-xs uppercase tracking-[0.28em] text-violet-300/80",children:"Moderators"}),e.jsxs("div",{className:"grid gap-2",children:[j.slice(0,8).map(s=>e.jsxs(x,{to:`/forum/profile/${s.username}`,className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-violet-400"}),e.jsx("span",{className:"font-semibold",children:s.username})]},s.id)),!j.length&&e.jsx("div",{className:"text-xs opacity-60",children:"No moderators yet"})]})]})]}),e.jsxs("div",{className:"mb-5 flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[e.jsx(C,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-zinc-500"}),e.jsx("input",{className:"input w-full pl-9",placeholder:"Search members by name, email, or role",value:n,onChange:s=>p(s.target.value)})]}),e.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-zinc-500",children:[h.length," of ",a.length]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:h.map(s=>e.jsx(R,{member:s,highlight:(i==null?void 0:i.id)===s.id},s.id))}),!h.length&&e.jsx("div",{className:"card mt-6 p-5 text-sm text-zinc-300/80",children:"No members match that query yet."})]})})}export{I as default};
