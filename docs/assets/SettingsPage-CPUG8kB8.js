import{J as _s,K as vs,M as fs,N as Ss,O as ks,P as Cs,Q as $s,R as ws,S as As,T as P,j as s,U as C,V as Q,W as V,X as Ls,Y as Ps,Z as T,_ as Ts,$ as Fs,a0 as Is,a1 as qs,L as W,a2 as Es,a3 as Ms,a4 as Gs}from"./index-AUPALwe7.js";import{R as a,L as Rs}from"./react-vendor-DTkXckhQ.js";import"./icons-6J_ozvLF.js";const j=p=>{const N="/pravo/",x=String(p||"").replace(/^\/+/,"");return`${N}${x}`},Bs=Object.keys(Es),h={bg1:j("img/bg1.png"),bg2:j("img/bg2.png"),bg3:j("img/bg3.png"),bg4:j("img/bg4.png"),bg5:j("img/bg5.png")};function Ws(){const[p,N]=a.useState(()=>_s()??"indigo"),[x,F]=a.useState(()=>localStorage.getItem("accent_custom")||"#6366F1"),[$,I]=a.useState(()=>vs()??"classic"),[w,X]=a.useState(()=>fs()),[Os,Z]=a.useState(()=>Ss()),[_,ss]=a.useState(()=>ks()),[v,es]=a.useState(()=>Cs()),[ts,as]=a.useState(()=>$s()),[q,ns]=a.useState(()=>ws()),[Us,Ds]=a.useState(()=>localStorage.getItem("forum:2fa_enabled")==="1"),[Ks,Ys]=a.useState(()=>localStorage.getItem("forum:2fa_secret")||""),[Hs,zs]=a.useState(""),[c,E]=a.useState(()=>localStorage.getItem("bg_preset")||"none"),[d,M]=a.useState(()=>Number(localStorage.getItem("bg_overlay")||.35)),[g,G]=a.useState(()=>localStorage.getItem("bg_fixed")!=="0"),[m,R]=a.useState(()=>localStorage.getItem("bg_smart")!=="0"),n=$==="liquid",[B,cs]=a.useState(()=>As()),i=document.documentElement;a.useEffect(()=>{n||(c==="none"?r(void 0):r(h[c],g,d,m))},[c,d,g,m,n]),a.useEffect(()=>{n&&r(void 0)},[n]);const O=e=>{i.classList.remove("ui-shadow-none","ui-shadow-soft","ui-shadow-strong"),i.classList.add(`ui-shadow-${e}`)},U=e=>{i.classList.remove("ui-radius-subtle","ui-radius-standard","ui-radius-rounded"),i.classList.add(`ui-radius-${e}`)},D=e=>{i.classList.add("has-glass"),i.style.setProperty("--glass-blur",`${e}px`)},K=e=>{const t=P[e];t!=null&&t[500]&&(t!=null&&t[600])&&(i.style.setProperty("--accent-500",t[500]),i.style.setProperty("--accent-600",t[600]))};a.useEffect(()=>{O(_),U(v),D(ts),K(p)},[]);const is=()=>{try{localStorage.removeItem("theme"),C(Q()?"dark":"light")}catch{}},ls=()=>{try{C("light")}catch{}},os=()=>{try{C("dark")}catch{}},Y=e=>{I(e);try{V(e)}catch{}},H=e=>{ns(e);try{Ls(e)}catch{}},z=e=>{cs(e);try{Ps(e)}catch{}},rs=e=>{N(e);try{T(e)}catch{}K(e)},A=e=>{F(e);try{Ts(e),T(p)}catch{}i.style.setProperty("--accent-500",e),i.style.setProperty("--accent-600",e)},J=e=>{E(e);try{localStorage.setItem("bg_preset",e)}catch{}n||(e==="none"?r(void 0):r(h[e],g,d,m))},ds=e=>{const t=Math.max(0,Math.min(.85,e));M(t);try{localStorage.setItem("bg_overlay",String(t))}catch{}!n&&c!=="none"&&r(h[c],g,t,m)},gs=e=>{G(e);try{localStorage.setItem("bg_fixed",e?"1":"0")}catch{}!n&&c!=="none"&&r(h[c],e,d,m)},ms=e=>{R(e);try{localStorage.setItem("bg_smart",e?"1":"0")}catch{}!n&&c!=="none"&&r(h[c],g,d,e)},L=e=>{X(e);try{Fs(e)}catch{}},us=e=>{Z(e);try{Ms(e)}catch{}},f=e=>{ss(e);try{Is(e)}catch{}O(e)},S=e=>{es(e);try{qs(e)}catch{}U(e)},hs=e=>{as(e);try{Gs(e)}catch{}D(e)},ps=()=>{["bg_preset","bg_overlay","bg_fixed","bg_smart","accent_custom"].forEach(e=>localStorage.removeItem(e));try{C(Q()?"dark":"light")}catch{}try{T("indigo")}catch{}N("indigo"),F("#6366F1"),I("classic");try{V("classic")}catch{}E("none"),M(.35),G(!0),R(!0),L("standard"),us(1),f("soft"),S("standard"),hs(8)},xs=a.useMemo(()=>Object.keys(P),[]);function bs(){document.documentElement.style.setProperty("background-color","transparent","important"),document.body.style.setProperty("background-color","transparent","important")}const ys=()=>typeof navigator<"u"&&/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);function js(e,t){const o=Math.max(0,Math.min(.85,e));if(!t)return`linear-gradient(rgba(0,0,0,${o}), rgba(0,0,0,${o}))`;const u=Math.max(0,o-.15),l=Math.min(.95,o+.15);return`radial-gradient(1200px 900px at 50% -10%, rgba(0,0,0,${u}) 0%, rgba(0,0,0,${o}) 55%, rgba(0,0,0,${l}) 100%)`}function r(e,t=!0,o=.35,u=!0){bs();const l=document.body;if(!e){l.style.setProperty("background","transparent","important"),l.style.removeProperty("background-size"),l.style.removeProperty("background-repeat"),l.style.removeProperty("background-attachment"),l.style.removeProperty("background-position");return}const k=js(o,u),y=t&&!ys()?"fixed":"scroll";l.style.setProperty("background",`${k}, url("${e}") center / cover no-repeat ${y}`,"important")}const Ns=({children:e,className:t})=>n?s.jsx(W,{blur:30,gloss:.88,opacity:.2,tint:"16 18 34",elevation:1.3,interactive:!1,animate:!0,className:`settings-hero ${t??""}`,children:e}):s.jsx("section",{className:`card settings-hero settings-hero--classic ${t??""}`,children:e}),b=({title:e,desc:t,tone:o="light",className:u,children:l})=>{const k=s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold tracking-tight text-[color:var(--text-1)]",children:e}),t&&s.jsx("p",{className:"text-sm text-[color:var(--text-2)]",children:t})]}),s.jsx("div",{className:"flex flex-col gap-4",children:l})]});if(n){const y=o==="accent"?{tint:"32 48 98",opacity:.28,gloss:.86}:{tint:"16 18 36",opacity:.18,gloss:.78};return s.jsx(W,{blur:26,gloss:y.gloss,tint:y.tint,opacity:y.opacity,elevation:1.2,animate:!0,className:`settings-panel ${u??""}`,children:k})}return s.jsx("section",{className:`card settings-panel settings-panel--classic ${u??""}`,children:k})};return s.jsx("div",{className:`settings-shell ${n?"settings-shell--liquid":""}`,children:s.jsxs("div",{className:"settings-shell__inner",children:[s.jsxs("header",{className:"settings-breadcrumb",children:[s.jsx(Rs,{to:"/",className:"settings-breadcrumb__link",children:"Главная"}),s.jsx("span",{className:"settings-breadcrumb__separator",children:"/"}),s.jsx("span",{children:"Настройки"})]}),s.jsx(Ns,{children:s.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-end md:justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-hero__badge",children:"Центр персонализации"}),s.jsx("h1",{className:"settings-hero__title",children:"Подберите настроение интерфейса"}),s.jsx("p",{className:"settings-hero__subtitle",children:"Управляйте темой, жидким стеклом, шрифтами и визуальными эффектами. Все изменения применяются мгновенно."})]}),s.jsxs("div",{className:"settings-hero__stats",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Жидкое стекло"}),s.jsx("span",{className:"settings-hero__stats-value",children:n?"Активно":"Выключено"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Плотность"}),s.jsx("span",{className:"settings-hero__stats-value",children:w==="compact"?"Компактная":"Стандартная"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Тема"}),s.jsx("span",{className:"settings-hero__stats-value",children:document.documentElement.classList.contains("dark")?"Тёмная":"Светлая"})]})]})]})}),s.jsxs("main",{className:"settings-grid",children:[s.jsxs(b,{title:"Тема и стиль",desc:"Переключайтесь между системной, светлой и тёмной темой, а также выбирайте стиль оформления и тон Liquid.",tone:"accent",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-label",children:"Тема интерфейса"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:"settings-seg__item",onClick:is,children:"Системная"}),s.jsx("button",{type:"button",className:"settings-seg__item",onClick:ls,children:"Светлая"}),s.jsx("button",{type:"button",className:"settings-seg__item",onClick:os,children:"Тёмная"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-label",children:"Стиль оформления"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${$==="classic"?"is-active":""}`,onClick:()=>Y("classic"),children:"Classic"}),s.jsx("button",{type:"button",className:`settings-seg__item ${$==="liquid"?"is-active":""}`,onClick:()=>Y("liquid"),children:"Liquid Glass"})]}),s.jsx("p",{className:"settings-help",children:"Liquid Glass — глубина и мягкий свет."}),n&&s.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[s.jsx("span",{className:"settings-label",children:"Тон Liquid"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${B==="dark"?"is-active":""}`,onClick:()=>z("dark"),children:"Тёмный"}),s.jsx("button",{type:"button",className:`settings-seg__item ${B==="light"?"is-active":""}`,onClick:()=>z("light"),children:"Светлый"})]})]}),s.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[s.jsx("span",{className:"settings-label",children:"Анимации Liquid"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${q?"is-active":""}`,onClick:()=>H(!0),children:"Включены"}),s.jsx("button",{type:"button",className:`settings-seg__item ${q?"":"is-active"}`,onClick:()=>H(!1),children:"Отключены"})]}),s.jsx("p",{className:"settings-help",children:"Отключает плавучесть и блики стекла."})]})]})]}),s.jsxs(b,{title:"Геометрия и эффекты",desc:"Настройте плотность интерфейса, радиусы элементов и глубину стекла.",children:[s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Плотность элементов"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${w==="standard"?"is-active":""}`,onClick:()=>L("standard"),children:"Стандартная"}),s.jsx("button",{type:"button",className:`settings-seg__item ${w==="compact"?"is-active":""}`,onClick:()=>L("compact"),children:"Компактная"})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Силуэт и тени"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${_==="none"?"is-active":""}`,onClick:()=>f("none"),children:"Без тени"}),s.jsx("button",{type:"button",className:`settings-seg__item ${_==="soft"?"is-active":""}`,onClick:()=>f("soft"),children:"Мягкие"}),s.jsx("button",{type:"button",className:`settings-seg__item ${_==="strong"?"is-active":""}`,onClick:()=>f("strong"),children:"Выразительные"})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Скругление"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${v==="subtle"?"is-active":""}`,onClick:()=>S("subtle"),children:"Сдержанное"}),s.jsx("button",{type:"button",className:`settings-seg__item ${v==="standard"?"is-active":""}`,onClick:()=>S("standard"),children:"Стандартное"}),s.jsx("button",{type:"button",className:`settings-seg__item ${v==="rounded"?"is-active":""}`,onClick:()=>S("rounded"),children:"Закруглённое"})]})]})]}),s.jsxs(b,{title:"Цвет акцента",desc:"Выберите основной цвет акцента для кнопок и ссылок.",children:[s.jsx("div",{className:"accent-grid",children:xs.map(e=>{const t=P[e];return s.jsx("button",{className:`accent-swatch ${p===e?"is-active":""}`,style:{"--sw1":t==null?void 0:t[500],"--sw2":t==null?void 0:t[600]},title:e,onClick:()=>rs(e)},e)})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("input",{type:"color",value:x,onChange:e=>A(e.target.value),className:"input w-24",title:"Пользовательский акцент"}),s.jsx("input",{type:"text",value:x,onChange:e=>A(e.target.value),className:"input w-40",placeholder:"#RRGGBB"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>A(x),children:"Применить"})]})]}),s.jsxs(b,{title:"Фон и обои",desc:"Настройте фон для классического стиля. В режиме Liquid фон не изменяется.",children:[n&&s.jsx("p",{className:"settings-help",children:"В режиме Liquid Glass фон берётся из темы/настроек пользователя."}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-4",children:[s.jsx("button",{type:"button",onClick:()=>J("none"),className:`settings-bg-tile ${c==="none"?"is-active":""}`,children:s.jsx("span",{children:"Без фона"})}),Bs.map(e=>s.jsx("button",{type:"button",title:e.toUpperCase(),onClick:()=>J(e),className:`settings-bg-tile ${c===e?"is-active":""}`,style:{backgroundImage:`url("${h[e]}")`}},e))]}),!n&&s.jsxs("div",{className:"settings-bg-controls",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-label",children:"Интенсивность затемнения"}),s.jsx("input",{type:"range",min:0,max:.85,step:.05,value:d,onChange:e=>ds(parseFloat(e.target.value)),className:"slider"})]}),s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:g,onChange:e=>gs(e.target.checked)})," Фиксированный фон"]}),s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:m,onChange:e=>ms(e.target.checked)})," Умное затемнение"]})]})]}),s.jsx(b,{title:"Сброс",desc:"Сбросить настройки темы и интерфейса к значениям по умолчанию.",children:s.jsx("button",{type:"button",onClick:ps,className:"btn btn-primary",children:"Сбросить персонализацию"})})]})]})})}export{Ws as default};
