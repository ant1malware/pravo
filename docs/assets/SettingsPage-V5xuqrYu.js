import{f as ks,h as Ss,k as Cs,m as $s,n as ws,o as Ls,p as Bs,q as Ps,s as qs,A as q,j as s,t as As,w as Is,x as d,y as W,z as S,B as X,D as Z,E as Es,F as Gs,G as A,H as Ms,I as Ts,J as Fs,K as Rs,L as ss,M as Os,N as Ds,O as Us}from"./index-CAVntdfB.js";import{R as a,L as I}from"./react-vendor-DTkXckhQ.js";import{a as y}from"./asset-ZvONeEnI.js";import"./icons-CVylmSus.js";const Hs=Object.keys(Os),p={bg1:y("img/bg1.png"),bg2:y("img/bg2.png"),bg3:y("img/bg3.png"),bg4:y("img/bg4.png"),bg5:y("img/bg5.png")};function Qs(){const[C,E]=a.useState(()=>ks()??"indigo"),[$,G]=a.useState(()=>localStorage.getItem("accent_custom")||"#6366F1"),[j,M]=a.useState(()=>Ss()??"classic"),[w,es]=a.useState(()=>Cs()),[Ks,ts]=a.useState(()=>$s()),[N,as]=a.useState(()=>ws()),[v,ns]=a.useState(()=>Ls()),[cs,is]=a.useState(()=>Bs()),[T,ls]=a.useState(()=>Ps()),[c,F]=a.useState(()=>localStorage.getItem("bg_preset")||"none"),[m,R]=a.useState(()=>Number(localStorage.getItem("bg_overlay")||.35)),[h,O]=a.useState(()=>localStorage.getItem("bg_fixed")!=="0"),[u,D]=a.useState(()=>localStorage.getItem("bg_smart")!=="0"),n=j==="liquid",[U,os]=a.useState(()=>qs()),i=document.documentElement;a.useEffect(()=>{n||(c==="none"?r(void 0):r(p[c],h,m,u))},[c,m,h,u,n]),a.useEffect(()=>{n&&r(void 0)},[n]);const H=e=>{i.classList.remove("ui-shadow-none","ui-shadow-soft","ui-shadow-strong"),i.classList.add(`ui-shadow-${e}`)},K=e=>{i.classList.remove("ui-radius-subtle","ui-radius-standard","ui-radius-rounded"),i.classList.add(`ui-radius-${e}`)},z=e=>{i.classList.add("has-glass"),i.style.setProperty("--glass-blur",`${e}px`)},V=e=>{const t=q[e];t!=null&&t[500]&&(t!=null&&t[600])&&(i.style.setProperty("--accent-500",t[500]),i.style.setProperty("--accent-600",t[600]))};a.useEffect(()=>{H(N),K(v),z(cs),V(C)},[]);const rs=()=>{try{localStorage.removeItem("theme"),S(X()?"dark":"light")}catch{}},ds=()=>{try{S("light")}catch{}},gs=()=>{try{S("dark")}catch{}},L=e=>{M(e);try{Z(e)}catch{}},Y=e=>{ls(e);try{Es(e)}catch{}},J=e=>{os(e);try{Gs(e)}catch{}},ms=e=>{E(e);try{A(e)}catch{}V(e)},B=e=>{G(e);try{Ms(e),A(C)}catch{}i.style.setProperty("--accent-500",e),i.style.setProperty("--accent-600",e)},Q=e=>{F(e);try{localStorage.setItem("bg_preset",e)}catch{}n||(e==="none"?r(void 0):r(p[e],h,m,u))},hs=e=>{const t=Math.max(0,Math.min(.85,e));R(t);try{localStorage.setItem("bg_overlay",String(t))}catch{}!n&&c!=="none"&&r(p[c],h,t,u)},us=e=>{O(e);try{localStorage.setItem("bg_fixed",e?"1":"0")}catch{}!n&&c!=="none"&&r(p[c],e,m,u)},xs=e=>{D(e);try{localStorage.setItem("bg_smart",e?"1":"0")}catch{}!n&&c!=="none"&&r(p[c],h,m,e)},P=e=>{es(e);try{Ts(e)}catch{}},ps=e=>{ts(e);try{Ds(e)}catch{}},f=e=>{as(e);try{Fs(e)}catch{}H(e)},_=e=>{ns(e);try{Rs(e)}catch{}K(e)},bs=e=>{is(e);try{Us(e)}catch{}z(e)},ys=()=>{["bg_preset","bg_overlay","bg_fixed","bg_smart","accent_custom"].forEach(e=>localStorage.removeItem(e));try{S(X()?"dark":"light")}catch{}try{A("indigo")}catch{}E("indigo"),G("#6366F1"),M("classic");try{Z("classic")}catch{}F("none"),R(.35),O(!0),D(!0),P("standard"),ps(1),f("soft"),_("standard"),bs(8)},js=a.useMemo(()=>Object.keys(q),[]);function Ns(){document.documentElement.style.setProperty("background-color","transparent","important"),document.body.style.setProperty("background-color","transparent","important")}const vs=()=>typeof navigator<"u"&&/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);function fs(e,t){const o=Math.max(0,Math.min(.85,e));if(!t)return`linear-gradient(rgba(0,0,0,${o}), rgba(0,0,0,${o}))`;const x=Math.max(0,o-.15),l=Math.min(.95,o+.15);return`radial-gradient(1200px 900px at 50% -10%, rgba(0,0,0,${x}) 0%, rgba(0,0,0,${o}) 55%, rgba(0,0,0,${l}) 100%)`}function r(e,t=!0,o=.35,x=!0){Ns();const l=document.body;if(!e){l.style.setProperty("background","transparent","important"),l.style.removeProperty("background-size"),l.style.removeProperty("background-repeat"),l.style.removeProperty("background-attachment"),l.style.removeProperty("background-position");return}const k=fs(o,x),b=t&&!vs()?"fixed":"scroll";l.style.setProperty("background",`${k}, url("${e}") center / cover no-repeat ${b}`,"important")}const _s=({children:e,className:t})=>n?s.jsx(ss,{blur:30,gloss:.88,opacity:.2,tint:"16 18 34",elevation:1.3,interactive:!1,animate:!0,className:`settings-hero ${t??""}`,children:e}):s.jsx("section",{className:`card settings-hero settings-hero--classic ${t??""}`,children:e}),g=({title:e,desc:t,tone:o="light",className:x,children:l})=>{const k=s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold tracking-tight text-[color:var(--text-1)]",children:e}),t&&s.jsx("p",{className:"text-sm text-[color:var(--text-2)]",children:t})]}),s.jsx("div",{className:"flex flex-col gap-4",children:l})]});if(n){const b=o==="accent"?{tint:"32 48 98",opacity:.28,gloss:.86}:{tint:"16 18 36",opacity:.18,gloss:.78};return s.jsx(ss,{blur:26,gloss:b.gloss,tint:b.tint,opacity:b.opacity,elevation:1.2,animate:!0,className:`settings-panel ${x??""}`,children:k})}return s.jsx("section",{className:`card settings-panel settings-panel--classic ${x??""}`,children:k})};return s.jsx("div",{className:`settings-shell ${n?"settings-shell--liquid":""}`,children:s.jsxs("div",{className:"settings-shell__inner",children:[s.jsxs("header",{className:"settings-breadcrumb",children:[s.jsx(I,{to:"/",className:"settings-breadcrumb__link",children:"Главная"}),s.jsx("span",{className:"settings-breadcrumb__separator",children:"/"}),s.jsx("span",{children:"Настройки"})]}),s.jsx(_s,{children:s.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-end md:justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-hero__badge",children:"Центр персонализации"}),s.jsx("h1",{className:"settings-hero__title",children:"Подберите настроение интерфейса"}),s.jsx("p",{className:"settings-hero__subtitle",children:"Управляйте темой, жидким стеклом, шрифтами и визуальными эффектами. Все изменения применяются мгновенно."})]}),s.jsxs("div",{className:"settings-hero__stats",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Жидкое стекло"}),s.jsx("span",{className:"settings-hero__stats-value",children:n?"Активно":"Выключено"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Плотность"}),s.jsx("span",{className:"settings-hero__stats-value",children:w==="compact"?"Компактная":"Стандартная"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Тема"}),s.jsx("span",{className:"settings-hero__stats-value",children:document.documentElement.classList.contains("dark")?"Тёмная":"Светлая"})]})]})]})}),s.jsxs("main",{className:"settings-grid",children:[s.jsxs(g,{title:"Тема и стиль",desc:"Переключайтесь между системной, светлой и тёмной темой, а также выбирайте стиль оформления и тон Liquid.",tone:"accent",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-label",children:"Тема интерфейса"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:"settings-seg__item",onClick:rs,children:"Системная"}),s.jsx("button",{type:"button",className:"settings-seg__item",onClick:ds,children:"Светлая"}),s.jsx("button",{type:"button",className:"settings-seg__item",onClick:gs,children:"Тёмная"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-label",children:"Стиль оформления"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${j==="classic"?"is-active":""}`,onClick:()=>L("classic"),children:"Classic"}),s.jsx("button",{type:"button",className:`settings-seg__item ${j==="liquid"?"is-active":""}`,onClick:()=>L("liquid"),children:"Liquid Glass"}),s.jsx("button",{type:"button",className:`settings-seg__item ${j==="beta"?"is-active":""}`,onClick:()=>L("beta"),children:"Beta"})]}),s.jsx("p",{className:"settings-help",children:"Liquid Glass — глубина и мягкий свет. Beta — экспериментальные неоновые акценты."}),n&&s.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[s.jsx("span",{className:"settings-label",children:"Тон Liquid"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${U==="dark"?"is-active":""}`,onClick:()=>J("dark"),children:"Тёмный"}),s.jsx("button",{type:"button",className:`settings-seg__item ${U==="light"?"is-active":""}`,onClick:()=>J("light"),children:"Светлый"})]})]}),s.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[s.jsx("span",{className:"settings-label",children:"Анимации Liquid"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${T?"is-active":""}`,onClick:()=>Y(!0),children:"Включены"}),s.jsx("button",{type:"button",className:`settings-seg__item ${T?"":"is-active"}`,onClick:()=>Y(!1),children:"Выключены"})]}),s.jsx("p",{className:"settings-help",children:"Отключает плавучесть и блики стекла."})]})]})]}),s.jsxs(g,{title:"Чебзик",desc:"Летает по сайту и подсказывает. Можно отключить при желании.",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(I,{to:"/buddy",className:"btn btn-primary",children:"Показать сцену"}),s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:(()=>{try{return Is()}catch{return!0}})(),onChange:e=>{try{As(e.target.checked)}catch{}}}),"Показать Чебзика"]}),s.jsx("span",{className:"text-sm text-[color:var(--text-2)]",children:"Можно отключить. Синхронизируйте цвета со скином из игры."})]}),s.jsxs("div",{className:"mt-3 grid items-center gap-3 sm:grid-cols-[auto_auto_1fr]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:"Цвет A"}),s.jsx("input",{type:"color",defaultValue:d().a,onChange:e=>{try{const t=d();W(e.target.value,t.b)}catch{}}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:"Цвет B"}),s.jsx("input",{type:"color",defaultValue:d().b,onChange:e=>{try{const t=d();W(t.a,e.target.value)}catch{}}})]}),s.jsx("div",{className:"justify-self-start rounded-xl p-2",style:{background:`linear-gradient(135deg, ${d().a}, ${d().b})`},children:s.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("defs",{children:s.jsxs("radialGradient",{id:"g2",cx:"50%",cy:"30%",r:"70%",children:[s.jsx("stop",{offset:"0%",stopColor:d().a,stopOpacity:"0.95"}),s.jsx("stop",{offset:"100%",stopColor:d().b,stopOpacity:"0.85"})]})}),s.jsx("path",{d:"M18 2c6.2 0 11 4.8 11 11v8.5c0 2-1.7 3.7-3.7 3.7-1.3 0-2.6-.7-3.3-1.8-.6 1.1-1.8 1.8-3 1.8s-2.4-.7-3-1.8c-.7 1.1-2 1.8-3.3 1.8-2 0-3.7-1.7-3.7-3.7V13C5 6.8 10 2 16.2 2H18z",fill:"url(#g2)"})]})})]})]}),s.jsxs(g,{title:"Геометрия и эффекты",desc:"Настройте плотность интерфейса, радиусы элементов и глубину стекла.",children:[s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Плотность элементов"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${w==="standard"?"is-active":""}`,onClick:()=>P("standard"),children:"Стандартная"}),s.jsx("button",{type:"button",className:`settings-seg__item ${w==="compact"?"is-active":""}`,onClick:()=>P("compact"),children:"Компактная"})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Силуэт и тени"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${N==="none"?"is-active":""}`,onClick:()=>f("none"),children:"Без тени"}),s.jsx("button",{type:"button",className:`settings-seg__item ${N==="soft"?"is-active":""}`,onClick:()=>f("soft"),children:"Мягкие"}),s.jsx("button",{type:"button",className:`settings-seg__item ${N==="strong"?"is-active":""}`,onClick:()=>f("strong"),children:"Выразительные"})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Скругление"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${v==="subtle"?"is-active":""}`,onClick:()=>_("subtle"),children:"Сдержанное"}),s.jsx("button",{type:"button",className:`settings-seg__item ${v==="standard"?"is-active":""}`,onClick:()=>_("standard"),children:"Стандартное"}),s.jsx("button",{type:"button",className:`settings-seg__item ${v==="rounded"?"is-active":""}`,onClick:()=>_("rounded"),children:"Закруглённое"})]})]})]}),s.jsxs(g,{title:"Цвет акцента",desc:"Выберите основной цвет акцента для кнопок и ссылок.",children:[s.jsx("div",{className:"accent-grid",children:js.map(e=>{const t=q[e];return s.jsx("button",{className:`accent-swatch ${C===e?"is-active":""}`,style:{"--sw1":t==null?void 0:t[500],"--sw2":t==null?void 0:t[600]},title:e,onClick:()=>ms(e)},e)})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("input",{type:"color",value:$,onChange:e=>B(e.target.value),className:"input w-24",title:"Пользовательский акцент"}),s.jsx("input",{type:"text",value:$,onChange:e=>B(e.target.value),className:"input w-40",placeholder:"#RRGGBB"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>B($),children:"Применить"})]})]}),s.jsxs(g,{title:"Фон и обои",desc:"Настройте фон для классического стиля. В режиме Liquid фон не изменяется.",children:[n&&s.jsx("p",{className:"settings-help",children:"В режиме Liquid Glass фон берётся из темы/настроек пользователя."}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-4",children:[s.jsx("button",{type:"button",onClick:()=>Q("none"),className:`settings-bg-tile ${c==="none"?"is-active":""}`,children:s.jsx("span",{children:"Без фона"})}),Hs.map(e=>s.jsx("button",{type:"button",title:e.toUpperCase(),onClick:()=>Q(e),className:`settings-bg-tile ${c===e?"is-active":""}`,style:{backgroundImage:`url("${p[e]}")`}},e))]}),!n&&s.jsxs("div",{className:"settings-bg-controls",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-label",children:"Интенсивность затемнения"}),s.jsx("input",{type:"range",min:0,max:.85,step:.05,value:m,onChange:e=>hs(parseFloat(e.target.value)),className:"slider"})]}),s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:h,onChange:e=>us(e.target.checked)})," Фиксированный фон"]}),s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:u,onChange:e=>xs(e.target.checked)})," Умное затемнение"]})]})]}),s.jsx(g,{title:"Сброс",desc:"Сбросить настройки темы и интерфейса к значениям по умолчанию.",children:s.jsx("button",{type:"button",onClick:ys,className:"btn btn-primary",children:"Сбросить персонализацию"})}),s.jsx(g,{title:"Чебзик",desc:"Мини-игра с нашим мультяшным другом. Кормите его и общайтесь!",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(I,{to:"/buddy",className:"btn btn-primary",children:"Открыть игру"}),s.jsx("span",{className:"text-sm text-[color:var(--text-2)]",children:"Игра открывается на отдельной странице."})]})})]})]})})}export{Qs as default};
