import{K as xs,M as bs,N as ys,O as js,P as Ns,Q as _s,R as vs,S as fs,T as Ss,U as C,j as s,V as N,W as U,X as H,Y as ks,Z as $s,_ as w,$ as Cs,a0 as ws,a1 as As,a2 as Ls,L as K,a3 as Ps,a4 as Ts}from"./index-CWCbRTYA.js";import{R as a,L as Fs}from"./react-vendor-DTkXckhQ.js";import"./icons-CDjAZjRL.js";const m=r=>{const u="/pravo/",d=String(r||"").replace(/^\/+/,"");return`${u}${d}`},qs={bg1:m("img/bg1.png"),bg2:m("img/bg2.png"),bg3:m("img/bg3.png"),bg4:m("img/bg4.png"),bg5:m("img/bg5.png")};function Ks(){const[r,u]=a.useState(()=>xs()??"indigo"),[d,A]=a.useState(()=>localStorage.getItem("accent_custom")||"#6366F1"),[_,L]=a.useState(()=>bs()??"classic"),[v,Y]=a.useState(()=>ys()),[Es,z]=a.useState(()=>js()),[h,Q]=a.useState(()=>Ns()),[p,V]=a.useState(()=>_s()),[W,X]=a.useState(()=>vs()),[P,Z]=a.useState(()=>fs()),[Is,Ms]=a.useState(()=>localStorage.getItem("forum:2fa_enabled")==="1"),[Rs,Gs]=a.useState(()=>localStorage.getItem("forum:2fa_secret")||""),[Bs,Os]=a.useState(""),[f,J]=a.useState(()=>localStorage.getItem("bg_preset")||"none"),[T,ss]=a.useState(()=>Number(localStorage.getItem("bg_overlay")||.35)),[F,ts]=a.useState(()=>localStorage.getItem("bg_fixed")!=="0"),[q,es]=a.useState(()=>localStorage.getItem("bg_smart")!=="0"),i=_==="liquid",[E,as]=a.useState(()=>Ss()),n=document.documentElement;a.useEffect(()=>{i||(f==="none"?$(void 0):$(qs[f],F,T,q))},[f,T,F,q,i]),a.useEffect(()=>{i&&$(void 0)},[i]);const I=t=>{n.classList.remove("ui-shadow-none","ui-shadow-soft","ui-shadow-strong"),n.classList.add(`ui-shadow-${t}`)},M=t=>{n.classList.remove("ui-radius-subtle","ui-radius-standard","ui-radius-rounded"),n.classList.add(`ui-radius-${t}`)},R=t=>{n.classList.add("has-glass"),n.style.setProperty("--glass-blur",`${t}px`)},G=t=>{const e=C[t];e!=null&&e[500]&&(e!=null&&e[600])&&(n.style.setProperty("--accent-500",e[500]),n.style.setProperty("--accent-600",e[600]))};a.useEffect(()=>{I(h),M(p),R(W),G(r)},[]);const ns=()=>{try{localStorage.removeItem("theme"),N(U()?"dark":"light")}catch{}},cs=()=>{try{N("light")}catch{}},is=()=>{try{N("dark")}catch{}},B=t=>{L(t);try{H(t)}catch{}},O=t=>{Z(t);try{ks(t)}catch{}},D=t=>{as(t);try{$s(t)}catch{}},ls=t=>{u(t);try{w(t)}catch{}G(t)},S=t=>{A(t);try{Cs(t),w(r)}catch{}n.style.setProperty("--accent-500",t),n.style.setProperty("--accent-600",t)},k=t=>{Y(t);try{ws(t)}catch{}},os=t=>{z(t);try{Ps(t)}catch{}},x=t=>{Q(t);try{As(t)}catch{}I(t)},b=t=>{V(t);try{Ls(t)}catch{}M(t)},rs=t=>{X(t);try{Ts(t)}catch{}R(t)},ds=()=>{["bg_preset","bg_overlay","bg_fixed","bg_smart","accent_custom"].forEach(t=>localStorage.removeItem(t));try{N(U()?"dark":"light")}catch{}try{w("indigo")}catch{}u("indigo"),A("#6366F1"),L("classic");try{H("classic")}catch{}J("none"),ss(.35),ts(!0),es(!0),k("standard"),os(1),x("soft"),b("standard"),rs(8)},gs=a.useMemo(()=>Object.keys(C),[]);function ms(){document.documentElement.style.setProperty("background-color","transparent","important"),document.body.style.setProperty("background-color","transparent","important")}const us=()=>typeof navigator<"u"&&/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);function hs(t,e){const l=Math.max(0,Math.min(.85,t));if(!e)return`linear-gradient(rgba(0,0,0,${l}), rgba(0,0,0,${l}))`;const o=Math.max(0,l-.15),c=Math.min(.95,l+.15);return`radial-gradient(1200px 900px at 50% -10%, rgba(0,0,0,${o}) 0%, rgba(0,0,0,${l}) 55%, rgba(0,0,0,${c}) 100%)`}function $(t,e=!0,l=.35,o=!0){ms();const c=document.body;if(!t){c.style.setProperty("background","transparent","important"),c.style.removeProperty("background-size"),c.style.removeProperty("background-repeat"),c.style.removeProperty("background-attachment"),c.style.removeProperty("background-position");return}const j=hs(l,o),g=e&&!us()?"fixed":"scroll";c.style.setProperty("background",`${j}, url("${t}") center / cover no-repeat ${g}`,"important")}const ps=({children:t,className:e})=>i?s.jsx(K,{blur:30,gloss:.88,opacity:.2,tint:"16 18 34",elevation:1.3,interactive:!1,animate:!0,className:`settings-hero ${e??""}`,children:t}):s.jsx("section",{className:`card settings-hero settings-hero--classic ${e??""}`,children:t}),y=({title:t,desc:e,tone:l="light",className:o,children:c})=>{const j=s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold tracking-tight text-[color:var(--text-1)]",children:t}),e&&s.jsx("p",{className:"text-sm text-[color:var(--text-2)]",children:e})]}),s.jsx("div",{className:"flex flex-col gap-4",children:c})]});if(i){const g=l==="accent"?{tint:"32 48 98",opacity:.28,gloss:.86}:{tint:"16 18 36",opacity:.18,gloss:.78};return s.jsx(K,{blur:26,gloss:g.gloss,tint:g.tint,opacity:g.opacity,elevation:1.2,animate:!0,className:`settings-panel ${o??""}`,children:j})}return s.jsx("section",{className:`card settings-panel settings-panel--classic ${o??""}`,children:j})};return s.jsx("div",{className:`settings-shell ${i?"settings-shell--liquid":""}`,children:s.jsxs("div",{className:"settings-shell__inner",children:[s.jsxs("header",{className:"settings-breadcrumb",children:[s.jsx(Fs,{to:"/",className:"settings-breadcrumb__link",children:"Главная"}),s.jsx("span",{className:"settings-breadcrumb__separator",children:"/"}),s.jsx("span",{children:"Настройки"})]}),s.jsx(ps,{children:s.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-end md:justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-hero__badge",children:"Центр персонализации"}),s.jsx("h1",{className:"settings-hero__title",children:"Подберите настроение интерфейса"}),s.jsx("p",{className:"settings-hero__subtitle",children:"Управляйте темой, жидким стеклом, шрифтами и визуальными эффектами. Все изменения применяются мгновенно."})]}),s.jsxs("div",{className:"settings-hero__stats",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Жидкое стекло"}),s.jsx("span",{className:"settings-hero__stats-value",children:i?"Активно":"Выключено"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Плотность"}),s.jsx("span",{className:"settings-hero__stats-value",children:v==="compact"?"Компактная":"Стандартная"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Тема"}),s.jsx("span",{className:"settings-hero__stats-value",children:document.documentElement.classList.contains("dark")?"Тёмная":"Светлая"})]})]})]})}),s.jsxs("main",{className:"settings-grid",children:[s.jsxs(y,{title:"Тема и стиль",desc:"Переключайтесь между системной, светлой и тёмной темой, а также выбирайте стиль оформления и тон Liquid.",tone:"accent",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-label",children:"Тема интерфейса"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:"settings-seg__item",onClick:ns,children:"Системная"}),s.jsx("button",{type:"button",className:"settings-seg__item",onClick:cs,children:"Светлая"}),s.jsx("button",{type:"button",className:"settings-seg__item",onClick:is,children:"Тёмная"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-label",children:"Стиль оформления"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${_==="classic"?"is-active":""}`,onClick:()=>B("classic"),children:"Classic"}),s.jsx("button",{type:"button",className:`settings-seg__item ${_==="liquid"?"is-active":""}`,onClick:()=>B("liquid"),children:"Liquid Glass"})]}),s.jsx("p",{className:"settings-help",children:"Liquid Glass — глубина и мягкий свет."}),i&&s.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[s.jsx("span",{className:"settings-label",children:"Тон Liquid"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${E==="dark"?"is-active":""}`,onClick:()=>D("dark"),children:"Тёмный"}),s.jsx("button",{type:"button",className:`settings-seg__item ${E==="light"?"is-active":""}`,onClick:()=>D("light"),children:"Светлый"})]})]}),s.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[s.jsx("span",{className:"settings-label",children:"Анимации Liquid"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${P?"is-active":""}`,onClick:()=>O(!0),children:"Включены"}),s.jsx("button",{type:"button",className:`settings-seg__item ${P?"":"is-active"}`,onClick:()=>O(!1),children:"Отключены"})]}),s.jsx("p",{className:"settings-help",children:"Отключает плавучесть и блики стекла."})]})]})]}),s.jsxs(y,{title:"Геометрия и эффекты",desc:"Настройте плотность интерфейса, радиусы элементов и глубину стекла.",children:[s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Плотность элементов"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${v==="standard"?"is-active":""}`,onClick:()=>k("standard"),children:"Стандартная"}),s.jsx("button",{type:"button",className:`settings-seg__item ${v==="compact"?"is-active":""}`,onClick:()=>k("compact"),children:"Компактная"})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Силуэт и тени"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${h==="none"?"is-active":""}`,onClick:()=>x("none"),children:"Без тени"}),s.jsx("button",{type:"button",className:`settings-seg__item ${h==="soft"?"is-active":""}`,onClick:()=>x("soft"),children:"Мягкие"}),s.jsx("button",{type:"button",className:`settings-seg__item ${h==="strong"?"is-active":""}`,onClick:()=>x("strong"),children:"Выразительные"})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Скругление"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${p==="subtle"?"is-active":""}`,onClick:()=>b("subtle"),children:"Сдержанное"}),s.jsx("button",{type:"button",className:`settings-seg__item ${p==="standard"?"is-active":""}`,onClick:()=>b("standard"),children:"Стандартное"}),s.jsx("button",{type:"button",className:`settings-seg__item ${p==="rounded"?"is-active":""}`,onClick:()=>b("rounded"),children:"Закруглённое"})]})]})]}),s.jsxs(y,{title:"Цвет акцента",desc:"Выберите основной цвет акцента для кнопок и ссылок.",children:[s.jsx("div",{className:"accent-grid",children:gs.map(t=>{const e=C[t];return s.jsx("button",{className:`accent-swatch ${r===t?"is-active":""}`,style:{"--sw1":e==null?void 0:e[500],"--sw2":e==null?void 0:e[600]},title:t,onClick:()=>ls(t)},t)})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("input",{type:"color",value:d,onChange:t=>S(t.target.value),className:"input w-24",title:"Пользовательский акцент"}),s.jsx("input",{type:"text",value:d,onChange:t=>S(t.target.value),className:"input w-40",placeholder:"#RRGGBB"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>S(d),children:"Применить"})]})]}),s.jsx(y,{title:"Сброс",desc:"Сбросить настройки темы и интерфейса к значениям по умолчанию.",children:s.jsx("button",{type:"button",onClick:ds,className:"btn btn-primary",children:"Сбросить персонализацию"})})]})]})})}export{Ks as default};
