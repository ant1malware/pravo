import{f as vs,h as fs,k as ks,m as Ss,n as Cs,o as $s,p as Ls,q as Ps,s as ws,A as q,j as s,t as k,w as Q,x as V,y as qs,z as As,B as A,D as Is,E as Bs,G as Ts,H as Es,L as W,I as Gs,J as Fs,K as Ms}from"./index-CkI-Uld4.js";import{R as a,L as X}from"./react-vendor-DTkXckhQ.js";import{a as b}from"./asset-ZvONeEnI.js";import"./icons-DET5c9ig.js";const Rs=Object.keys(Gs),p={bg1:b("img/bg1.png"),bg2:b("img/bg2.png"),bg3:b("img/bg3.png"),bg4:b("img/bg4.png"),bg5:b("img/bg5.png")};function zs(){const[S,I]=a.useState(()=>vs()??"indigo"),[C,B]=a.useState(()=>localStorage.getItem("accent_custom")||"#6366F1"),[y,T]=a.useState(()=>fs()??"classic"),[$,Z]=a.useState(()=>ks()),[Os,ss]=a.useState(()=>Ss()),[j,es]=a.useState(()=>Cs()),[N,ts]=a.useState(()=>$s()),[as,ns]=a.useState(()=>Ls()),[E,cs]=a.useState(()=>Ps()),[c,G]=a.useState(()=>localStorage.getItem("bg_preset")||"none"),[d,F]=a.useState(()=>Number(localStorage.getItem("bg_overlay")||.35)),[g,M]=a.useState(()=>localStorage.getItem("bg_fixed")!=="0"),[m,R]=a.useState(()=>localStorage.getItem("bg_smart")!=="0"),n=y==="liquid",[O,is]=a.useState(()=>ws()),i=document.documentElement;a.useEffect(()=>{n||(c==="none"?r(void 0):r(p[c],g,d,m))},[c,d,g,m,n]),a.useEffect(()=>{n&&r(void 0)},[n]);const D=e=>{i.classList.remove("ui-shadow-none","ui-shadow-soft","ui-shadow-strong"),i.classList.add(`ui-shadow-${e}`)},U=e=>{i.classList.remove("ui-radius-subtle","ui-radius-standard","ui-radius-rounded"),i.classList.add(`ui-radius-${e}`)},K=e=>{i.classList.add("has-glass"),i.style.setProperty("--glass-blur",`${e}px`)},H=e=>{const t=q[e];t!=null&&t[500]&&(t!=null&&t[600])&&(i.style.setProperty("--accent-500",t[500]),i.style.setProperty("--accent-600",t[600]))};a.useEffect(()=>{D(j),U(N),K(as),H(S)},[]);const ls=()=>{try{localStorage.removeItem("theme"),k(Q()?"dark":"light")}catch{}},os=()=>{try{k("light")}catch{}},rs=()=>{try{k("dark")}catch{}},L=e=>{T(e);try{V(e)}catch{}},z=e=>{cs(e);try{qs(e)}catch{}},Y=e=>{is(e);try{As(e)}catch{}},ds=e=>{I(e);try{A(e)}catch{}H(e)},P=e=>{B(e);try{Is(e),A(S)}catch{}i.style.setProperty("--accent-500",e),i.style.setProperty("--accent-600",e)},J=e=>{G(e);try{localStorage.setItem("bg_preset",e)}catch{}n||(e==="none"?r(void 0):r(p[e],g,d,m))},gs=e=>{const t=Math.max(0,Math.min(.85,e));F(t);try{localStorage.setItem("bg_overlay",String(t))}catch{}!n&&c!=="none"&&r(p[c],g,t,m)},ms=e=>{M(e);try{localStorage.setItem("bg_fixed",e?"1":"0")}catch{}!n&&c!=="none"&&r(p[c],e,d,m)},hs=e=>{R(e);try{localStorage.setItem("bg_smart",e?"1":"0")}catch{}!n&&c!=="none"&&r(p[c],g,d,e)},w=e=>{Z(e);try{Bs(e)}catch{}},us=e=>{ss(e);try{Fs(e)}catch{}},_=e=>{es(e);try{Ts(e)}catch{}D(e)},v=e=>{ts(e);try{Es(e)}catch{}U(e)},ps=e=>{ns(e);try{Ms(e)}catch{}K(e)},xs=()=>{["bg_preset","bg_overlay","bg_fixed","bg_smart","accent_custom"].forEach(e=>localStorage.removeItem(e));try{k(Q()?"dark":"light")}catch{}try{A("indigo")}catch{}I("indigo"),B("#6366F1"),T("classic");try{V("classic")}catch{}G("none"),F(.35),M(!0),R(!0),w("standard"),us(1),_("soft"),v("standard"),ps(8)},bs=a.useMemo(()=>Object.keys(q),[]);function ys(){document.documentElement.style.setProperty("background-color","transparent","important"),document.body.style.setProperty("background-color","transparent","important")}const js=()=>typeof navigator<"u"&&/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);function Ns(e,t){const o=Math.max(0,Math.min(.85,e));if(!t)return`linear-gradient(rgba(0,0,0,${o}), rgba(0,0,0,${o}))`;const u=Math.max(0,o-.15),l=Math.min(.95,o+.15);return`radial-gradient(1200px 900px at 50% -10%, rgba(0,0,0,${u}) 0%, rgba(0,0,0,${o}) 55%, rgba(0,0,0,${l}) 100%)`}function r(e,t=!0,o=.35,u=!0){ys();const l=document.body;if(!e){l.style.setProperty("background","transparent","important"),l.style.removeProperty("background-size"),l.style.removeProperty("background-repeat"),l.style.removeProperty("background-attachment"),l.style.removeProperty("background-position");return}const f=Ns(o,u),x=t&&!js()?"fixed":"scroll";l.style.setProperty("background",`${f}, url("${e}") center / cover no-repeat ${x}`,"important")}const _s=({children:e,className:t})=>n?s.jsx(W,{blur:30,gloss:.88,opacity:.2,tint:"16 18 34",elevation:1.3,interactive:!1,animate:!0,className:`settings-hero ${t??""}`,children:e}):s.jsx("section",{className:`card settings-hero settings-hero--classic ${t??""}`,children:e}),h=({title:e,desc:t,tone:o="light",className:u,children:l})=>{const f=s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold tracking-tight text-[color:var(--text-1)]",children:e}),t&&s.jsx("p",{className:"text-sm text-[color:var(--text-2)]",children:t})]}),s.jsx("div",{className:"flex flex-col gap-4",children:l})]});if(n){const x=o==="accent"?{tint:"32 48 98",opacity:.28,gloss:.86}:{tint:"16 18 36",opacity:.18,gloss:.78};return s.jsx(W,{blur:26,gloss:x.gloss,tint:x.tint,opacity:x.opacity,elevation:1.2,animate:!0,className:`settings-panel ${u??""}`,children:f})}return s.jsx("section",{className:`card settings-panel settings-panel--classic ${u??""}`,children:f})};return s.jsx("div",{className:`settings-shell ${n?"settings-shell--liquid":""}`,children:s.jsxs("div",{className:"settings-shell__inner",children:[s.jsxs("header",{className:"settings-breadcrumb",children:[s.jsx(X,{to:"/",className:"settings-breadcrumb__link",children:"Главная"}),s.jsx("span",{className:"settings-breadcrumb__separator",children:"/"}),s.jsx("span",{children:"Настройки"})]}),s.jsx(_s,{children:s.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-end md:justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-hero__badge",children:"Центр персонализации"}),s.jsx("h1",{className:"settings-hero__title",children:"Подберите настроение интерфейса"}),s.jsx("p",{className:"settings-hero__subtitle",children:"Управляйте темой, жидким стеклом, шрифтами и визуальными эффектами. Все изменения применяются мгновенно."})]}),s.jsxs("div",{className:"settings-hero__stats",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Жидкое стекло"}),s.jsx("span",{className:"settings-hero__stats-value",children:n?"Активно":"Выключено"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Плотность"}),s.jsx("span",{className:"settings-hero__stats-value",children:$==="compact"?"Компактная":"Стандартная"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"settings-hero__stats-label",children:"Тема"}),s.jsx("span",{className:"settings-hero__stats-value",children:document.documentElement.classList.contains("dark")?"Тёмная":"Светлая"})]})]})]})}),s.jsxs("main",{className:"settings-grid",children:[s.jsxs(h,{title:"Тема и стиль",desc:"Переключайтесь между системной, светлой и тёмной темой, а также выбирайте стиль оформления и тон Liquid.",tone:"accent",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-label",children:"Тема интерфейса"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:"settings-seg__item",onClick:ls,children:"Системная"}),s.jsx("button",{type:"button",className:"settings-seg__item",onClick:os,children:"Светлая"}),s.jsx("button",{type:"button",className:"settings-seg__item",onClick:rs,children:"Тёмная"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"settings-label",children:"Стиль оформления"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${y==="classic"?"is-active":""}`,onClick:()=>L("classic"),children:"Classic"}),s.jsx("button",{type:"button",className:`settings-seg__item ${y==="liquid"?"is-active":""}`,onClick:()=>L("liquid"),children:"Liquid Glass"}),s.jsx("button",{type:"button",className:`settings-seg__item ${y==="beta"?"is-active":""}`,onClick:()=>L("beta"),children:"Beta"})]}),s.jsx("p",{className:"settings-help",children:"Liquid Glass — глубина и мягкий свет. Beta — экспериментальные неоновые акценты."}),n&&s.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[s.jsx("span",{className:"settings-label",children:"Тон Liquid"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${O==="dark"?"is-active":""}`,onClick:()=>Y("dark"),children:"Тёмный"}),s.jsx("button",{type:"button",className:`settings-seg__item ${O==="light"?"is-active":""}`,onClick:()=>Y("light"),children:"Светлый"})]})]}),s.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[s.jsx("span",{className:"settings-label",children:"Анимации Liquid"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${E?"is-active":""}`,onClick:()=>z(!0),children:"Включены"}),s.jsx("button",{type:"button",className:`settings-seg__item ${E?"":"is-active"}`,onClick:()=>z(!1),children:"Выключены"})]}),s.jsx("p",{className:"settings-help",children:"Отключает плавучесть и блики стекла."})]})]})]}),s.jsxs(h,{title:"Геометрия и эффекты",desc:"Настройте плотность интерфейса, радиусы элементов и глубину стекла.",children:[s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Плотность элементов"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${$==="standard"?"is-active":""}`,onClick:()=>w("standard"),children:"Стандартная"}),s.jsx("button",{type:"button",className:`settings-seg__item ${$==="compact"?"is-active":""}`,onClick:()=>w("compact"),children:"Компактная"})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Силуэт и тени"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${j==="none"?"is-active":""}`,onClick:()=>_("none"),children:"Без тени"}),s.jsx("button",{type:"button",className:`settings-seg__item ${j==="soft"?"is-active":""}`,onClick:()=>_("soft"),children:"Мягкие"}),s.jsx("button",{type:"button",className:`settings-seg__item ${j==="strong"?"is-active":""}`,onClick:()=>_("strong"),children:"Выразительные"})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("span",{className:"settings-label",children:"Скругление"}),s.jsxs("div",{className:"settings-seg",children:[s.jsx("button",{type:"button",className:`settings-seg__item ${N==="subtle"?"is-active":""}`,onClick:()=>v("subtle"),children:"Сдержанное"}),s.jsx("button",{type:"button",className:`settings-seg__item ${N==="standard"?"is-active":""}`,onClick:()=>v("standard"),children:"Стандартное"}),s.jsx("button",{type:"button",className:`settings-seg__item ${N==="rounded"?"is-active":""}`,onClick:()=>v("rounded"),children:"Закруглённое"})]})]})]}),s.jsxs(h,{title:"Цвет акцента",desc:"Выберите основной цвет акцента для кнопок и ссылок.",children:[s.jsx("div",{className:"accent-grid",children:bs.map(e=>{const t=q[e];return s.jsx("button",{className:`accent-swatch ${S===e?"is-active":""}`,style:{"--sw1":t==null?void 0:t[500],"--sw2":t==null?void 0:t[600]},title:e,onClick:()=>ds(e)},e)})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("input",{type:"color",value:C,onChange:e=>P(e.target.value),className:"input w-24",title:"Пользовательский акцент"}),s.jsx("input",{type:"text",value:C,onChange:e=>P(e.target.value),className:"input w-40",placeholder:"#RRGGBB"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>P(C),children:"Применить"})]})]}),s.jsxs(h,{title:"Фон и обои",desc:"Настройте фон для классического стиля. В режиме Liquid фон не изменяется.",children:[n&&s.jsx("p",{className:"settings-help",children:"В режиме Liquid Glass фон берётся из темы/настроек пользователя."}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-4",children:[s.jsx("button",{type:"button",onClick:()=>J("none"),className:`settings-bg-tile ${c==="none"?"is-active":""}`,children:s.jsx("span",{children:"Без фона"})}),Rs.map(e=>s.jsx("button",{type:"button",title:e.toUpperCase(),onClick:()=>J(e),className:`settings-bg-tile ${c===e?"is-active":""}`,style:{backgroundImage:`url("${p[e]}")`}},e))]}),!n&&s.jsxs("div",{className:"settings-bg-controls",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-label",children:"Интенсивность затемнения"}),s.jsx("input",{type:"range",min:0,max:.85,step:.05,value:d,onChange:e=>gs(parseFloat(e.target.value)),className:"slider"})]}),s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:g,onChange:e=>ms(e.target.checked)})," Фиксированный фон"]}),s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:m,onChange:e=>hs(e.target.checked)})," Умное затемнение"]})]})]}),s.jsx(h,{title:"Сброс",desc:"Сбросить настройки темы и интерфейса к значениям по умолчанию.",children:s.jsx("button",{type:"button",onClick:xs,className:"btn btn-primary",children:"Сбросить персонализацию"})}),s.jsx(h,{title:"Чебзик",desc:"Мини-игра с нашим мультяшным другом. Кормите его и общайтесь!",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(X,{to:"/buddy",className:"btn btn-primary",children:"Открыть игру"}),s.jsx("span",{className:"text-sm text-[color:var(--text-2)]",children:"Игра открывается на отдельной странице."})]})})]})]})})}export{zs as default};
